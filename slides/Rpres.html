<!DOCTYPE html>
<html lang="en"><head>
<script src="../presentation_files/libs/clipboard/clipboard.min.js"></script>
<script src="../presentation_files/libs/quarto-html/tabby.min.js"></script>
<script src="../presentation_files/libs/quarto-html/popper.min.js"></script>
<script src="../presentation_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="../presentation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../presentation_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../presentation_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../presentation_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Ismail SEZEN">
  <meta name="dcterms.date" content="2023-12-08">
  <title>Introduction to R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../presentation_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../presentation_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../presentation_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="../presentation_files/mystyle.css">
  <link href="../presentation_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../presentation_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../presentation_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../presentation_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../presentation_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../presentation_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction to R</h1>
  <p class="subtitle">for Environmental Sciences</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ismail SEZEN 
</div>
        <p class="quarto-title-affiliation">
            </p><p>Istanbul Technical University</p>
            <p>Eurasia Institute of Earth Sciences</p>
          <p></p>
    </div>
</div>

  <p class="date">December 8, 2023</p>
</section>
<section id="resources" class="title-slide slide level1 center">
<h1>Resources</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><a href="http://cran.us.r-project.org/doc/manuals/R-intro.pdf">An introduction to R</a> (Book)</li>
<li><a href="https://www.cs.upc.edu/~robert/teaching/estadistica/TheRBook.pdf">The R Book</a> (Book)</li>
<li><a href="google.com">Ask to google</a> (Best)</li>
<li><a href="https://www.r-project.org/mail.html">R-help maling list</a>
<ul>
<li><a href="https://stat.ethz.ch/mailman/listinfo/r-help">Subscribe</a></li>
<li><a href="https://www.r-project.org/posting-guide.html">How to ask a good question?</a></li>
<li>Do NOT ask for your homework!</li>
</ul></li>
<li><a href="http://tryr.codeschool.com">Try R</a></li>
<li><a href="http://www.tutorialspoint.com/r/">R Tutorials</a></li>
</ul>
</div><div class="column" style="width:50%;">
<p>How to get help from R?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help.start</span>()</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(lm)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>?lm</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">example</span>(lm)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>?help</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="homeworks-data" class="title-slide slide level1 center">
<h1>Homeworks &amp; Data</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Homeworks
<ul>
<li><a href="../homeworks/hw1.pdf">#1</a></li>
<li><a href="../homeworks/hw2.pdf">#2</a></li>
<li><a href="../homeworks/hw3.pdf">#3</a></li>
<li><a href="../homeworks/hw4.pdf">#4</a></li>
<li><a href="../homeworks/hw5.pdf">#5</a></li>
<li><a href="../homeworks/hw6.pdf">#6</a></li>
</ul></li>
<li>Data
<ul>
<li><a href="../data/data.txt">data.txt</a></li>
<li><a href="../data/pm10.csv">pm10.csv</a></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Notes:</strong></p>
<ul>
<li>Please, email your answers privately to <strong>sezenismail at gmail com</strong>.</li>
<li>Answers/codes should be in a text file named <code>hwX_your_full_name.py</code>.</li>
<li>For each answer, write a comment line like <code># A1</code> and write your answer below.</li>
<li>Write your conclusions as <code># R comments</code> in the text file.</li>
<li>Do not use <code>for-loop</code> unless stated otherwise.</li>
</ul>
</div>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="preliminary" class="title-slide slide level1 center">
<h1>Preliminary</h1>
<p>R commands;</p>
<ul>
<li>are Case Sensitive</li>
<li>can be separated either by a semi-colon (‘;’), or by a newline.</li>
<li>Hash mark (‘#’) means <em>Comment</em> (is it required? <em>absolutely YES</em>)</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># this is a comment</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co"># Define a variable</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>A <span class="ot">=</span> <span class="dv">5</span>; a <span class="ot">=</span> <span class="dv">10</span> <span class="co"># R is case sensitive</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">

</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"A is"</span>, A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A is 5"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"a is"</span>, a))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a is 10"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"A and a are equal? = "</span>, A <span class="sc">==</span> a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>A and a are equal? =  FALSE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"My name is"</span>, <span class="fu">Sys.info</span>()[<span class="st">"user"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>My name is isezen</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?print</code> | <code>?paste</code> | <code>?cat</code></p>
</div>
</div>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="data-permanency-and-removing-objects" class="title-slide slide level1 center">
<h1>Data permanency and removing objects</h1>
<p>The entities that R creates and manipulates are known as <em>objects</em>.</p>
<p><strong>Object:</strong> variables, arrays of numbers, character strings, functions or more general structures built from such components</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>() <span class="co"># list objects in the current session</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a"               "A"               "has_annotations"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(a) <span class="co"># remove object named a</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>() <span class="co"># list again to see what we have</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A"               "has_annotations"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(A) <span class="co"># print a to the console</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
<p><br></p>
<p>If you indicate that you want to do this, the objects are written to a file called <strong>.RData</strong> in the current directory, and the command lines used in the session are saved to a file called <strong>.Rhistory</strong>.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?ls</code> | <code>?rm</code></p>
</div>
</div>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>

<section>
<section id="simple-manipulations" class="title-slide slide level1 center">
<h1>Simple Manipulations</h1>
<ul>
<li>Assignment</li>
<li>Vector arithmetic</li>
<li>Generate regular sequences</li>
<li>Repeat an object</li>
<li>Logical Vectors</li>
<li>Missing Values</li>
<li>Character vectors</li>
<li>Indexing, selecting and modifying</li>
</ul>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="assignment" class="title-slide slide level2 center">
<h2>Assignment</h2>
<p>Use always <code>-&gt;</code> or <code>&lt;-</code> symbol combination if you intend to an assignment</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Assignment</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.4</span>, <span class="fl">5.6</span>, <span class="fl">3.1</span>, <span class="fl">6.4</span>, <span class="fl">21.7</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">assign</span>(<span class="st">"x"</span>, <span class="fu">c</span>(<span class="fl">10.4</span>, <span class="fl">5.6</span>, <span class="fl">3.1</span>, <span class="fl">6.4</span>, <span class="fl">21.7</span>))</span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="fu">c</span>(<span class="fl">10.4</span>, <span class="fl">5.6</span>, <span class="fl">3.1</span>, <span class="fl">6.4</span>, <span class="fl">21.7</span>) <span class="ot">-&gt;</span> x</span>
<span id="cb17-5"><a href="#cb17-5"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(x, <span class="dv">0</span>, x) <span class="co"># c is abbreviation for combine</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10.4  5.6  3.1  6.4 21.7  0.0 10.4  5.6  3.1  6.4 21.7</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.09615385 0.17857143 0.32258065 0.15625000 0.04608295</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?c</code> | <code>?assign</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="vector-arithmetic" class="title-slide slide level2 center">
<h2>Vector arithmetic</h2>
<p>The elementary arithmetic operators: <strong>+</strong>, <strong>-</strong>,_*_, <strong>/</strong> and <strong>^</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>x <span class="sc">^</span> <span class="dv">2</span> <span class="co"># take the square</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">sqrt</span>(y) <span class="co"># square root</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>x<span class="sc">/</span>y</span>
<span id="cb22-4"><a href="#cb22-4"></a>v <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>x <span class="sc">+</span> y <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="fu">length</span>(v) <span class="co"># what is the length of v? why?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Shorter vectors in the expression are recycled as often as need be (perhaps fractionally) until they match the length of the longest vector.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>??"arithmetic operations"</code> | <code>?log</code> | <code>?exp</code> | <code>?sin</code> | <code>?cos</code> | <code>?tan</code> | <code>?sqrt</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="vector-arithmetic-1" class="title-slide slide level2 center">
<h2>Vector arithmetic</h2>
<p>anything else? (max, min, sum, mean, var, std)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">sum</span>(x) <span class="co"># sum of values in x vector</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="fu">sum</span>(x)<span class="sc">/</span><span class="fu">length</span>(x) <span class="co"># calculate mean</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="fu">mean</span>(x) <span class="co"># easier mean calculation</span></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="fu">min</span>(x); <span class="fu">max</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?var</code> | <code>?sd</code> | <code>?range</code> | <code>?sort</code> | <code>?order</code> | <code>?mean</code> | <code>?sum</code> | <code>?summary</code> | <code>?abs</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="generate-regular-sequences" class="title-slide slide level2 center">
<h2>Generate regular sequences</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">:</span><span class="dv">17</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  5  6  7  8  9 10 11 12 13 14 15 16 17</code></pre>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5.0 -4.8 -4.6 -4.4 -4.2 -4.0 -3.8 -3.6 -3.4 -3.2 -3.0
[12] -2.8 -2.6 -2.4 -2.2 -2.0 -1.8 -1.6 -1.4 -1.2 -1.0 -0.8
[23] -0.6 -0.4 -0.2  0.0  0.2  0.4  0.6  0.8  1.0  1.2  1.4
[34]  1.6  1.8  2.0  2.2  2.4  2.6  2.8  3.0  3.2  3.4  3.6
[45]  3.8  4.0  4.2  4.4  4.6  4.8  5.0</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb28" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">length =</span> <span class="dv">51</span>, <span class="at">from =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5.0 -4.8 -4.6 -4.4 -4.2 -4.0 -3.8 -3.6 -3.4 -3.2 -3.0
[12] -2.8 -2.6 -2.4 -2.2 -2.0 -1.8 -1.6 -1.4 -1.2 -1.0 -0.8
[23] -0.6 -0.4 -0.2  0.0  0.2  0.4  0.6  0.8  1.0  1.2  1.4
[34]  1.6  1.8  2.0  2.2  2.4  2.6  2.8  3.0  3.2  3.4  3.6
[45]  3.8  4.0  4.2  4.4  4.6  4.8  5.0</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?seq</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="repeat-an-object" class="title-slide slide level2 center">
<h2>Repeat an object</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(x, <span class="at">times =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10.4  5.6  3.1  6.4 21.7 10.4  5.6  3.1  6.4 21.7 10.4
[12]  5.6  3.1  6.4 21.7 10.4  5.6  3.1  6.4 21.7 10.4  5.6
[23]  3.1  6.4 21.7</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(x, <span class="at">each =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10.4 10.4 10.4 10.4 10.4  5.6  5.6  5.6  5.6  5.6  3.1
[12]  3.1  3.1  3.1  3.1  6.4  6.4  6.4  6.4  6.4 21.7 21.7
[23] 21.7 21.7 21.7</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?rep</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="logical-vectors" class="title-slide slide level2 center">
<h2>Logical Vectors</h2>
<ul>
<li>The elements of a logical vector can have the values <code>TRUE</code>, <code>FALSE</code>, and <code>NA</code> (for “not available”).</li>
<li>Always use <code>TRUE</code> and <code>FALSE</code>, not <code>T</code> and <code>F</code>.</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb34" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb36" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">13</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE FALSE  TRUE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb38" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(x <span class="sc">&gt;</span> <span class="dv">13</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0 0 0 1</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?"Comparison"</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="missing-values" class="title-slide slide level2 center">
<h2>Missing Values</h2>
<p>When an element or value is “not available” or a “missing value” in the statistical sense, a place within a vector may be reserved for it by assigning it the special value <code>NA</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="cn">NA</span>) <span class="co"># a vector contains an NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb41" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(z) <span class="co"># which element(s) of z is NA?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE  TRUE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb43" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>z <span class="sc">==</span> <span class="cn">NA</span> <span class="co"># wrong way!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA NA NA NA</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb45" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span><span class="sc">/</span><span class="dv">0</span> <span class="co"># meaningless</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
</div>
<p><code>is.na(xx)</code> is <code>TRUE</code> both for <code>NA</code> and <code>NaN</code>.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?is.na</code> | <code>?is.finite</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="character-vectors" class="title-slide slide level2 center">
<h2>Character vectors</h2>
<p>they are denoted by a sequence of characters delimited by the double quote character.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>labs <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"X"</span>,<span class="st">"Y"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">print</span>(labs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "X1"  "Y2"  "X3"  "Y4"  "X5"  "Y6"  "X7"  "Y8"  "X9" 
[10] "Y10"</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?paste</code> | <code>?paste0</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="indexing-selecting-and-modifying" class="title-slide slide level2 center">
<h2>Indexing, selecting and modifying</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x) <span class="co"># What was x?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.4  5.6  3.1  6.4 21.7</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>x[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span> <span class="co"># set 3th element of x to NA</span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.4  5.6   NA  6.4 21.7</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb53" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="fu">is.na</span>(x) <span class="co"># The ones that are not NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE  TRUE  TRUE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb55" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>(non_na_x <span class="ot">&lt;-</span> x[<span class="sc">!</span><span class="fu">is.na</span>(x)]) <span class="co">#non-NA values of x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.4  5.6  6.4 21.7</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?`[[`</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="indexing-selecting-and-modifying-1" class="title-slide slide level2 center">
<h2>Indexing, selecting and modifying</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="co"># create a random integer array to</span></span>
<span id="cb57-2"><a href="#cb57-2"></a><span class="co"># represent month</span></span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="fu">set.seed</span>(<span class="dv">2</span>) <span class="co"># set seed for reproducibility</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>month <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">runif</span>(<span class="dv">30</span>, <span class="dv">1</span>, <span class="dv">12</span>))</span>
<span id="cb57-5"><a href="#cb57-5"></a><span class="co"># get month names</span></span>
<span id="cb57-6"><a href="#cb57-6"></a>(char_month <span class="ot">&lt;-</span> month.abb[month])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Mar" "Sep" "Jul" "Mar" "Nov" "Nov" "Feb" "Oct" "Jun"
[10] "Jul" "Jul" "Apr" "Sep" "Mar" "May" "Oct" "Dec" "Mar"
[19] "Jun" "Feb" "Aug" "May" "Oct" "Mar" "May" "Jun" "Mar"
[28] "May" "Dec" "Feb"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(char_month <span class="sc">==</span> <span class="st">"Jun"</span>) <span class="co"># Which are June?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 19 26</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb61" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(month <span class="sc">==</span> <span class="dv">6</span>) <span class="co"># same as above</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 19 26</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?set.seed</code> | <code>?runif</code> | <code>?round</code> | <code>?which</code> | <code>?which.max</code> | <code>?which.min</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="indexing-selecting-and-modifying-2" class="title-slide slide level2 center">
<h2>Indexing, selecting and modifying</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb63" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>(char_month[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>]) <span class="co"># select first 12 months</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Mar" "Sep" "Jul" "Mar" "Nov" "Nov" "Feb" "Oct" "Jun"
[10] "Jul" "Jul" "Apr"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb65" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>(char_month[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)]) <span class="co"># exclude first 20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Aug" "May" "Oct" "Mar" "May" "Jun" "Mar" "May" "Dec"
[10] "Feb"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="co"># exclude June from vector</span></span>
<span id="cb67-2"><a href="#cb67-2"></a>(char_month[<span class="sc">-</span><span class="fu">which</span>(month <span class="sc">==</span> <span class="dv">6</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Mar" "Sep" "Jul" "Mar" "Nov" "Nov" "Feb" "Oct" "Jul"
[10] "Jul" "Apr" "Sep" "Mar" "May" "Oct" "Dec" "Mar" "Feb"
[19] "Aug" "May" "Oct" "Mar" "May" "Mar" "May" "Dec" "Feb"</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="indexing-selecting-and-modifying-3" class="title-slide slide level2 center">
<h2>Indexing, selecting and modifying</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co"># use months and month names together</span></span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="co"># set names of month</span></span>
<span id="cb69-3"><a href="#cb69-3"></a><span class="fu">names</span>(month) <span class="ot">&lt;-</span> char_month</span>
<span id="cb69-4"><a href="#cb69-4"></a><span class="fu">print</span>(month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>Mar Sep Jul Mar Nov Nov Feb Oct Jun Jul Jul Apr Sep Mar May 
  3   9   7   3  11  11   2  10   6   7   7   4   9   3   5 
Oct Dec Mar Jun Feb Aug May Oct Mar May Jun Mar May Dec Feb 
 10  12   3   6   2   8   5  10   3   5   6   3   5  12   2 </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb71" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>(month[(month <span class="sc">==</span> <span class="dv">6</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>Jun Jun Jun 
  6   6   6 </code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?names</code> | <code>?colnames</code> | <code>?rownames</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Simple Manipulations</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="complex-data-types-objects" class="title-slide slide level1 center">
<h1>Complex Data Types (Objects)</h1>
<ul>
<li>Atomic Objects</li>
<li>Other types of objects
<ul>
<li>Factors</li>
<li>Matrices/Arrays</li>
<li>Lists</li>
<li>Data frames <span class="gray">(A combination of <em>matrix</em> and <em>List</em>, but columns can be of different types)</span></li>
</ul></li>
</ul>
<div class="footer">
<p>Complex Data Types</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="atomic-objects" class="title-slide slide level2 center">
<h2>Atomic Objects</h2>
<ul>
<li>Atomic objects are all of the same type. <span class="gray">(numeric, complex, logical, character …)</span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>(z <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0 1 2 3 4 5 6 7 8 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>(digits <span class="ot">&lt;-</span> <span class="fu">as.character</span>(z))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "0" "1" "2" "3" "4" "5" "6" "7" "8" "9"</code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?as.numeric</code> | <code>?as.character</code> | <code>?as.logical</code> | <code>?as.matrix</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="other-types-of-objects" class="title-slide slide level2 center">
<h2>Other types of objects</h2>
<ul>
<li>Factors</li>
<li>Matrices/Arrays</li>
<li>Lists</li>
<li>Data frames <span class="gray">(A combination of <em>matrix</em> and <em>List</em>, but columns can be of different types)</span></li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?matrix</code> | <code>?factor</code> | <code>?list</code> | <code>?data.frame</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="factors" class="title-slide slide level2 center">
<h2>Factors</h2>
<p>A factor is a vector object used to specify a discrete classification (grouping) of the components of other vectors of the same length. R provides both ordered and un-ordered factors.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">3</span>) <span class="co"># print only 3 digits</span></span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># set seed for reproducibility</span></span>
<span id="cb77-3"><a href="#cb77-3"></a><span class="co"># simulate pm10 distribution</span></span>
<span id="cb77-4"><a href="#cb77-4"></a>pm10 <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="sc">^</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="fl">1.6</span>, <span class="fl">0.27</span>)</span>
<span id="cb77-5"><a href="#cb77-5"></a><span class="co"># higher values than 40 ug/m^3</span></span>
<span id="cb77-6"><a href="#cb77-6"></a>pm10 <span class="ot">&lt;-</span> pm10[pm10 <span class="sc">&gt;</span> <span class="dv">40</span>]</span>
<span id="cb77-7"><a href="#cb77-7"></a>regions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mar"</span>, <span class="st">"ege"</span>, <span class="st">"kdz"</span>, <span class="st">"ica"</span>,</span>
<span id="cb77-8"><a href="#cb77-8"></a>             <span class="st">"akd"</span>, <span class="st">"dga"</span>, <span class="st">"gda"</span>)</span>
<span id="cb77-9"><a href="#cb77-9"></a>reg <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb77-10"><a href="#cb77-10"></a>  <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(regions), <span class="fu">length</span>(pm10),</span>
<span id="cb77-11"><a href="#cb77-11"></a>         <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb77-12"><a href="#cb77-12"></a><span class="fu">levels</span>(reg) <span class="ot">&lt;-</span> regions</span>
<span id="cb77-13"><a href="#cb77-13"></a><span class="fu">head</span>(<span class="fu">data.frame</span>(reg, pm10), <span class="dv">11</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>   reg  pm10
1  ica  44.6
2  ege 107.3
3  akd  48.9
4  ege  53.9
5  ege  63.0
6  ege  56.9
7  kdz 101.9
8  mar  50.7
9  ege  80.1
10 kdz  71.6
11 gda  66.3</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="co"># means by region</span></span>
<span id="cb79-2"><a href="#cb79-2"></a><span class="fu">tapply</span>(pm10, reg, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> mar  ege  kdz  ica  akd  dga  gda 
59.5 65.6 65.9 69.6 71.6 69.6 80.2 </code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="arrays" class="title-slide slide level2 center">
<h2>Arrays</h2>
<ul>
<li>Vectors are one dimensional <span class="gray">(Single type)</span></li>
<li>Matrices and data frames are two dimensional <span class="gray">(Single type)</span></li>
<li>Arrays can hold more dimensions. <span class="gray">(Single type)</span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>arr3d <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>),</span>
<span id="cb81-2"><a href="#cb81-2"></a>                <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb81-3"><a href="#cb81-3"></a>                  <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>, <span class="st">"four"</span>),</span>
<span id="cb81-4"><a href="#cb81-4"></a>                  <span class="fu">c</span>(<span class="st">"ein"</span>, <span class="st">"zwei"</span>, <span class="st">"drei"</span>),</span>
<span id="cb81-5"><a href="#cb81-5"></a>                  <span class="fu">c</span>(<span class="st">"un"</span>, <span class="st">"deux"</span>)))</span>
<span id="cb81-6"><a href="#cb81-6"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb81-7"><a href="#cb81-7"></a>              <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb81-8"><a href="#cb81-8"></a>                <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>, <span class="st">"four"</span>),</span>
<span id="cb81-9"><a href="#cb81-9"></a>                <span class="fu">c</span>(<span class="st">"ein"</span>, <span class="st">"zwei"</span>, <span class="st">"drei"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">class</span>(arr3d); <span class="fu">class</span>(mat) <span class="co"># class of object</span></span>
<span id="cb82-2"><a href="#cb82-2"></a><span class="fu">length</span>(arr3d); <span class="fu">length</span>(mat) <span class="co"># length of object</span></span>
<span id="cb82-3"><a href="#cb82-3"></a><span class="fu">dim</span>(arr3d); <span class="fu">dim</span>(mat) <span class="co"># dimensions</span></span>
<span id="cb82-4"><a href="#cb82-4"></a><span class="fu">nrow</span>(arr3d); <span class="fu">nrow</span>(mat) <span class="co"># number of rows</span></span>
<span id="cb82-5"><a href="#cb82-5"></a><span class="fu">ncol</span>(arr3d); <span class="fu">ncol</span>(mat) <span class="co"># number of columns</span></span>
<span id="cb82-6"><a href="#cb82-6"></a><span class="fu">rownames</span>(arr3d); <span class="fu">rownames</span>(mat)</span>
<span id="cb82-7"><a href="#cb82-7"></a><span class="fu">colnames</span>(arr3d); <span class="fu">colnames</span>(mat)</span>
<span id="cb82-8"><a href="#cb82-8"></a><span class="fu">dimnames</span>(arr3d); <span class="fu">dimnames</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Complex Data Types</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="indexing" class="title-slide slide level3 center">
<h3>Indexing</h3>
<p>Indexing: <span style="color: blue;">array[row, column, …]</span></p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">print</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>      ein zwei drei
one     1    2    3
two     4    5    6
three   7    8    9
four   10   11   12</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>mat[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>    zwei drei
one    2    3
two    5    6</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>mat[,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>  one   two three  four 
    2     5     8    11 </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>mat[,<span class="st">"zwei"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>  one   two three  four 
    2     5     8    11 </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">class</span>(mat[,<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="fu">class</span>(mat[,<span class="dv">2</span>, <span class="at">drop =</span> F])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types - Arrays</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="combining" class="title-slide slide level3 center">
<h3>Combining</h3>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="co"># Example matrix</span></span>
<span id="cb95-2"><a href="#cb95-2"></a>mat2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">seq.int</span>(<span class="dv">2</span>, <span class="dv">24</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">4</span>,</span>
<span id="cb95-3"><a href="#cb95-3"></a>               <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb95-4"><a href="#cb95-4"></a>                 <span class="fu">c</span>(<span class="st">"five"</span>, <span class="st">"six"</span>, <span class="st">"seven"</span>, <span class="st">"eight"</span>),</span>
<span id="cb95-5"><a href="#cb95-5"></a>                 <span class="fu">c</span>(<span class="st">"vier"</span>, <span class="st">"funf"</span>, <span class="st">"sechs"</span>)))</span>
<span id="cb95-6"><a href="#cb95-6"></a><span class="fu">rbind</span>(mat, mat2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>      ein zwei drei
one     1    2    3
two     4    5    6
three   7    8    9
four   10   11   12
five    2   10   18
six     4   12   20
seven   6   14   22
eight   8   16   24</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">cbind</span>(mat, mat2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>      ein zwei drei vier funf sechs
one     1    2    3    2   10    18
two     4    5    6    4   12    20
three   7    8    9    6   14    22
four   10   11   12    8   16    24</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?rbind</code> | <code>?cbind</code> | <code>?c</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types - Arrays</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="arithmetic" class="title-slide slide level3 center">
<h3>Arithmetic</h3>
<div class="columns">
<div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ein zwei drei
one     1    2    3
two     4    5    6
three   7    8    9
four   10   11   12</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>mat2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      vier funf sechs
five     2   10    18
six      4   12    20
seven    6   14    22
eight    8   16    24</code></pre>
</div>
</div>
</div><div class="column" style="width:34%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>mat <span class="sc">+</span> mat2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ein zwei drei
one     3   12   21
two     8   17   26
three  13   22   31
four   18   27   36</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>mat <span class="sc">%*%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># matrix multiplication</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]
one     14
two     32
three   50
four    68</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>mat <span class="sc">/</span> mat2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       ein  zwei  drei
one   0.50 0.200 0.167
two   1.00 0.417 0.300
three 1.17 0.571 0.409
four  1.25 0.688 0.500</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">diag</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 5 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">diag</span>(mat) <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># set diagonal to zero</span></span>
<span id="cb111-2"><a href="#cb111-2"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ein zwei drei
one     0    2    3
two     4    0    6
three   7    8    0
four   10   11   12</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?t</code> | <code>?aperm</code> | <code>?diag</code> | <code>?`%*%`</code> | <code>?`%o%`</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types - Arrays</p>
</div>
<!----------------------------------------------------------------------------->
</section>


<section id="lists" class="title-slide slide level2 center">
<h2>Lists</h2>
<ul>
<li>An object consisting of an ordered collection of objects</li>
<li>There is no particular need for the components to be of the same mode or type</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a><span class="co"># Define/create a list object</span></span>
<span id="cb113-2"><a href="#cb113-2"></a>Lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="st">"John"</span>,</span>
<span id="cb113-3"><a href="#cb113-3"></a>            <span class="at">wife =</span> <span class="st">"Mary"</span>,</span>
<span id="cb113-4"><a href="#cb113-4"></a>            <span class="at">no.children =</span> <span class="dv">3</span>,</span>
<span id="cb113-5"><a href="#cb113-5"></a>            <span class="at">child.ages =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">9</span>))</span>
<span id="cb113-6"><a href="#cb113-6"></a><span class="fu">str</span>(Lst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>List of 4
 $ name       : chr "John"
 $ wife       : chr "Mary"
 $ no.children: num 3
 $ child.ages : num [1:3] 4 7 9</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>Lst<span class="sc">$</span>name <span class="co"># equal to Lst[[1]]</span></span>
<span id="cb115-2"><a href="#cb115-2"></a>Lst[[<span class="dv">4</span>]] <span class="co"># equal to Lst$child.ages</span></span>
<span id="cb115-3"><a href="#cb115-3"></a>Lst[[<span class="st">"wife"</span>]] <span class="co"># same as Lst$wife</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "John"
[1] 4 7 9
[1] "Mary"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">names</span>(Lst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"        "wife"        "no.children" "child.ages" </code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="constructing-and-modifying-lists" class="title-slide slide level3 center">
<h3>Constructing and modifying lists</h3>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>Lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">pm10 =</span> pm10, <span class="at">region =</span> reg)</span>
<span id="cb119-2"><a href="#cb119-2"></a><span class="fu">str</span>(Lst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>List of 2
 $ pm10  : num [1:53] 44.6 107.3 48.9 53.9 63 ...
 $ region: Factor w/ 7 levels "mar","ege","kdz",..: 4 2 5 2 2 2 3 1 2 3 ...</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a><span class="fu">head</span>(<span class="fu">as.data.frame</span>(Lst))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>   pm10 region
1  44.6    ica
2 107.3    ege
3  48.9    akd
4  53.9    ege
5  63.0    ege
6  56.9    ege</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?list</code> | <code>?str</code> | <code>?as.data.frame</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types - Lists</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="concatenating-lists" class="title-slide slide level3 center">
<h3>Concatenating lists</h3>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>list.A <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="st">"John"</span>, <span class="at">married =</span> T,</span>
<span id="cb123-2"><a href="#cb123-2"></a>               <span class="at">child.count =</span> <span class="dv">3</span>)</span>
<span id="cb123-3"><a href="#cb123-3"></a>list.B <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="st">"Jenny"</span>, <span class="at">married =</span> F)</span>
<span id="cb123-4"><a href="#cb123-4"></a><span class="co"># Combine 2 lists</span></span>
<span id="cb123-5"><a href="#cb123-5"></a>Lst <span class="ot">&lt;-</span> <span class="fu">c</span>(list.A, list.B)</span>
<span id="cb123-6"><a href="#cb123-6"></a><span class="fu">str</span>(Lst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>List of 5
 $ name       : chr "John"
 $ married    : logi TRUE
 $ child.count: num 3
 $ name       : chr "Jenny"
 $ married    : logi FALSE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a><span class="fu">head</span>(<span class="fu">as.data.frame</span>(Lst))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>  name married child.count name.1 married.1
1 John    TRUE           3  Jenny     FALSE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>Lst<span class="sc">$</span>name <span class="co"># which one? John or Jenny</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "John"</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types - Lists</p>
</div>
<!----------------------------------------------------------------------------->
</section>


<section id="data-frames" class="title-slide slide level2 center">
<h2>Data frames</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a><span class="co"># Create a data.frame object</span></span>
<span id="cb129-2"><a href="#cb129-2"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pm10 =</span> pm10, <span class="at">region =</span> reg)</span>
<span id="cb129-3"><a href="#cb129-3"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   53 obs. of  2 variables:
 $ pm10  : num  44.6 107.3 48.9 53.9 63 ...
 $ region: Factor w/ 7 levels "mar","ege","kdz",..: 4 2 5 2 2 2 3 1 2 3 ...</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>   pm10 region
1  44.6    ica
2 107.3    ege
3  48.9    akd
4  53.9    ege
5  63.0    ege
6  56.9    ege</code></pre>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?list</code> | <code>?str</code> | <code>?as.data.frame</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Complex Data Types</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="reading-data-from-files" class="title-slide slide level1 center">
<h1>Reading data from files</h1>
<ul>
<li>read.table</li>
<li>read.csv</li>
<li>Best Practices</li>
</ul>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="read.tablei" class="title-slide slide level2 center">
<h2>read.table/I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a><span class="co"># Read data from text file</span></span>
<span id="cb133-2"><a href="#cb133-2"></a>dt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"data.txt"</span>)</span>
<span id="cb133-3"><a href="#cb133-3"></a><span class="fu">class</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
</div>
</div>
<hr>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a><span class="fu">str</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   9 obs. of  5 variables:
 $ V1: int  100 200 300 400 500 600 700 800 900
 $ V2: chr  "a1" "a2" "a3" "a4" ...
 $ V3: chr  "b1" "b2" "b3" "b4" ...
 $ V4: logi  TRUE TRUE FALSE FALSE FALSE TRUE ...
 $ V5: chr  "x" "x" "x" "y" ...</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">head</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   V1 V2 V3    V4 V5
1 100 a1 b1  TRUE  x
2 200 a2 b2  TRUE  x
3 300 a3 b3 FALSE  x
4 400 a4 b4 FALSE  y
5 500 a5 b5 FALSE  y
6 600 a6 b6  TRUE  y</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?read.table</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="read.tableii" class="title-slide slide level2 center">
<h2>read.table/II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a>dt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"data.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1"></a>dt2 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"data.txt"</span>,</span>
<span id="cb140-2"><a href="#cb140-2"></a>                  <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">str</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   9 obs. of  5 variables:
 $ V1: int  100 200 300 400 500 600 700 800 900
 $ V2: chr  "a1" "a2" "a3" "a4" ...
 $ V3: chr  "b1" "b2" "b3" "b4" ...
 $ V4: logi  TRUE TRUE FALSE FALSE FALSE TRUE ...
 $ V5: chr  "x" "x" "x" "y" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="fu">head</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   V1 V2 V3    V4 V5
1 100 a1 b1  TRUE  x
2 200 a2 b2  TRUE  x
3 300 a3 b3 FALSE  x
4 400 a4 b4 FALSE  y
5 500 a5 b5 FALSE  y
6 600 a6 b6  TRUE  y</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="fu">str</span>(dt2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   9 obs. of  5 variables:
 $ V1: int  100 200 300 400 500 600 700 800 900
 $ V2: Factor w/ 9 levels "a1","a2","a3",..: 1 2 3 4 5 6 7 8 9
 $ V3: Factor w/ 9 levels "b1","b2","b3",..: 1 2 3 4 5 6 7 8 9
 $ V4: logi  TRUE TRUE FALSE FALSE FALSE TRUE ...
 $ V5: Factor w/ 3 levels "x","y","z": 1 1 1 2 2 2 1 3 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="fu">head</span>(dt2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   V1 V2 V3    V4 V5
1 100 a1 b1  TRUE  x
2 200 a2 b2  TRUE  x
3 300 a3 b3 FALSE  x
4 400 a4 b4 FALSE  y
5 500 a5 b5 FALSE  y
6 600 a6 b6  TRUE  y</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?read.table</code> | <code>?factor</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="read.csvi" class="title-slide slide level2 center">
<h2>read.csv/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a><span class="co"># read csv file as a data.frame</span></span>
<span id="cb149-2"><a href="#cb149-2"></a>dt.pm10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"pm10.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb149-3"><a href="#cb149-3"></a><span class="co"># or use read.csv2</span></span>
<span id="cb149-4"><a href="#cb149-4"></a><span class="fu">class</span>(dt.pm10) <span class="co"># "data.frame"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1"></a><span class="fu">head</span>(dt.pm10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Date sta1 sta2 sta3 sta4 sta5
1 2008-01-01 00:00:00   NA 36.6 56.9   NA 51.6
2 2008-01-01 01:00:00   NA 30.5 45.8   NA 40.4
3 2008-01-01 02:00:00   NA 33.3 25.3   NA 78.9
4 2008-01-01 03:00:00   NA   NA 20.4   NA 39.4
5 2008-01-01 04:00:00   NA 35.0 35.1   NA 54.6
6 2008-01-01 05:00:00 18.1 29.5 23.7   NA 24.3</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1"></a><span class="fu">str</span>(dt.pm10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   43848 obs. of  6 variables:
 $ Date: chr  "2008-01-01 00:00:00" "2008-01-01 01:00:00" "2008-01-01 02:00:00" "2008-01-01 03:00:00" ...
 $ sta1: num  NA NA NA NA NA 18.1 NA 13.1 NA 28.2 ...
 $ sta2: num  36.6 30.5 33.3 NA 35 29.5 17 39.8 43.5 66.5 ...
 $ sta3: num  56.9 45.8 25.3 20.4 35.1 23.7 44 47.2 NA 38.4 ...
 $ sta4: num  NA NA NA NA NA NA NA NA NA NA ...
 $ sta5: num  51.6 40.4 78.9 39.4 54.6 24.3 16.8 NA 49.7 20.3 ...</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?read.csv</code> | <code>?read.csv2</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="read.csvii" class="title-slide slide level2 center">
<h2>read.csv/II</h2>
<p>Set column classes at first. But note that we lost the time information. Why?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1"></a><span class="co"># Sys.setenv(TZ='GMT')</span></span>
<span id="cb154-2"><a href="#cb154-2"></a>dt.pm10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"pm10.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>,</span>
<span id="cb154-3"><a href="#cb154-3"></a>               <span class="at">colClasses =</span> <span class="fu">c</span>(<span class="st">"POSIXct"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>,</span>
<span id="cb154-4"><a href="#cb154-4"></a>                              <span class="st">"numeric"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">str</span>(dt.pm10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   43848 obs. of  6 variables:
 $ Date: POSIXct, format: "2008-01-01" ...
 $ sta1: num  NA NA NA NA NA 18.1 NA 13.1 NA 28.2 ...
 $ sta2: num  36.6 30.5 33.3 NA 35 29.5 17 39.8 43.5 66.5 ...
 $ sta3: num  56.9 45.8 25.3 20.4 35.1 23.7 44 47.2 NA 38.4 ...
 $ sta4: num  NA NA NA NA NA NA NA NA NA NA ...
 $ sta5: num  51.6 40.4 78.9 39.4 54.6 24.3 16.8 NA 49.7 20.3 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="fu">head</span>(dt.pm10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Date sta1 sta2 sta3 sta4 sta5
1 2008-01-01   NA 36.6 56.9   NA 51.6
2 2008-01-01   NA 30.5 45.8   NA 40.4
3 2008-01-01   NA 33.3 25.3   NA 78.9
4 2008-01-01   NA   NA 20.4   NA 39.4
5 2008-01-01   NA 35.0 35.1   NA 54.6
6 2008-01-01 18.1 29.5 23.7   NA 24.3</code></pre>
</div>
</div>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="read.csviii" class="title-slide slide level2 center">
<h2>read.csv/III</h2>
<p>Because dates are not <em>UTC</em>. Daylight saving is a problem.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="fu">Sys.setenv</span>(<span class="at">TZ=</span><span class="st">'GMT'</span>)</span>
<span id="cb159-2"><a href="#cb159-2"></a>dt.pm10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"pm10.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>,</span>
<span id="cb159-3"><a href="#cb159-3"></a>               <span class="at">colClasses =</span> <span class="fu">c</span>(<span class="st">"POSIXct"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>,</span>
<span id="cb159-4"><a href="#cb159-4"></a>                              <span class="st">"numeric"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb159-5"><a href="#cb159-5"></a><span class="co"># Sys.setenv(TZ='EET')</span></span>
<span id="cb159-6"><a href="#cb159-6"></a><span class="fu">head</span>(dt.pm10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                 Date sta1 sta2 sta3 sta4 sta5
1 2008-01-01 00:00:00   NA 36.6 56.9   NA 51.6
2 2008-01-01 01:00:00   NA 30.5 45.8   NA 40.4
3 2008-01-01 02:00:00   NA 33.3 25.3   NA 78.9
4 2008-01-01 03:00:00   NA   NA 20.4   NA 39.4
5 2008-01-01 04:00:00   NA 35.0 35.1   NA 54.6
6 2008-01-01 05:00:00 18.1 29.5 23.7   NA 24.3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a>dt.pm10<span class="sc">$</span>Date[<span class="dv">2135</span><span class="sc">:</span><span class="dv">2140</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2008-03-29 22:00:00 GMT" "2008-03-29 23:00:00 GMT"
[3] "2008-03-30 00:00:00 GMT" "2008-03-30 01:00:00 GMT"
[5] "2008-03-30 02:00:00 GMT" "2008-03-30 03:00:00 GMT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="fu">Sys.setenv</span>(<span class="at">TZ =</span> <span class="st">'EET'</span>)</span>
<span id="cb163-2"><a href="#cb163-2"></a>dt.pm10<span class="sc">$</span>Date[<span class="dv">2135</span><span class="sc">:</span><span class="dv">2140</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2008-03-30 00:00:00 EET"  "2008-03-30 01:00:00 EET" 
[3] "2008-03-30 02:00:00 EET"  "2008-03-30 04:00:00 EEST"
[5] "2008-03-30 05:00:00 EEST" "2008-03-30 06:00:00 EEST"</code></pre>
</div>
</div>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="read.csv" class="title-slide slide level2 center">
<h2>read.csv</h2>
<p>Another approach to date time objects</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a>dt.pm10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"pm10.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb165-2"><a href="#cb165-2"></a><span class="co"># read date column as character</span></span>
<span id="cb165-3"><a href="#cb165-3"></a>dt.pm10<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">strptime</span>(dt.pm10<span class="sc">$</span>Date, <span class="st">"%Y-%m-%d %H:%M:%S"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1"></a><span class="fu">head</span>(dt.pm10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Date sta1 sta2 sta3 sta4 sta5
1 2008-01-01 00:00:00   NA 36.6 56.9   NA 51.6
2 2008-01-01 01:00:00   NA 30.5 45.8   NA 40.4
3 2008-01-01 02:00:00   NA 33.3 25.3   NA 78.9
4 2008-01-01 03:00:00   NA   NA 20.4   NA 39.4
5 2008-01-01 04:00:00   NA 35.0 35.1   NA 54.6
6 2008-01-01 05:00:00 18.1 29.5 23.7   NA 24.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a>dt.pm10<span class="sc">$</span>Date[<span class="dv">2135</span><span class="sc">:</span><span class="dv">2141</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2008-03-29 22:00:00 EET"  "2008-03-29 23:00:00 EET" 
[3] "2008-03-30 00:00:00 EET"  "2008-03-30 01:00:00 EET" 
[5] "2008-03-30 02:00:00 EET"  "2008-03-30 03:00:00"     
[7] "2008-03-30 04:00:00 EEST"</code></pre>
</div>
</div>
<p>This time you will loose timezone information at daylight saving transitions.</p>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="best-practices" class="title-slide slide level2 center">
<h2>Best practices</h2>
<ul>
<li>Do not struggle with excel files. Save them as <code>.csv</code>, then read.</li>
<li>Organize your csv file(s) before read.</li>
<li>Try to fix all possible error.</li>
<li>Convert your date-time information to <code>"%Y-%m-%d %H:%M:%S"</code> format.</li>
<li>Save data as <code>.rds</code> file and load it by <code>readRDS</code> function.</li>
<li>If you need to read similar multiple files, best create your own function to read.</li>
</ul>
<div class="footer">
<p>Reading Data from Files</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="r-packages" class="title-slide slide level1 center">
<h1>R Packages</h1>
<ol type="1">
<li>Overview</li>
<li>Installing and loading new R packages</li>
<li>Some popular R packages</li>
<li>Writing your own R package</li>
</ol>
<div class="footer">
<p>R Packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="overview" class="title-slide slide level2 center">
<h2>Overview</h2>
<p>An R package is essentially a collection of R functions, compiled code, and sample data. It adds extra functionality to R, allows users to perform a wide range of tasks. They are stored in repositories like <strong>CRAN</strong> (<em>Comprehensive R Archive Network</em>), where users can download and install them as needed.</p>
<ol type="1">
<li><p><strong>Functions and Datasets:</strong> Packages usually contain a set of functions to perform specific tasks and sometimes include datasets for examples and testing.</p></li>
<li><p><strong>Documentation:</strong> Each package comes with documentation explaining how to use the functions and data it contains.</p></li>
<li><p><strong>Compiled Code:</strong> Some packages include compiled code written in languages like <em>C</em>, <em>C++</em>, or <em>FORTRAN</em> for more efficient computation.</p></li>
<li><p><strong>Vignettes:</strong> Many packages include vignettes, which are detailed guides and tutorials on how to use the package.</p></li>
<li><p><strong>Dependencies:</strong> Packages can depend on other packages, meaning they require certain other packages to be installed to function properly.</p></li>
</ol>
<div class="footer">
<p>R Packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="installing-new-r-packages" class="title-slide slide level2 center">
<h2>Installing new R packages</h2>
<p>R has plenty of packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a><span class="fu">install.packages</span>(<span class="st">"rpart"</span>)</span>
<span id="cb170-2"><a href="#cb170-2"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>, <span class="st">"partykit"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>R Packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="loading-data-from-other-r-packages" class="title-slide slide level3 center">
<h3>Loading data from other R packages</h3>
<p>Almost all of the packages comes with their own sample data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a><span class="fu">data</span>(<span class="at">package=</span><span class="st">"rpart"</span>)</span>
<span id="cb171-2"><a href="#cb171-2"></a><span class="fu">data</span>(Puromycin, <span class="at">package=</span><span class="st">"datasets"</span>)</span>
<span id="cb171-3"><a href="#cb171-3"></a>?airquality</span>
<span id="cb171-4"><a href="#cb171-4"></a><span class="fu">edit</span>(airquality) <span class="co"># edit data if you need</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If a package has been attached by library, its datasets are automatically included in the search.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?data</code> | <code>?save</code> | <code>?dput</code> | <code>?saveRDS</code> | <code>?edit</code></p>
</div>
</div>
</div>
<div class="footer">
<p>R Packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>


<section id="some-popular-r-packages" class="title-slide slide level2 center">
<h2>Some popular R packages</h2>
<ul>
<li>Data Manipulation and Analysis</li>
<li>Graphics and Visualization</li>
<li>Statistical and Machine Learning</li>
<li>Spatial and Time Series Data</li>
<li>Web Technologies and APIs</li>
<li>Data Import/Export</li>
<li>Programming Tools</li>
</ul>
<div class="footer">
<p>R Packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="data-manipulation-and-analysis" class="title-slide slide level2 center">
<h2>Data Manipulation and Analysis</h2>
<ul>
<li><strong>dplyr</strong> - A grammar of data manipulation, focused on tools for working with data frames.</li>
<li><strong>plyr</strong> - Tools for splitting, applying, and combining data.</li>
<li><strong>tidyr</strong> - Tools for tidying data: turning messy datasets into structured ones.</li>
<li><strong>reshape2</strong> - Flexibly reshaping and pivoting data.</li>
<li><strong>data.table</strong> - Extension of data.frame for fast aggregation and manipulation.</li>
<li><strong>stringr</strong> - Consistent tools for working with strings (i.e., character vectors).</li>
<li><strong>magrittr</strong> - Provides a mechanism for chaining commands with a new forward-pipe operator, %&gt;%.</li>
<li><strong>zoo</strong> - Functions for time-indexed data.</li>
<li><strong>Matrix</strong> - Sparse and dense matrix classes and methods.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="data-manipulation-and-analysis-1" class="title-slide slide level2 center">
<h2>Data Manipulation and Analysis</h2>
<ul>
<li><strong>survival</strong> - Contains the core survival analysis routines.</li>
<li><strong>e1071</strong> - Functions for latent class analysis, short time Fourier transform, fuzzy clustering, etc.</li>
<li><strong>quantmod</strong> - Quantitative Financial Modelling Framework.</li>
<li><strong>tm</strong> - Text Mining package.</li>
<li><strong>rvest</strong> - Easily scrape (or harvest) web data.</li>
<li><strong>jsonlite</strong> - A robust and quick way to parse JSON files and APIs.</li>
<li><strong>Hmisc</strong> - Harrell miscellaneous, many functions for data analysis.</li>
<li><strong>haven</strong> - Import and export ‘SPSS’, ‘Stata’ and ‘SAS’ files.</li>
<li><strong>lubridate</strong> - Functions to work with dates and times.</li>
<li><strong>sqldf</strong> - Perform SQL selects on R data frames.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="data-manipulation-and-analysis-2" class="title-slide slide level2 center">
<h2>Data Manipulation and Analysis</h2>
<ul>
<li><strong>readxl</strong> - Read Excel files (.xls and .xlsx).</li>
<li><strong>DBI</strong> - Defines a common interface between the R and database management systems.</li>
<li><strong>broom</strong> - Converts statistical objects into tidy data frames.</li>
<li><strong>forcats</strong> - Tools for working with categorical variables (factors).</li>
<li><strong>modelr</strong> - Functions for modeling that work well with the pipe.</li>
<li><strong>tidytext</strong> - Text mining using dplyr, ggplot2, and other tidy tools.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="graphics-and-visualization" class="title-slide slide level2 center">
<h2>Graphics and Visualization</h2>
<ul>
<li><strong>ggplot2</strong> - A system for declaratively creating graphics, based on The Grammar of Graphics.</li>
<li><strong>leaflet</strong> - Create interactive web maps with the JavaScript ‘Leaflet’ library.</li>
<li><strong>plotly</strong> - Create interactive web graphics via ‘plotly.js’.</li>
<li><strong>scales</strong> - Graphical scales map data to aesthetics.</li>
<li><strong>gridExtra</strong> - Provides functions in addition to the grid package.</li>
<li><strong>lattice</strong> - High-level data visualization system inspired by Trellis graphics.</li>
<li><strong>ggvis</strong> - Interactive, web-based graphics built with the grammar of graphics.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="graphics-and-visualization-1" class="title-slide slide level2 center">
<h2>Graphics and Visualization</h2>
<ul>
<li><strong>highcharter</strong> - A wrapper for the ‘Highcharts’ library.</li>
<li><strong>dygraphs</strong> - Interface to ‘Dygraphs’ interactive time series charting library.</li>
<li><strong>rgl</strong> - 3D visualization using OpenGL.</li>
<li><strong>ggmap</strong> - Spatial visualization with Google Maps and OpenStreetMap.</li>
<li><strong>ggraph</strong> - Creates graphs based on the grammar of graphics.</li>
<li><strong>plotrix</strong> - Various plotting functions.</li>
<li><strong>ggally</strong> - Extension of ggplot2 to facilitate plot creation.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="statistical-and-machine-learning" class="title-slide slide level2 center">
<h2>Statistical and Machine Learning</h2>
<ul>
<li><strong>caret</strong> - Classification And REgression Training: tools for data splitting, pre-processing, feature selection, etc.</li>
<li><strong>randomForest</strong> - Classification and regression based on a forest of trees using random inputs.</li>
<li><strong>glmnet</strong> - Lasso and elastic-net regularized generalized linear models.</li>
<li><strong>nnet</strong> - Feed-forward neural networks and multinomial log-linear models.</li>
<li><strong>MASS</strong> - Functions and datasets to support the book Modern Applied Statistics with S.</li>
<li><strong>xgboost</strong> - Extreme Gradient Boosting, which is an efficient implementation of gradient boosting framework.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="statistical-and-machine-learning-1" class="title-slide slide level2 center">
<h2>Statistical and Machine Learning</h2>
<ul>
<li><strong>lme4</strong> - Linear and nonlinear mixed effects models.</li>
<li><strong>survminer</strong> - Drawing survival curves using ‘ggplot2’.</li>
<li><strong>party</strong> - Recursive PARTYtioning for classification and regression trees.</li>
<li><strong>mboost</strong> - Model-Based Boosting.</li>
<li><strong>brms</strong> - Bayesian regression models using ‘Stan’.</li>
<li><strong>easystats</strong> - Collection of tools for statistical analysis.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="spatial-and-time-series-data" class="title-slide slide level2 center">
<h2>Spatial and Time Series Data</h2>
<ul>
<li><strong>sp</strong> - Classes and methods for spatial data.</li>
<li><strong>rgdal</strong> - Bindings for the ‘Geospatial’ Data Abstraction Library.</li>
<li><strong>raster</strong> - Geographic data analysis and modeling.</li>
<li><strong>xts</strong> - eXtensible Time Series.</li>
<li><strong>forecast</strong> - Forecasting functions for time series and linear models.</li>
<li><strong>sf</strong> - Simple features for handling spatial objects.</li>
<li><strong>tmap</strong> - Thematic maps.</li>
<li><strong>geosphere</strong> - Spherical trigonometry for geographic applications.</li>
<li><strong>stargazer</strong> - Well-formatted regression and summary statistics tables.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="web-technologies-and-apis" class="title-slide slide level2 center">
<h2>Web Technologies and APIs</h2>
<ul>
<li><strong>shiny</strong> - Web Application Framework for R.</li>
<li><strong>httr</strong> - Tools for working with URLs and HTTP.</li>
<li><strong>curl</strong> - A modern and flexible web client for R.</li>
<li><strong>XML</strong> - Tools for parsing and generating XML within R.</li>
<li><strong>jsonlite</strong> - JSON parser/generator.</li>
<li><strong>RCurl</strong> - General network (HTTP/FTP/…) client interface for R.</li>
<li><strong>plumber</strong> - Enables you to create a web API by merely decorating your existing R source code.</li>
<li><strong>googleVis</strong> - Interface between R and the Google Chart Tools.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="data-importexport" class="title-slide slide level2 center">
<h2>Data Import/Export</h2>
<ul>
<li><strong>readr</strong> - Read rectangular data.</li>
<li><strong>Rcpp</strong> - Seamless R and C++ Integration.</li>
<li><strong>rJava</strong> - Low-level R to Java interface.</li>
<li><strong>RODBC</strong> - ODBC Database Access.</li>
<li><strong>xlsx</strong> - Read, write, format Excel 2007 and Excel 97/2000/XP/2003 files.</li>
<li><strong>openxlsx</strong> - Simplifies the creation of .xlsx files.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="programming-tools" class="title-slide slide level2 center">
<h2>Programming Tools</h2>
<ul>
<li><strong>devtools</strong> - Tools to make developing R packages easier.</li>
<li><strong>roxygen2</strong> - In-line documentation for R.</li>
<li><strong>testthat</strong> - Unit testing for R.</li>
<li><strong>purrr</strong> - A functional programming toolkit for R.</li>
<li><strong>tibble</strong> - A modern reimagining of the data frame.</li>
<li><strong>stringi</strong> - Character string processing facilities.</li>
<li><strong>usethis</strong> - Automates repetitive tasks that arise during project setup.</li>
<li><strong>rlang</strong> - Functions for base types and core R and ‘Tidyverse’ features.</li>
<li><strong>pkgdown</strong> - Build static html documentation for an R package.</li>
<li><strong>covr</strong> - Test coverage reports for R.</li>
<li><strong>profvis</strong> - Interactive visualizations to understand how R spends its time.</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="reporting" class="title-slide slide level2 center">
<h2>Reporting</h2>
<ul>
<li><strong>RMarkdown</strong> - Dynamic documents for R.</li>
<li><strong>knitr</strong> - General-purpose tool for dynamic report generation in R.</li>
<li><strong>rmarkdown</strong> - Convert R Markdown documents</li>
</ul>
<div class="footer">
<p>R Packages - Some popular R packages</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="loops-and-control-flow" class="title-slide slide level1 center">
<h1>Loops and control flow</h1>
<ul>
<li>Conditional execution: if statements</li>
<li>Loops and control flow</li>
</ul>
<div class="footer">
<p>Loops and control flow</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="conditional-execution-if-statements" class="title-slide slide level2 center">
<h2>Conditional execution: if statements</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a><span class="cf">if</span> (expr_1) expr_2 <span class="cf">else</span> expr_3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The “short-circuit” operators <code>&amp;&amp;</code> and <code>||</code> are often used as part of the condition in an if statement. Whereas <code>&amp;</code> and <code>|</code> apply element-wise to vectors, <code>&amp;&amp;</code> and <code>||</code> apply to vectors of length one, and only evaluate their second argument if necessary.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a>age <span class="ot">&lt;-</span> <span class="dv">12</span></span>
<span id="cb173-2"><a href="#cb173-2"></a><span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">13</span>) {</span>
<span id="cb173-3"><a href="#cb173-3"></a>  <span class="fu">print</span>(<span class="st">"Watch this with your Mom"</span>)</span>
<span id="cb173-4"><a href="#cb173-4"></a>} <span class="cf">else</span> {</span>
<span id="cb173-5"><a href="#cb173-5"></a>  <span class="fu">print</span>(<span class="st">"Enjoy the movie!"</span>)</span>
<span id="cb173-6"><a href="#cb173-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Watch this with your Mom"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb175-2"><a href="#cb175-2"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb175-3"><a href="#cb175-3"></a>  <span class="fu">print</span>(<span class="st">"Positive Number"</span>)</span>
<span id="cb175-4"><a href="#cb175-4"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb175-5"><a href="#cb175-5"></a>  <span class="fu">print</span>(<span class="st">"Negative Number"</span>)</span>
<span id="cb175-6"><a href="#cb175-6"></a>} <span class="cf">else</span> {</span>
<span id="cb175-7"><a href="#cb175-7"></a>  <span class="fu">print</span>(<span class="st">"Zero"</span>)</span>
<span id="cb175-8"><a href="#cb175-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Zero"</code></pre>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>age <span class="ot">&lt;-</span> <span class="dv">21</span></span>
<span id="cb177-2"><a href="#cb177-2"></a><span class="fu">print</span>(<span class="fu">ifelse</span>(age <span class="sc">&lt;</span> <span class="dv">13</span>, <span class="st">"Watch this with your Mom"</span>, <span class="st">"Enjoy the movie!"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Enjoy the movie!"</code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?`if`</code>; <code>?ifelse</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Loops and control flow</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="more-if-else-examplesi" class="title-slide slide level3 center">
<h3>More if-else examples/I</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a>marks <span class="ot">&lt;-</span> <span class="dv">75</span></span>
<span id="cb179-2"><a href="#cb179-2"></a><span class="cf">if</span> (marks <span class="sc">&gt;=</span> <span class="dv">90</span>) {</span>
<span id="cb179-3"><a href="#cb179-3"></a>  grade <span class="ot">&lt;-</span> <span class="st">"A"</span></span>
<span id="cb179-4"><a href="#cb179-4"></a>} <span class="cf">else</span> {</span>
<span id="cb179-5"><a href="#cb179-5"></a>  <span class="cf">if</span> (marks <span class="sc">&gt;=</span> <span class="dv">80</span>) {</span>
<span id="cb179-6"><a href="#cb179-6"></a>    grade <span class="ot">&lt;-</span> <span class="st">"B"</span></span>
<span id="cb179-7"><a href="#cb179-7"></a>  } <span class="cf">else</span> {</span>
<span id="cb179-8"><a href="#cb179-8"></a>    <span class="cf">if</span> (marks <span class="sc">&gt;=</span> <span class="dv">70</span>) {</span>
<span id="cb179-9"><a href="#cb179-9"></a>      grade <span class="ot">&lt;-</span> <span class="st">"C"</span></span>
<span id="cb179-10"><a href="#cb179-10"></a>    } <span class="cf">else</span> {</span>
<span id="cb179-11"><a href="#cb179-11"></a>      grade <span class="ot">&lt;-</span> <span class="st">"F"</span></span>
<span id="cb179-12"><a href="#cb179-12"></a>    }</span>
<span id="cb179-13"><a href="#cb179-13"></a>  }</span>
<span id="cb179-14"><a href="#cb179-14"></a>}</span>
<span id="cb179-15"><a href="#cb179-15"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Grade:"</span>, grade))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Grade: C"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a>student_marks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">76</span>, <span class="dv">90</span>, <span class="dv">40</span>, <span class="dv">85</span>)</span>
<span id="cb181-2"><a href="#cb181-2"></a>pass_fail <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(student_marks <span class="sc">&gt;=</span> <span class="dv">60</span>, <span class="st">"Pass"</span>, <span class="st">"Fail"</span>)</span>
<span id="cb181-3"><a href="#cb181-3"></a><span class="fu">print</span>(pass_fail)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Fail" "Pass" "Pass" "Fail" "Pass"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a>year <span class="ot">&lt;-</span> <span class="dv">2020</span></span>
<span id="cb183-2"><a href="#cb183-2"></a><span class="cf">if</span> ((year <span class="sc">%%</span> <span class="dv">4</span> <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> year <span class="sc">%%</span> <span class="dv">100</span> <span class="sc">!=</span> <span class="dv">0</span>) </span>
<span id="cb183-3"><a href="#cb183-3"></a>    <span class="sc">|</span> year <span class="sc">%%</span> <span class="dv">400</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb183-4"><a href="#cb183-4"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(year, <span class="st">"is a leap year"</span>))</span>
<span id="cb183-5"><a href="#cb183-5"></a>} <span class="cf">else</span> {</span>
<span id="cb183-6"><a href="#cb183-6"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(year, <span class="st">"is not a leap year"</span>))</span>
<span id="cb183-7"><a href="#cb183-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020 is a leap year"</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Loops and control flow - if statements</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="more-if-else-examplesii" class="title-slide slide level3 center">
<h3>More if-else examples/II</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1"></a><span class="co"># Define a function to categorize temperature</span></span>
<span id="cb185-2"><a href="#cb185-2"></a>cat_temp <span class="ot">&lt;-</span> <span class="cf">function</span>(temp) {</span>
<span id="cb185-3"><a href="#cb185-3"></a>  <span class="cf">if</span> (temp <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb185-4"><a href="#cb185-4"></a>    <span class="fu">return</span>(<span class="st">"Freezing"</span>)</span>
<span id="cb185-5"><a href="#cb185-5"></a>  } <span class="cf">else</span> <span class="cf">if</span> (temp <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> temp <span class="sc">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb185-6"><a href="#cb185-6"></a>    <span class="fu">return</span>(<span class="st">"Cold"</span>)</span>
<span id="cb185-7"><a href="#cb185-7"></a>  } <span class="cf">else</span> <span class="cf">if</span> (temp <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;&amp;</span> temp <span class="sc">&lt;</span> <span class="dv">20</span>) {</span>
<span id="cb185-8"><a href="#cb185-8"></a>    <span class="fu">return</span>(<span class="st">"Mild"</span>)</span>
<span id="cb185-9"><a href="#cb185-9"></a>  } <span class="cf">else</span> <span class="cf">if</span> (temp <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;&amp;</span> temp <span class="sc">&lt;</span> <span class="dv">30</span>) {</span>
<span id="cb185-10"><a href="#cb185-10"></a>    <span class="fu">return</span>(<span class="st">"Warm"</span>)</span>
<span id="cb185-11"><a href="#cb185-11"></a>  } <span class="cf">else</span> {</span>
<span id="cb185-12"><a href="#cb185-12"></a>    <span class="fu">return</span>(<span class="st">"Hot"</span>)</span>
<span id="cb185-13"><a href="#cb185-13"></a>  }</span>
<span id="cb185-14"><a href="#cb185-14"></a>}</span>
<span id="cb185-15"><a href="#cb185-15"></a></span>
<span id="cb185-16"><a href="#cb185-16"></a>temperature <span class="ot">&lt;-</span> <span class="dv">22</span></span>
<span id="cb185-17"><a href="#cb185-17"></a>weather_condition <span class="ot">&lt;-</span> <span class="fu">cat_temp</span>(temperature)</span>
<span id="cb185-18"><a href="#cb185-18"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Weather condition:"</span>, weather_condition))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Weather condition: Warm"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1"></a><span class="co"># Define a function to classify age</span></span>
<span id="cb187-2"><a href="#cb187-2"></a>classify_age <span class="ot">&lt;-</span> <span class="cf">function</span>(age) {</span>
<span id="cb187-3"><a href="#cb187-3"></a>  result <span class="ot">&lt;-</span> <span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">18</span>) {</span>
<span id="cb187-4"><a href="#cb187-4"></a>    <span class="st">"Minor"</span></span>
<span id="cb187-5"><a href="#cb187-5"></a>  } <span class="cf">else</span> <span class="cf">if</span> (age <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> age <span class="sc">&lt;=</span> <span class="dv">65</span>) {</span>
<span id="cb187-6"><a href="#cb187-6"></a>    <span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">30</span>) {</span>
<span id="cb187-7"><a href="#cb187-7"></a>      <span class="st">"Young Adult"</span></span>
<span id="cb187-8"><a href="#cb187-8"></a>    } <span class="cf">else</span> <span class="cf">if</span> (age <span class="sc">&lt;=</span> <span class="dv">50</span>) {</span>
<span id="cb187-9"><a href="#cb187-9"></a>      <span class="st">"Adult"</span></span>
<span id="cb187-10"><a href="#cb187-10"></a>    } <span class="cf">else</span> {</span>
<span id="cb187-11"><a href="#cb187-11"></a>      <span class="st">"Senior Adult"</span></span>
<span id="cb187-12"><a href="#cb187-12"></a>    }</span>
<span id="cb187-13"><a href="#cb187-13"></a>  } <span class="cf">else</span> {</span>
<span id="cb187-14"><a href="#cb187-14"></a>    <span class="st">"Elderly"</span></span>
<span id="cb187-15"><a href="#cb187-15"></a>  }</span>
<span id="cb187-16"><a href="#cb187-16"></a>  <span class="fu">return</span>(result)</span>
<span id="cb187-17"><a href="#cb187-17"></a>}</span>
<span id="cb187-18"><a href="#cb187-18"></a></span>
<span id="cb187-19"><a href="#cb187-19"></a>age_groups <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">70</span>),</span>
<span id="cb187-20"><a href="#cb187-20"></a>                     classify_age)</span>
<span id="cb187-21"><a href="#cb187-21"></a><span class="fu">print</span>(age_groups)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Minor"       "Young Adult" "Adult"       "Elderly"    </code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Loops and control flow - if statements</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="more-if-else-examplesiii" class="title-slide slide level3 center">
<h3>More if-else examples/III</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1"></a><span class="co"># Define a function to classify age</span></span>
<span id="cb189-2"><a href="#cb189-2"></a>age_class <span class="ot">&lt;-</span> <span class="cf">function</span>(age) {</span>
<span id="cb189-3"><a href="#cb189-3"></a>  <span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">18</span>) {</span>
<span id="cb189-4"><a href="#cb189-4"></a>    <span class="st">"Minor"</span></span>
<span id="cb189-5"><a href="#cb189-5"></a>  } <span class="cf">else</span> <span class="cf">if</span> (age <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> age <span class="sc">&lt;=</span> <span class="dv">65</span>) {</span>
<span id="cb189-6"><a href="#cb189-6"></a>    <span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">30</span>) {</span>
<span id="cb189-7"><a href="#cb189-7"></a>      <span class="st">"Young Adult"</span></span>
<span id="cb189-8"><a href="#cb189-8"></a>    } <span class="cf">else</span> <span class="cf">if</span> (age <span class="sc">&lt;=</span> <span class="dv">50</span>) {</span>
<span id="cb189-9"><a href="#cb189-9"></a>      <span class="st">"Adult"</span></span>
<span id="cb189-10"><a href="#cb189-10"></a>    } <span class="cf">else</span> {</span>
<span id="cb189-11"><a href="#cb189-11"></a>      <span class="st">"Senior Adult"</span></span>
<span id="cb189-12"><a href="#cb189-12"></a>    }</span>
<span id="cb189-13"><a href="#cb189-13"></a>  } <span class="cf">else</span> {</span>
<span id="cb189-14"><a href="#cb189-14"></a>    <span class="st">"Elderly"</span></span>
<span id="cb189-15"><a href="#cb189-15"></a>  }</span>
<span id="cb189-16"><a href="#cb189-16"></a>}</span>
<span id="cb189-17"><a href="#cb189-17"></a></span>
<span id="cb189-18"><a href="#cb189-18"></a>classify_age1 <span class="ot">&lt;-</span> <span class="fu">Vectorize</span>(age_class)</span>
<span id="cb189-19"><a href="#cb189-19"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">70</span>)</span>
<span id="cb189-20"><a href="#cb189-20"></a>age_groups <span class="ot">&lt;-</span> <span class="fu">classify_age1</span>(ages)</span>
<span id="cb189-21"><a href="#cb189-21"></a><span class="fu">print</span>(age_groups)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Minor"       "Young Adult" "Adult"       "Elderly"    </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1"></a><span class="co"># Define a function to classify age</span></span>
<span id="cb191-2"><a href="#cb191-2"></a>classify_age2 <span class="ot">&lt;-</span> <span class="cf">function</span>(age_vector) {</span>
<span id="cb191-3"><a href="#cb191-3"></a>  age_breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">18</span>, <span class="dv">30</span>, <span class="dv">50</span>, <span class="dv">65</span>, <span class="cn">Inf</span>)</span>
<span id="cb191-4"><a href="#cb191-4"></a>  age_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Minor"</span>, <span class="st">"Young Adult"</span>,</span>
<span id="cb191-5"><a href="#cb191-5"></a>                  <span class="st">"Adult"</span>, <span class="st">"Senior Adult"</span>,</span>
<span id="cb191-6"><a href="#cb191-6"></a>                  <span class="st">"Elderly"</span>)</span>
<span id="cb191-7"><a href="#cb191-7"></a>  </span>
<span id="cb191-8"><a href="#cb191-8"></a>  age_categories <span class="ot">&lt;-</span> <span class="fu">cut</span>(</span>
<span id="cb191-9"><a href="#cb191-9"></a>    age_vector,</span>
<span id="cb191-10"><a href="#cb191-10"></a>    age_breaks,</span>
<span id="cb191-11"><a href="#cb191-11"></a>    age_labels, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb191-12"><a href="#cb191-12"></a>  <span class="fu">return</span>(age_categories)</span>
<span id="cb191-13"><a href="#cb191-13"></a>}</span>
<span id="cb191-14"><a href="#cb191-14"></a></span>
<span id="cb191-15"><a href="#cb191-15"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">70</span>)</span>
<span id="cb191-16"><a href="#cb191-16"></a>age_groups <span class="ot">&lt;-</span> <span class="fu">classify_age2</span>(ages)</span>
<span id="cb191-17"><a href="#cb191-17"></a><span class="fu">print</span>(age_groups)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Minor       Young Adult Adult       Elderly    
Levels: Minor Young Adult Adult Senior Adult Elderly</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Loops and control flow - if statements</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="more-if-else-examplesiv" class="title-slide slide level3 center">
<h3>More if-else examples/IV</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">70</span>)</span>
<span id="cb193-2"><a href="#cb193-2"></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb193-3"><a href="#cb193-3"></a>  <span class="fu">classify_age1</span>(ages),</span>
<span id="cb193-4"><a href="#cb193-4"></a>  <span class="fu">classify_age2</span>(ages),</span>
<span id="cb193-5"><a href="#cb193-5"></a>  <span class="at">times =</span> <span class="dv">10000</span></span>
<span id="cb193-6"><a href="#cb193-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: microseconds
                expr  min   lq mean median   uq  max neval
 classify_age1(ages) 12.9 14.1 15.9   14.5 14.9 1409 10000
 classify_age2(ages) 20.3 21.7 24.2   22.1 22.7 1462 10000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># Set seed for reproducibility</span></span>
<span id="cb195-2"><a href="#cb195-2"></a>ages <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="dv">100</span>)</span>
<span id="cb195-3"><a href="#cb195-3"></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb195-4"><a href="#cb195-4"></a>  <span class="fu">classify_age1</span>(ages),</span>
<span id="cb195-5"><a href="#cb195-5"></a>  <span class="fu">classify_age2</span>(ages),</span>
<span id="cb195-6"><a href="#cb195-6"></a>  <span class="at">times =</span> <span class="dv">1000</span></span>
<span id="cb195-7"><a href="#cb195-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: microseconds
                expr   min    lq  mean median    uq  max
 classify_age1(ages) 377.0 395.5 437.7  401.5 411.9 3327
 classify_age2(ages)  51.9  54.1  57.9   55.9  58.5  124
 neval
  1000
  1000</code></pre>
</div>
</div>
<div class="footer">
<p>Loops and control flow - if statements</p>
</div>
<!----------------------------------------------------------------------------->
</section>


<section id="for-loops-repeat-and-while" class="title-slide slide level2 center">
<h2>for loops, repeat and while</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1"></a><span class="cf">for</span> (name <span class="cf">in</span> expr_1) expr_2</span>
<span id="cb197-2"><a href="#cb197-2"></a><span class="cf">repeat</span> expr_2</span>
<span id="cb197-3"><a href="#cb197-3"></a><span class="cf">while</span> (condition) expr_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>expr_1</code> is a vector expression (often a sequence like <code>1:20</code>) <code>expr_2</code> is often a grouped expression with its sub-expressions written in terms of the dummy name. <code>expr_2</code> is repeatedly evaluated as name ranges through the values in the vector result of <code>expr_1</code>.</li>
<li>Only way to terminate repeat loops is <code>break</code>.</li>
<li>The <code>next</code> statement can be used to discontinue one particular cycle and skip to the “next”.</li>
</ul>
<p><strong>WARNING: AVOID FOR-LOOP STATEMENTS AS MUCH AS POSSIBLE.</strong></p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?`for`</code>; <code>?`repeat`</code>; <code>?`while`</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Loops and control flow</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="for-loops-repeat-and-while-1" class="title-slide slide level2 center">
<h2>for loops, repeat and while</h2>
<p>Calculate factorial for <code>n = 5</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1"></a>n <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:34%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1"></a><span class="co"># Factorial calculation</span></span>
<span id="cb199-2"><a href="#cb199-2"></a><span class="co"># with for-loop</span></span>
<span id="cb199-3"><a href="#cb199-3"></a>result <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb199-4"><a href="#cb199-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>n) {</span>
<span id="cb199-5"><a href="#cb199-5"></a>  result <span class="ot">&lt;-</span> result <span class="sc">*</span> i</span>
<span id="cb199-6"><a href="#cb199-6"></a>}</span>
<span id="cb199-7"><a href="#cb199-7"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 120</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1"></a><span class="co"># Factorial calculation</span></span>
<span id="cb201-2"><a href="#cb201-2"></a><span class="co"># with while</span></span>
<span id="cb201-3"><a href="#cb201-3"></a>result <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb201-4"><a href="#cb201-4"></a>i <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb201-5"><a href="#cb201-5"></a><span class="cf">while</span> (i <span class="sc">&lt;=</span> n) {</span>
<span id="cb201-6"><a href="#cb201-6"></a>  result <span class="ot">&lt;-</span> result <span class="sc">*</span> i</span>
<span id="cb201-7"><a href="#cb201-7"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb201-8"><a href="#cb201-8"></a>}</span>
<span id="cb201-9"><a href="#cb201-9"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 120</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1"></a><span class="co"># Factorial calculation</span></span>
<span id="cb203-2"><a href="#cb203-2"></a><span class="co"># with repeat</span></span>
<span id="cb203-3"><a href="#cb203-3"></a>result <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb203-4"><a href="#cb203-4"></a>i <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb203-5"><a href="#cb203-5"></a><span class="cf">repeat</span> {</span>
<span id="cb203-6"><a href="#cb203-6"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> n) {</span>
<span id="cb203-7"><a href="#cb203-7"></a>    <span class="cf">break</span></span>
<span id="cb203-8"><a href="#cb203-8"></a>  }</span>
<span id="cb203-9"><a href="#cb203-9"></a>  result <span class="ot">&lt;-</span> result <span class="sc">*</span> i</span>
<span id="cb203-10"><a href="#cb203-10"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb203-11"><a href="#cb203-11"></a>}</span>
<span id="cb203-12"><a href="#cb203-12"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 120</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:34%;">
<p><code>for-loop</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1"></a>n <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb205-2"><a href="#cb205-2"></a>sum_of_squares <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb205-3"><a href="#cb205-3"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb205-4"><a href="#cb205-4"></a>  sum_of_squares <span class="ot">&lt;-</span> sum_of_squares <span class="sc">+</span> i<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb205-5"><a href="#cb205-5"></a>}</span>
<span id="cb205-6"><a href="#cb205-6"></a><span class="fu">print</span>(sum_of_squares)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<p><code>while</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># Set seed for reproducibility</span></span>
<span id="cb207-2"><a href="#cb207-2"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb207-3"><a href="#cb207-3"></a>roll <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb207-4"><a href="#cb207-4"></a><span class="cf">while</span> (roll <span class="sc">!=</span> <span class="dv">6</span>) {</span>
<span id="cb207-5"><a href="#cb207-5"></a>  roll <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span>)  <span class="co"># Simulate rolling a die</span></span>
<span id="cb207-6"><a href="#cb207-6"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb207-7"><a href="#cb207-7"></a>}</span>
<span id="cb207-8"><a href="#cb207-8"></a><span class="fu">cat</span>(<span class="st">"I found"</span>, roll, <span class="st">"at roll"</span>, count, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I found 6 at roll 2 </code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<p><code>repeat</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1"></a>divisible_by <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb209-2"><a href="#cb209-2"></a>num <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb209-3"><a href="#cb209-3"></a><span class="cf">repeat</span> {</span>
<span id="cb209-4"><a href="#cb209-4"></a>  <span class="cf">if</span> (num <span class="sc">%%</span> divisible_by <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb209-5"><a href="#cb209-5"></a>    <span class="fu">print</span>(num)</span>
<span id="cb209-6"><a href="#cb209-6"></a>    <span class="cf">break</span></span>
<span id="cb209-7"><a href="#cb209-7"></a>  }</span>
<span id="cb209-8"><a href="#cb209-8"></a>  num <span class="ot">&lt;-</span> num <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb209-9"><a href="#cb209-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Loops and control flow</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="for-loops-repeat-and-while-2" class="title-slide slide level2 center">
<h2>for loops, repeat and while</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb211-2"><a href="#cb211-2"></a>  <span class="fu">plot</span>(dt.pm10[,<span class="dv">1</span>], dt.pm10[,i], <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"plot"</span>, i))</span>
<span id="cb211-3"><a href="#cb211-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1"></a>i <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb212-2"><a href="#cb212-2"></a><span class="cf">repeat</span> {</span>
<span id="cb212-3"><a href="#cb212-3"></a>  <span class="fu">plot</span>(dt.pm10[,<span class="dv">1</span>], dt.pm10[,i], <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"plot"</span>, i))</span>
<span id="cb212-4"><a href="#cb212-4"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb212-5"><a href="#cb212-5"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) <span class="cf">break</span></span>
<span id="cb212-6"><a href="#cb212-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1"></a>i <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb213-2"><a href="#cb213-2"></a><span class="cf">while</span> (i <span class="sc">&lt;</span> <span class="dv">4</span>) {</span>
<span id="cb213-3"><a href="#cb213-3"></a>  <span class="fu">plot</span>(dt.pm10[,<span class="dv">1</span>], dt.pm10[,i], <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"plot"</span>, i))</span>
<span id="cb213-4"><a href="#cb213-4"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb213-5"><a href="#cb213-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb214-2"><a href="#cb214-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) <span class="cf">next</span></span>
<span id="cb214-3"><a href="#cb214-3"></a>  <span class="fu">plot</span>(dt.pm10[,<span class="dv">1</span>], dt.pm10[,i], <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"plot"</span>, i))</span>
<span id="cb214-4"><a href="#cb214-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Loops and control flow</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="writing-your-own-functions" class="title-slide slide level1 center">
<h1>Writing your own functions</h1>
<ul>
<li>What is a function?</li>
<li>Scope</li>
<li>Calling functions in another functions</li>
<li>Fibonacci function</li>
<li>Prime numbers function</li>
</ul>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="what-is-a-function" class="title-slide slide level2 center">
<h2>What is a Function?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1"></a><span class="sc">&gt;</span> name <span class="ot">&lt;-</span> <span class="cf">function</span>(arg_1, arg_2, ...) expression</span>
<span id="cb215-2"><a href="#cb215-2"></a><span class="sc">&gt;</span> <span class="fu">return</span>(value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We already have seen functions.</li>
<li><code>mean</code>, <code>sd</code>, <code>mean</code>, <code>summary</code> all of them are base R functions</li>
<li>and are not different from the functions that you will write.</li>
<li>The expression is an R expression, (usually a grouped expression), that uses the arguments, arg i, to calculate a value. The value of the expression is the value returned for the function.</li>
<li>A call to the function then usually takes the form <code>name(expr_1, expr_2, ...)</code> and may occur anywhere a function call is legitimate.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1"></a><span class="co"># Create a function to calculate the volume of a cake</span></span>
<span id="cb216-2"><a href="#cb216-2"></a>make_cake <span class="ot">&lt;-</span> <span class="cf">function</span>(height, radius) pi <span class="sc">*</span> (radius <span class="sc">^</span> <span class="dv">2</span>) <span class="sc">*</span> height</span>
<span id="cb216-3"><a href="#cb216-3"></a>cake1 <span class="ot">&lt;-</span> <span class="fu">make_cake</span>(<span class="fl">0.3</span>, <span class="fl">0.5</span>)</span>
<span id="cb216-4"><a href="#cb216-4"></a>cake2 <span class="ot">&lt;-</span> <span class="fu">make_cake</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb216-5"><a href="#cb216-5"></a><span class="fu">cat</span>(<span class="st">"Volume of cake1 is"</span>, cake1, <span class="st">"m^3 and Volume of cake2 is"</span>, cake2, <span class="st">"m^3</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Volume of cake1 is 0.236 m^3 and Volume of cake2 is 12.6 m^3</code></pre>
</div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="functions" class="title-slide slide level2 center">
<h2>Functions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1"></a><span class="co"># Create a function to calculate the volume of a cake</span></span>
<span id="cb218-2"><a href="#cb218-2"></a>make_cake <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="fl">0.1</span>, <span class="at">radius =</span> <span class="fl">0.5</span>) {</span>
<span id="cb218-3"><a href="#cb218-3"></a>  cake <span class="ot">&lt;-</span> pi <span class="sc">*</span> (radius <span class="sc">^</span> <span class="dv">2</span>) <span class="sc">*</span> height</span>
<span id="cb218-4"><a href="#cb218-4"></a>  <span class="fu">return</span>(cake)</span>
<span id="cb218-5"><a href="#cb218-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1"></a>cake1 <span class="ot">&lt;-</span> <span class="fu">make_cake</span>()</span>
<span id="cb219-2"><a href="#cb219-2"></a><span class="fu">cat</span>(<span class="st">"Volume of cake1 is"</span>, cake1, <span class="st">"m^3</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>Volume of cake1 is 0.0785 m^3</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1"></a>cake2 <span class="ot">&lt;-</span> <span class="fu">make_cake</span>(<span class="fl">0.2</span>)</span>
<span id="cb221-2"><a href="#cb221-2"></a><span class="fu">cat</span>(<span class="st">"Volume of cake2 is"</span>, cake2, <span class="st">"m^3</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>Volume of cake2 is 0.157 m^3</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1"></a>cake3 <span class="ot">&lt;-</span> <span class="fu">make_cake</span>(<span class="at">radius =</span> <span class="dv">2</span>)</span>
<span id="cb223-2"><a href="#cb223-2"></a><span class="fu">cat</span>(<span class="st">"Volume of cake3 is"</span>, cake3, <span class="st">"m^3</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>Volume of cake3 is 1.26 m^3</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="scope" class="title-slide slide level2 center">
<h2>Scope</h2>
<p>What happens if I define same variable name in and out of a function?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1"></a>myfunc <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb225-2"><a href="#cb225-2"></a>  x <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb225-3"><a href="#cb225-3"></a>  <span class="fu">print</span>(x)</span>
<span id="cb225-4"><a href="#cb225-4"></a>}</span>
<span id="cb225-5"><a href="#cb225-5"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1"></a><span class="fu">myfunc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="calling-functions-in-another-functionsi" class="title-slide slide level2 center">
<h2>Calling functions in another functions/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1"></a>area_of_rectangle <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) {</span>
<span id="cb230-2"><a href="#cb230-2"></a>  area <span class="ot">&lt;-</span> height <span class="sc">*</span> width</span>
<span id="cb230-3"><a href="#cb230-3"></a>  <span class="fu">return</span>(area)</span>
<span id="cb230-4"><a href="#cb230-4"></a>}</span>
<span id="cb230-5"><a href="#cb230-5"></a></span>
<span id="cb230-6"><a href="#cb230-6"></a>area_of_square <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>) {</span>
<span id="cb230-7"><a href="#cb230-7"></a>  <span class="fu">return</span>(<span class="fu">area_of_rectangle</span>(height, height))</span>
<span id="cb230-8"><a href="#cb230-8"></a>}</span>
<span id="cb230-9"><a href="#cb230-9"></a></span>
<span id="cb230-10"><a href="#cb230-10"></a>area_of_triangle <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) {</span>
<span id="cb230-11"><a href="#cb230-11"></a>  <span class="fu">return</span>(<span class="fu">area_of_rectangle</span>(height, width)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb230-12"><a href="#cb230-12"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="calling-functions-in-another-functionsii" class="title-slide slide level2 center">
<h2>Calling functions in another functions/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1"></a>vol_of_cube <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">depth =</span> <span class="dv">1</span>) {</span>
<span id="cb231-2"><a href="#cb231-2"></a>  height <span class="sc">*</span> width <span class="sc">*</span> depth</span>
<span id="cb231-3"><a href="#cb231-3"></a>}</span>
<span id="cb231-4"><a href="#cb231-4"></a></span>
<span id="cb231-5"><a href="#cb231-5"></a>area_of_rectangle <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) {</span>
<span id="cb231-6"><a href="#cb231-6"></a>  <span class="fu">vol_of_cube</span>(height, width)</span>
<span id="cb231-7"><a href="#cb231-7"></a>}</span>
<span id="cb231-8"><a href="#cb231-8"></a></span>
<span id="cb231-9"><a href="#cb231-9"></a>area_of_square <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>) {</span>
<span id="cb231-10"><a href="#cb231-10"></a>  <span class="fu">area_of_rectangle</span>(height, height)</span>
<span id="cb231-11"><a href="#cb231-11"></a>}</span>
<span id="cb231-12"><a href="#cb231-12"></a></span>
<span id="cb231-13"><a href="#cb231-13"></a>area_of_triangle <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">height =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) {</span>
<span id="cb231-14"><a href="#cb231-14"></a>  <span class="fu">area_of_rectangle</span>(height, width)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb231-15"><a href="#cb231-15"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="fibonacci-function" class="title-slide slide level2 center">
<h2>Fibonacci function</h2>
<p>A function for Fibonacci Sequence</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1"></a>fib <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">last =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb232-2"><a href="#cb232-2"></a>  x <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n)</span>
<span id="cb232-3"><a href="#cb232-3"></a>  x[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb232-4"><a href="#cb232-4"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">3</span><span class="sc">:</span>n) x[i] <span class="ot">&lt;-</span> x[i<span class="dv">-1</span>] <span class="sc">+</span> x[i<span class="dv">-2</span>]</span>
<span id="cb232-5"><a href="#cb232-5"></a>  <span class="cf">if</span> (last) x <span class="ot">&lt;-</span> x[n]</span>
<span id="cb232-6"><a href="#cb232-6"></a>  x</span>
<span id="cb232-7"><a href="#cb232-7"></a>}</span>
<span id="cb232-8"><a href="#cb232-8"></a></span>
<span id="cb232-9"><a href="#cb232-9"></a>fib2 <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">last =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb232-10"><a href="#cb232-10"></a>  x <span class="ot">&lt;-</span> <span class="cf">if</span> (last) n <span class="cf">else</span> <span class="dv">1</span><span class="sc">:</span>n</span>
<span id="cb232-11"><a href="#cb232-11"></a>  <span class="fu">round</span>(((<span class="dv">5</span> <span class="sc">+</span> <span class="fu">sqrt</span>(<span class="dv">5</span>)) <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> (( <span class="dv">1</span> <span class="sc">+</span> <span class="fu">sqrt</span>(<span class="dv">5</span>)) <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">^</span> (x <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb232-12"><a href="#cb232-12"></a>}</span>
<span id="cb232-13"><a href="#cb232-13"></a></span>
<span id="cb232-14"><a href="#cb232-14"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb232-15"><a href="#cb232-15"></a><span class="fu">microbenchmark</span>(<span class="fu">fib</span>(<span class="dv">30</span>, F), <span class="fu">fib2</span>(<span class="dv">30</span>, F))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: microseconds
        expr  min   lq  mean median   uq  max neval
  fib(30, F) 2.05 2.09 24.18   2.17 2.25 2200   100
 fib2(30, F) 1.27 1.39  9.53   1.48 1.54  799   100</code></pre>
</div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="prime-numbers-functioni" class="title-slide slide level2 center">
<h2>Prime Numbers function/I</h2>
<p>A function that determines if a number is prime or not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1"></a>is.prime <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb234-2"><a href="#cb234-2"></a>  x <span class="ot">&lt;-</span> x[<span class="dv">1</span>] <span class="co"># make sure length of x is 1</span></span>
<span id="cb234-3"><a href="#cb234-3"></a>  it.is.prime <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb234-4"><a href="#cb234-4"></a>  <span class="cf">if</span>(x <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb234-5"><a href="#cb234-5"></a>    it.is.prime <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb234-6"><a href="#cb234-6"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(x <span class="sc">-</span> <span class="dv">1</span>)) {</span>
<span id="cb234-7"><a href="#cb234-7"></a>      <span class="cf">if</span> (x <span class="sc">%%</span> i <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb234-8"><a href="#cb234-8"></a>        it.is.prime <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb234-9"><a href="#cb234-9"></a>        <span class="cf">break</span></span>
<span id="cb234-10"><a href="#cb234-10"></a>      }</span>
<span id="cb234-11"><a href="#cb234-11"></a>    }</span>
<span id="cb234-12"><a href="#cb234-12"></a>  }</span>
<span id="cb234-13"><a href="#cb234-13"></a>  <span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">2</span>) it.is.prime <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb234-14"><a href="#cb234-14"></a>  <span class="fu">return</span>(it.is.prime)</span>
<span id="cb234-15"><a href="#cb234-15"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1"></a><span class="fu">is.prime</span>(<span class="dv">13</span>)</span>
<span id="cb235-2"><a href="#cb235-2"></a><span class="fu">is.prime</span>(<span class="dv">21</span>)</span>
<span id="cb235-3"><a href="#cb235-3"></a><span class="fu">is.prime</span>(<span class="dv">19999999</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="prime-numbers-functionii" class="title-slide slide level2 center">
<h2>Prime Numbers function/II</h2>
<p>Another function for prime number determination. Which one is faster? <code>is.prime</code> or <code>is.prime2</code>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1"></a>is.prime2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb236-2"><a href="#cb236-2"></a>  x <span class="ot">&lt;-</span> x[<span class="dv">1</span>] <span class="co"># make sure length of x is 1</span></span>
<span id="cb236-3"><a href="#cb236-3"></a>  it.is.prime <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb236-4"><a href="#cb236-4"></a>  <span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb236-5"><a href="#cb236-5"></a>    it.is.prime <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb236-6"><a href="#cb236-6"></a>    i <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span>(x <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb236-7"><a href="#cb236-7"></a>    <span class="cf">if</span> (<span class="fu">any</span>(x <span class="sc">%%</span> i <span class="sc">==</span> <span class="dv">0</span>)) {</span>
<span id="cb236-8"><a href="#cb236-8"></a>      it.is.prime <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb236-9"><a href="#cb236-9"></a>    }</span>
<span id="cb236-10"><a href="#cb236-10"></a>  }</span>
<span id="cb236-11"><a href="#cb236-11"></a>  <span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">2</span>) it.is.prime <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb236-12"><a href="#cb236-12"></a>  <span class="fu">return</span>(it.is.prime)</span>
<span id="cb236-13"><a href="#cb236-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="prime-numbers-functioniii" class="title-slide slide level2 center">
<h2>Prime Numbers function/III</h2>
<p>Another function for prime number determination. Which one is faster? <code>is.prime</code> or <code>is.prime2</code>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb237-2"><a href="#cb237-2"></a>x <span class="ot">&lt;-</span> <span class="dv">31</span></span>
<span id="cb237-3"><a href="#cb237-3"></a><span class="fu">microbenchmark</span>(<span class="fu">is.prime</span>(x), <span class="fu">is.prime2</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: nanoseconds
         expr  min   lq  mean median   uq     max neval
  is.prime(x) 2091 2132 28492   2234 2378 2616046   100
 is.prime2(x)  615  656 22161    697  779 2111090   100</code></pre>
</div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="prime-numbers-functioniv" class="title-slide slide level2 center">
<h2>Prime Numbers function/IV</h2>
<p>A more interesting function for prime number determination. This time we can use vectors to test for prime.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1"></a>is.prime3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb239-2"><a href="#cb239-2"></a>  <span class="fu">sapply</span>(x, is.prime2)</span>
<span id="cb239-3"><a href="#cb239-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="number-of-primes-below-n" class="title-slide slide level2 center">
<h2>Number of Primes below <code>n</code></h2>
<p>Now write another function calculates number of primes below <code>n</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1"></a>nprime <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb240-2"><a href="#cb240-2"></a>  <span class="fu">sapply</span>(n, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>x, is.prime2)))</span>
<span id="cb240-3"><a href="#cb240-3"></a>}</span>
<span id="cb240-4"><a href="#cb240-4"></a><span class="fu">nprime</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1"></a><span class="fu">nprime</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 5 5 6 6 6 6 7 7 8 8</code></pre>
</div>
</div>
<div class="footer">
<p>Writing your own functions</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="apply-function-family" class="title-slide slide level1 center">
<h1>Apply Function family</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Part I</strong>
<ul>
<li>apply</li>
<li>lapply</li>
<li>sapply</li>
<li>vapply</li>
<li>tapply</li>
<li>mapply</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>Part II</strong>
<ul>
<li>rapply</li>
<li>Map</li>
<li>Reduce</li>
<li>Filter</li>
<li>Find</li>
<li>Position</li>
<li>sweep</li>
<li>Negate</li>
</ul></li>
</ul>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="part-i" class="title-slide slide level2 center">
<h2>Part I</h2>
<ol type="1">
<li><p><strong>apply:</strong> Used to apply a function to the <u><em>rows</em> or <em>columns</em></u> of a <code>matrix</code> or an <code>array</code>.</p></li>
<li><p><strong>lapply:</strong> Applies a function to each element of a list and <u>returns a list</u>. It is useful when you want to perform an operation on each element of a list and <u>keep the results in a list</u>.</p></li>
<li><p><strong>sapply:</strong> A user-friendly version of <code>lapply</code>. It applies a function to each element of a list, but <u>tries to simplify the result to a vector or matrix if possible</u>.</p></li>
<li><p><strong>vapply:</strong> Similar to <code>sapply</code>, but <u>you can specify the type and structure of the output in advance</u>, which makes it safer and can prevent unexpected results or errors.</p></li>
<li><p><strong>tapply:</strong> Applies a function to <u>subsets of a vector broken down by factors</u> and is particularly useful for data analysis.</p></li>
<li><p><strong>mapply:</strong> A multivariate version of <code>sapply</code>. It applies a function in parallel over sets of arguments (i.e., it can take multiple vectors/lists as input and <u>apply a function to the corresponding elements of each</u>).</p></li>
</ol>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="apply-functioni" class="title-slide slide level2 center">
<h2><code>apply</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb244" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, MARGIN, FUN, ..., <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function is used to apply a function to the rows or columns of a <code>matrix</code> or <code>array</code>.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb245" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>(m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb247" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 indicates rows, 2 would indicate columns</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(m, <span class="dv">1</span>, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.5 6.5 7.5</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb249" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(m, <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="fu">sum</span>(x<span class="sc">^</span><span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1]   36  405 1584 4059</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="apply-functionii" class="title-slide slide level2 center">
<h2><code>apply</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb251" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, MARGIN, FUN, ..., <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Apply a complex function (<code>is.prime3</code>) to each column of a matrix.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1"></a><span class="co"># or let's employ is.prime3 function</span></span>
<span id="cb252-2"><a href="#cb252-2"></a><span class="fu">apply</span>(m, <span class="dv">2</span>, is.prime3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]  [,2]  [,3]  [,4]
[1,] FALSE FALSE  TRUE FALSE
[2,]  TRUE  TRUE FALSE  TRUE
[3,]  TRUE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1"></a><span class="co"># or let's normalize each column</span></span>
<span id="cb254-2"><a href="#cb254-2"></a><span class="fu">apply</span>(m, <span class="dv">2</span>, <span class="cf">function</span>(x) {</span>
<span id="cb254-3"><a href="#cb254-3"></a>  <span class="fu">return</span>((x <span class="sc">-</span> <span class="fu">min</span>(x)) <span class="sc">/</span> (<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x)))</span>
<span id="cb254-4"><a href="#cb254-4"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]  0.0  0.0  0.0  0.0
[2,]  0.5  0.5  0.5  0.5
[3,]  1.0  1.0  1.0  1.0</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="tapply-functioni" class="title-slide slide level2 center">
<h2><code>tapply</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb256" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(X, INDEX, <span class="at">FUN =</span> <span class="cn">NULL</span>, ..., <span class="at">default =</span> <span class="cn">NA</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is used to apply a function over subsets of a vector and is particularly useful for data analysis.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb257-2"><a href="#cb257-2"></a>groups <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>))</span>
<span id="cb257-3"><a href="#cb257-3"></a><span class="fu">tapply</span>(numbers, groups, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>A B 
3 4 </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1"></a><span class="co"># or let's normalize each group</span></span>
<span id="cb259-2"><a href="#cb259-2"></a><span class="fu">tapply</span>(numbers, groups, <span class="cf">function</span>(x) {</span>
<span id="cb259-3"><a href="#cb259-3"></a>  <span class="fu">return</span>((x <span class="sc">-</span> <span class="fu">min</span>(x)) <span class="sc">/</span> (<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x)))</span>
<span id="cb259-4"><a href="#cb259-4"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>$A
[1] 0.0 0.5 1.0

$B
[1] 0.0 0.5 1.0</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="tapply-functionii" class="title-slide slide level2 center">
<h2><code>tapply</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb261" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(X, INDEX, <span class="at">FUN =</span> <span class="cn">NULL</span>, ..., <span class="at">default =</span> <span class="cn">NA</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A more complex example.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1"></a><span class="co"># Create random example pollution data</span></span>
<span id="cb262-2"><a href="#cb262-2"></a>pollutant <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">30</span>)</span>
<span id="cb262-3"><a href="#cb262-3"></a>city <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb262-4"><a href="#cb262-4"></a>  <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Istanbul"</span>, <span class="st">"Ankara"</span>, <span class="st">"Izmir"</span>), <span class="dv">10</span>))</span>
<span id="cb262-5"><a href="#cb262-5"></a>year <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb262-6"><a href="#cb262-6"></a>  <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>), <span class="at">each =</span> <span class="dv">10</span>))</span>
<span id="cb262-7"><a href="#cb262-7"></a></span>
<span id="cb262-8"><a href="#cb262-8"></a>air_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(pollutant, city, year)</span>
<span id="cb262-9"><a href="#cb262-9"></a><span class="fu">head</span>(air_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>  pollutant     city year
1     0.490 Istanbul 2020
2     0.879   Ankara 2020
3     0.813    Izmir 2020
4     0.854 Istanbul 2020
5     0.368   Ankara 2020
6     0.874    Izmir 2020</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1"></a><span class="fu">tapply</span>(air_data<span class="sc">$</span>pollutant, </span>
<span id="cb264-2"><a href="#cb264-2"></a>       <span class="fu">list</span>(air_data<span class="sc">$</span>city, air_data<span class="sc">$</span>year), mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>          2020  2021  2022
Ankara   0.509 0.832 0.561
Istanbul 0.618 0.162 0.234
Izmir    0.785 0.385 0.348</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1"></a><span class="fu">tapply</span>(pollutant, <span class="fu">list</span>(city, year), mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>          2020  2021  2022
Ankara   0.509 0.832 0.561
Istanbul 0.618 0.162 0.234
Izmir    0.785 0.385 0.348</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="sapply-functioni" class="title-slide slide level2 center">
<h2><code>sapply</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb268" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(X, FUN, ..., <span class="at">simplify =</span> <span class="cn">TRUE</span>, <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It applies a function over a list or vector and simplifies the result into a vector or matrix. It is a user-friendly version of <code>lapply</code> by default returning a vector, matrix or, if <code>simplify = "array"</code>, an array if appropriate, by applying <code>simplify2array()</code>.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>)</span>
<span id="cb269-2"><a href="#cb269-2"></a><span class="fu">sapply</span>(v, sqrt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1"></a><span class="co"># or let's calculate sqrt and cube of each value</span></span>
<span id="cb271-2"><a href="#cb271-2"></a><span class="fu">sapply</span>(v, <span class="cf">function</span>(x) <span class="fu">sqrt</span>(x)<span class="sc">^</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  8 27 64</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="sapply-functionii" class="title-slide slide level2 center">
<h2><code>sapply</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb273" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(X, FUN, ..., <span class="at">simplify =</span> <span class="cn">TRUE</span>, <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1"></a><span class="co"># Create random example pollution data</span></span>
<span id="cb274-2"><a href="#cb274-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb274-3"><a href="#cb274-3"></a>city_data <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb274-4"><a href="#cb274-4"></a>    <span class="at">Istanbul =</span> <span class="fu">data.frame</span>(<span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">NO2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)),</span>
<span id="cb274-5"><a href="#cb274-5"></a>    <span class="at">Ankara =</span> <span class="fu">data.frame</span>(<span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">NO2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)),</span>
<span id="cb274-6"><a href="#cb274-6"></a>    <span class="at">Izmir =</span> <span class="fu">data.frame</span>(<span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">NO2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb274-7"><a href="#cb274-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1"></a><span class="co"># Let's calculate mean of PM25 for each city</span></span>
<span id="cb275-2"><a href="#cb275-2"></a><span class="fu">sapply</span>(city_data,</span>
<span id="cb275-3"><a href="#cb275-3"></a>       <span class="cf">function</span>(x) <span class="fu">mean</span>(x<span class="sc">$</span>PM25, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>Istanbul   Ankara    Izmir 
 0.07463 -0.42456 -0.00872 </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1"></a><span class="co"># or let's calculate mean of each column</span></span>
<span id="cb277-2"><a href="#cb277-2"></a><span class="fu">sapply</span>(city_data, <span class="cf">function</span>(x) <span class="fu">colMeans</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>     Istanbul Ankara    Izmir
PM25   0.0746 -0.425 -0.00872
NO2    0.2086  0.322  0.22169</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1"></a><span class="co"># or a shorter and tidier way</span></span>
<span id="cb279-2"><a href="#cb279-2"></a><span class="fu">sapply</span>(city_data, colMeans)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>     Istanbul Ankara    Izmir
PM25   0.0746 -0.425 -0.00872
NO2    0.2086  0.322  0.22169</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="vapply-functioni" class="title-slide slide level2 center">
<h2><code>vapply</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb281" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vapply</span>(X, FUN, FUN.VALUE, ..., <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is a safe version of <code>sapply</code>. You specify the type of output, which can avoid unexpected results.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>)</span>
<span id="cb282-2"><a href="#cb282-2"></a><span class="fu">vapply</span>(v, sqrt, <span class="fu">numeric</span>(<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1"></a>v <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb284-2"><a href="#cb284-2"></a><span class="co"># what are the results?</span></span>
<span id="cb284-3"><a href="#cb284-3"></a><span class="fu">vapply</span>(v, is.prime2, <span class="fu">numeric</span>(<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0 1 1 0 1 0 1 0 0 0</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1"></a><span class="co"># what are the results?</span></span>
<span id="cb286-2"><a href="#cb286-2"></a><span class="fu">vapply</span>(v, is.prime2, <span class="fu">logical</span>(<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE
[10] FALSE</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="vapply-functionii" class="title-slide slide level2 center">
<h2><code>vapply</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb288" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vapply</span>(X, FUN, FUN.VALUE, ..., <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1"></a><span class="co"># Create random example pollution data</span></span>
<span id="cb289-2"><a href="#cb289-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb289-3"><a href="#cb289-3"></a>measurements <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb289-4"><a href="#cb289-4"></a>    <span class="at">morning =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">10</span>),</span>
<span id="cb289-5"><a href="#cb289-5"></a>    <span class="at">afternoon =</span> <span class="fu">rnorm</span>(<span class="dv">60</span>, <span class="at">mean =</span> <span class="dv">120</span>, <span class="at">sd =</span> <span class="dv">15</span>),</span>
<span id="cb289-6"><a href="#cb289-6"></a>    <span class="at">evening =</span> <span class="fu">rnorm</span>(<span class="dv">40</span>, <span class="at">mean =</span> <span class="dv">90</span>, <span class="at">sd =</span> <span class="dv">20</span>)</span>
<span id="cb289-7"><a href="#cb289-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1"></a><span class="fu">vapply</span>(measurements,</span>
<span id="cb290-2"><a href="#cb290-2"></a>       <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="fu">min</span>(x),</span>
<span id="cb290-3"><a href="#cb290-3"></a>                     <span class="fu">mean</span>(x),</span>
<span id="cb290-4"><a href="#cb290-4"></a>                     <span class="fu">median</span>(x),</span>
<span id="cb290-5"><a href="#cb290-5"></a>                     <span class="fu">max</span>(x)),</span>
<span id="cb290-6"><a href="#cb290-6"></a>       <span class="fu">numeric</span>(<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>     morning afternoon evening
[1,]    80.3      85.4    48.9
[2,]   100.3     120.8    85.6
[3,]    99.3     119.8    84.8
[4,]   121.7     152.8   132.0</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1"></a><span class="fu">vapply</span>(measurements,</span>
<span id="cb292-2"><a href="#cb292-2"></a>       <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="at">min =</span> <span class="fu">min</span>(x),</span>
<span id="cb292-3"><a href="#cb292-3"></a>                     <span class="at">mean =</span> <span class="fu">mean</span>(x),</span>
<span id="cb292-4"><a href="#cb292-4"></a>                     <span class="at">median =</span> <span class="fu">median</span>(x),</span>
<span id="cb292-5"><a href="#cb292-5"></a>                     <span class="at">max =</span> <span class="fu">max</span>(x)),</span>
<span id="cb292-6"><a href="#cb292-6"></a>       <span class="fu">numeric</span>(<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>       morning afternoon evening
min       80.3      85.4    48.9
mean     100.3     120.8    85.6
median    99.3     119.8    84.8
max      121.7     152.8   132.0</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="mapply-functioni" class="title-slide slide level2 center">
<h2><code>mapply</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb294" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapply</span>(FUN, ..., <span class="at">MoreArgs =</span> <span class="cn">NULL</span>, <span class="at">SIMPLIFY =</span> <span class="cn">TRUE</span>, <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>mapply</code> in R is a multivariate version of <code>sapply</code>. It applies a function in parallel over a set of arguments. This is particularly useful when you have several lists or vectors and you want to apply a function to the 1st elements of each, then the 2nd elements, and so on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1"></a><span class="co"># Create random example pollution data</span></span>
<span id="cb295-2"><a href="#cb295-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb295-3"><a href="#cb295-3"></a>pm25 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">35</span>, <span class="at">sd =</span> <span class="dv">5</span>)  <span class="co"># PM2.5 readings for a week</span></span>
<span id="cb295-4"><a href="#cb295-4"></a>no2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">10</span>)  <span class="co"># NO2 readings for the same week</span></span>
<span id="cb295-5"><a href="#cb295-5"></a>so2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">3</span>)   <span class="co"># SO2 readings for the same week</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1"></a><span class="co"># let's calculate mean for the pollutants.</span></span>
<span id="cb296-2"><a href="#cb296-2"></a><span class="fu">mapply</span>(mean, pm25, no2, so2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32.2 33.8 42.8 35.4 35.6 43.6 37.3</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1"></a><span class="co"># let's assume a hypothetical formula for an </span></span>
<span id="cb298-2"><a href="#cb298-2"></a><span class="co"># air quality index</span></span>
<span id="cb298-3"><a href="#cb298-3"></a>pollution_index <span class="ot">&lt;-</span> <span class="cf">function</span>(pm25, no2, so2) {</span>
<span id="cb298-4"><a href="#cb298-4"></a>  x <span class="ot">&lt;-</span> (pm25 <span class="sc">*</span> <span class="fl">0.4</span> <span class="sc">+</span> no2 <span class="sc">*</span> <span class="fl">0.3</span> <span class="sc">+</span> so2 <span class="sc">*</span> <span class="fl">0.2</span>)</span>
<span id="cb298-5"><a href="#cb298-5"></a>  <span class="fu">sqrt</span>(x) <span class="sc">/</span> <span class="dv">3</span></span>
<span id="cb298-6"><a href="#cb298-6"></a>}</span>
<span id="cb298-7"><a href="#cb298-7"></a><span class="fu">mapply</span>(pollution_index, pm25, no2, so2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.76 1.87 1.97 1.99 1.97 2.04 1.93</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="mapply-functionii" class="title-slide slide level2 center">
<h2><code>mapply</code> function/II</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb300-2"><a href="#cb300-2"></a>actuals <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb300-3"><a href="#cb300-3"></a>  <span class="at">pm25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">no2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">so2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb300-4"><a href="#cb300-4"></a>predicted <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb300-5"><a href="#cb300-5"></a>  <span class="at">pm25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">no2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">so2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb300-6"><a href="#cb300-6"></a><span class="co"># let's calculate RMSE for each pollutant</span></span>
<span id="cb300-7"><a href="#cb300-7"></a><span class="fu">mapply</span>(<span class="cf">function</span>(a, p) {</span>
<span id="cb300-8"><a href="#cb300-8"></a>  <span class="fu">sqrt</span>(<span class="fu">mean</span>((a <span class="sc">-</span> p)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb300-9"><a href="#cb300-9"></a>}, actuals, predicted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> pm25   no2   so2 
0.722 1.607 1.616 </code></pre>
</div>
</div>
</div>
<p>or is there a tidier way?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1"></a><span class="fu">sqrt</span>(<span class="fu">mean</span>((actuals<span class="sc">$</span>pm25 <span class="sc">-</span> predicted<span class="sc">$</span>pm25)<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1"></a><span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="cf">function</span>(i) {</span>
<span id="cb303-2"><a href="#cb303-2"></a>  <span class="fu">sqrt</span>(<span class="fu">mean</span>((actuals[[i]] <span class="sc">-</span> predicted[[i]])<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb303-3"><a href="#cb303-3"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb304-2"><a href="#cb304-2"></a>  <span class="fu">print</span>(<span class="fu">sqrt</span>(<span class="fu">mean</span>((actuals[[i]] <span class="sc">-</span> predicted[[i]])<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb304-3"><a href="#cb304-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="part-ii" class="title-slide slide level2 center">
<h2>Part II</h2>
<ol type="1">
<li><p><strong>rapply (Recursive Apply):</strong> This function is used to apply a function <u>recursively to elements of a deeply nested list</u> or expression at each level or at specific levels.</p></li>
<li><p><strong>Map:</strong> Similar to <code>mapply</code> <span class="gray">(wrapper around <code>mapply</code> with <code>SIMPLIFY = FALSE</code>)</span>, but it <u>always returns a <code>list</code></u> regardless of the output of the function being applied.</p></li>
<li><p><strong>Reduce:</strong> This function <u>applies a function successively</u> over elements of a vector/list.</p></li>
<li><p><strong>Filter:</strong> This function is used to filter elements of a list/vector that satisfy a certain condition given by a function.</p></li>
<li><p><strong>Find:</strong> Similar to <code>Filter</code>, but it returns the first element of a list/vector.</p></li>
<li><p><strong>Position:</strong> This function is used to find the position of the first or last element of a vector or list that satisfies a certain condition given by a function.</p></li>
<li><p><strong>sweep:</strong> It’s typically used for operations on arrays/matrices to apply a function to rows/columns, and it’s useful for data standardization.</p></li>
<li><p><strong>Negate:</strong> Used to create the <em>negation</em> of a given predicate function.</p></li>
</ol>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="rapply-function-recursive-version-of-lapply" class="title-slide slide level2 center">
<h2><code>rapply</code> function (Recursive version of lapply)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb305" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rapply</span>(object, f, <span class="at">classes =</span> <span class="st">"ANY"</span>, <span class="at">deflt =</span> <span class="cn">NULL</span>,</span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">how =</span> <span class="fu">c</span>(<span class="st">"unlist"</span>, <span class="st">"replace"</span>, <span class="st">"list"</span>), ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function is used to apply a function recursively to elements of a list or expression. It’s particularly useful when dealing with deeply nested lists where you need to perform an operation at each level or at specific levels.</p>
<p>Example:</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb306-2"><a href="#cb306-2"></a><span class="co"># Create a complex example data</span></span>
<span id="cb306-3"><a href="#cb306-3"></a>measurements  <span class="ot">&lt;-</span> <span class="fu">sapply</span>(</span>
<span id="cb306-4"><a href="#cb306-4"></a>  <span class="fu">c</span>(<span class="st">"Ankara"</span>, <span class="st">"Istanbul"</span>, <span class="st">"Izmir"</span>),</span>
<span id="cb306-5"><a href="#cb306-5"></a>  <span class="cf">function</span>(city) {</span>
<span id="cb306-6"><a href="#cb306-6"></a>    <span class="fu">sapply</span>(<span class="fu">paste0</span>(<span class="st">"day"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>), <span class="cf">function</span>(day) {</span>
<span id="cb306-7"><a href="#cb306-7"></a>      <span class="fu">sapply</span>(<span class="fu">c</span>(<span class="st">"PM25"</span>, <span class="st">"NO2"</span>, <span class="st">"SO2"</span>),</span>
<span id="cb306-8"><a href="#cb306-8"></a>             <span class="cf">function</span>(pol)</span>
<span id="cb306-9"><a href="#cb306-9"></a>               <span class="fu">rnorm</span>(<span class="dv">24</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">10</span>),</span>
<span id="cb306-10"><a href="#cb306-10"></a>             <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span>
<span id="cb306-11"><a href="#cb306-11"></a>    }, <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span>
<span id="cb306-12"><a href="#cb306-12"></a>  }, <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span>
<span id="cb306-13"><a href="#cb306-13"></a></span>
<span id="cb306-14"><a href="#cb306-14"></a>norm <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="co"># normalize function</span></span>
<span id="cb306-15"><a href="#cb306-15"></a>    (x <span class="sc">-</span> <span class="fu">min</span>(x)) <span class="sc">/</span> (<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x))</span>
<span id="cb306-16"><a href="#cb306-16"></a>}</span>
<span id="cb306-17"><a href="#cb306-17"></a>(normalized_measurements <span class="ot">&lt;-</span> <span class="fu">rapply</span>(</span>
<span id="cb306-18"><a href="#cb306-18"></a>  measurements, norm, <span class="at">how =</span> <span class="st">"replace"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>$Ankara
$Ankara$day1
$Ankara$day1$PM25
 [1] 0.375 0.463 0.939 0.543 0.558 0.981 0.647 0.187 0.341
[10] 0.405 0.850 0.620 0.631 0.553 0.376 1.000 0.657 0.000
[19] 0.711 0.398 0.239 0.466 0.251 0.330

$Ankara$day1$NO2
 [1] 0.275 0.000 0.655 0.477 0.142 0.763 0.548 0.361 0.670
[10] 0.665 0.651 0.616 0.581 0.421 0.358 0.339 0.257 0.384
[19] 0.109 1.000 0.751 0.146 0.333 0.316

$Ankara$day1$SO2
 [1] 0.709 0.511 0.588 0.523 0.520 0.844 0.478 0.878 0.174
[10] 0.664 0.558 0.579 0.617 0.414 0.453 0.296 0.284 0.599
[19] 0.633 0.542 0.741 1.000 0.417 0.000


$Ankara$day2
$Ankara$day2$PM25
 [1] 0.863 0.198 0.206 0.870 0.363 0.000 0.543 0.419 0.475
[10] 0.622 0.329 0.723 0.387 0.601 0.898 0.641 0.347 0.918
[19] 0.858 0.685 0.565 0.230 1.000 0.240

$Ankara$day2$NO2
 [1] 1.000 0.830 0.372 0.166 0.248 0.499 0.369 0.342 0.186
[10] 0.421 0.229 0.000 0.334 0.671 0.283 0.590 0.013 0.418
[19] 0.567 0.511 0.460 0.266 0.212 0.167

$Ankara$day2$SO2
 [1] 0.548 0.279 0.394 0.454 0.984 0.354 0.578 0.538 0.275
[10] 0.500 0.883 0.632 0.529 0.412 0.000 0.804 0.150 0.705
[19] 1.000 0.154 0.695 0.452 0.121 0.136


$Ankara$day3
$Ankara$day3$PM25
 [1] 0.0000 0.2211 0.0289 0.4728 0.7644 0.0649 0.4934 0.4895
 [9] 0.3993 0.1225 0.3061 0.2728 0.4470 0.2538 0.5325 0.2534
[17] 0.5481 0.1141 0.0705 1.0000 0.2446 0.3923 0.4622 0.2308

$Ankara$day3$NO2
 [1] 0.5002 0.4543 0.2731 0.3602 0.3293 1.0000 0.1100 0.0000
 [9] 0.3516 0.4362 0.4753 0.1977 0.0101 0.7317 0.2315 0.0715
[17] 0.2666 0.2788 0.6841 0.3662 0.5738 0.1851 0.4064 0.2392

$Ankara$day3$SO2
 [1] 0.4004 0.1184 0.0000 0.9426 0.5447 0.0170 0.1993 0.0357
 [9] 1.0000 0.7474 0.2979 0.5283 0.2554 0.2378 0.1488 0.2041
[17] 0.8439 0.3581 0.4075 0.4429 0.7247 0.2264 0.0907 0.8509


$Ankara$day4
$Ankara$day4$PM25
 [1] 0.26766 0.18151 0.02467 0.00987 0.22707 0.59133 0.74164
 [8] 0.61871 0.29134 0.42073 0.18715 0.18329 0.67282 0.09211
[15] 1.00000 0.37487 0.46803 0.17678 0.22694 0.00000 0.34657
[22] 0.53051 0.50158 0.16364

$Ankara$day4$NO2
 [1] 0.2167 0.3000 0.8817 0.1152 0.3941 1.0000 0.4168 0.0504
 [9] 0.2527 0.5875 0.3369 0.2827 0.3461 0.4726 0.9115 0.4204
[17] 0.7608 0.6298 0.4131 0.0000 0.2945 0.3036 0.4600 0.8247

$Ankara$day4$SO2
 [1] 1.0000 0.8159 0.4009 0.0000 0.3377 0.4558 0.6424 0.6714
 [9] 0.6027 0.0892 0.6436 0.3235 0.4769 0.4522 0.5395 0.4398
[17] 0.0220 0.6156 0.5291 0.3682 0.4629 0.4669 0.4883 0.8389


$Ankara$day5
$Ankara$day5$PM25
 [1] 0.443 0.539 0.785 0.757 0.780 0.355 0.991 0.514 0.958
[10] 0.164 0.502 0.806 0.321 0.311 0.265 0.237 0.389 0.579
[19] 0.000 0.549 0.802 1.000 0.818 0.684

$Ankara$day5$NO2
 [1] 0.0871 0.3882 0.4550 0.7375 0.5209 0.2124 1.0000 0.7931
 [9] 0.6128 0.8752 0.1909 0.7261 0.4093 0.7322 0.5329 0.7186
[17] 0.9066 0.5512 0.8215 0.2312 0.3561 0.9558 0.6502 0.0000

$Ankara$day5$SO2
 [1] 0.2187 0.4497 0.6614 0.4693 0.6134 0.6799 0.8213 0.5006
 [9] 0.4792 0.1415 0.5092 0.3760 0.2962 0.4538 0.6910 0.0939
[17] 0.4047 0.5127 0.3122 0.5558 0.5712 0.4830 0.0000 1.0000


$Ankara$day6
$Ankara$day6$PM25
 [1] 0.3767 0.5803 0.4906 0.6691 0.6199 0.3757 0.5154 0.2008
 [9] 0.6292 0.3160 1.0000 0.0331 0.3153 0.6217 0.5468 0.2854
[17] 0.1886 0.4599 0.4221 0.0000 0.4338 0.4708 0.4671 0.1748

$Ankara$day6$NO2
 [1] 0.719 0.966 0.714 0.279 0.470 0.684 0.413 0.000 0.831
[10] 0.363 0.433 1.000 0.378 0.820 0.245 0.492 0.569 0.270
[19] 0.416 0.581 0.772 0.138 0.494 0.796

$Ankara$day6$SO2
 [1] 0.417 0.569 0.622 0.578 0.654 0.500 0.442 0.000 0.506
[10] 0.610 0.631 0.414 0.877 0.581 0.549 0.777 0.382 0.435
[19] 1.000 0.527 0.848 0.239 0.487 0.599


$Ankara$day7
$Ankara$day7$PM25
 [1] 0.724 0.405 0.655 0.387 0.825 0.916 0.107 0.952 0.347
[10] 0.762 0.812 0.602 0.493 0.691 0.758 0.866 0.149 0.250
[19] 1.000 0.906 0.757 0.825 0.875 0.000

$Ankara$day7$NO2
 [1] 0.7377 0.2541 0.4710 0.3116 0.6655 0.2954 0.5583 0.2826
 [9] 0.0698 0.7679 0.6257 0.9239 0.4208 0.7422 1.0000 0.3158
[17] 0.0000 0.3285 0.3362 0.4471 0.9202 0.3022 0.5142 0.3321

$Ankara$day7$SO2
 [1] 0.4618 0.5602 0.8999 0.4956 0.6938 0.7159 0.7614 0.2625
 [9] 1.0000 0.3273 0.4195 0.9253 0.8885 0.0898 0.1625 0.0000
[17] 0.5159 0.5102 0.5770 0.6400 0.2533 0.1221 0.7990 0.7066


$Ankara$day8
$Ankara$day8$PM25
 [1] 0.170 0.597 0.355 0.000 0.671 0.602 0.597 0.691 0.893
[10] 0.688 0.440 0.404 0.586 0.720 0.312 0.570 0.919 0.593
[19] 0.415 0.543 0.963 0.792 1.000 0.668

$Ankara$day8$NO2
 [1] 0.4754 0.2239 0.5261 0.2374 0.0000 0.4021 0.8742 0.5769
 [9] 0.6715 0.4621 0.2109 0.3164 0.2979 0.2472 0.5518 0.0580
[17] 0.5939 0.5933 0.0576 0.5350 1.0000 0.2242 0.5883 0.1658

$Ankara$day8$SO2
 [1] 0.826029 0.549295 1.000000 0.000000 0.452499 0.299608
 [7] 0.405578 0.266610 0.200948 0.655020 0.119384 0.946033
[13] 0.087681 0.501481 0.640319 0.657596 0.371992 0.494545
[19] 0.777989 0.000805 0.217697 0.571983 0.326013 0.909379


$Ankara$day9
$Ankara$day9$PM25
 [1] 0.746 0.617 0.279 0.607 0.534 0.580 0.349 0.708 0.379
[10] 0.553 0.683 0.434 0.727 0.320 0.000 0.701 0.782 0.540
[19] 0.710 0.354 0.574 0.186 0.855 1.000

$Ankara$day9$NO2
 [1] 0.857 0.600 0.599 0.253 0.791 0.557 0.453 0.277 0.537
[10] 0.409 0.514 0.323 1.000 0.603 0.857 0.000 0.501 0.449
[19] 0.321 0.967 0.277 0.681 0.804 0.648

$Ankara$day9$SO2
 [1] 0.2650 0.7157 0.5245 0.2182 0.1377 1.0000 0.3138 0.0217
 [9] 0.6145 0.5591 0.1462 0.0000 0.4533 0.7649 0.6400 0.3598
[17] 0.2752 0.5494 0.5212 0.6384 0.3839 0.7053 0.2760 0.4001


$Ankara$day10
$Ankara$day10$PM25
 [1] 0.7093 0.7684 0.0737 0.5590 0.6780 0.1894 0.6476 0.3371
 [9] 0.7756 0.6613 0.7160 0.5622 0.7384 0.8610 1.0000 0.5268
[17] 0.0000 0.5410 0.5823 0.4967 0.6684 0.7733 0.4107 0.4638

$Ankara$day10$NO2
 [1] 0.5459 0.3369 0.4783 0.0257 0.2113 0.1655 0.2700 0.3053
 [9] 0.5424 0.6747 0.2978 0.2384 0.2285 0.3668 0.4055 0.5648
[17] 0.3873 0.0000 0.4380 0.7199 0.7208 0.2843 0.1170 1.0000

$Ankara$day10$SO2
 [1] 0.4751 0.4963 0.6659 0.0000 0.2899 0.0241 0.3014 0.5671
 [9] 0.0816 0.7213 0.6229 0.2323 0.6023 0.7731 0.8755 0.4586
[17] 0.4976 0.4999 1.0000 0.8965 0.8013 0.4342 0.6504 0.6602


$Ankara$day11
$Ankara$day11$PM25
 [1] 0.2085 0.0498 0.5976 0.0958 0.4496 0.5071 0.5796 0.4930
 [9] 0.2799 0.6772 0.8511 0.6529 0.0000 0.7727 0.4363 0.5706
[17] 0.5930 0.4269 0.4318 0.6848 0.6137 0.6781 1.0000 0.6028

$Ankara$day11$NO2
 [1] 0.4932 0.0000 1.0000 0.3525 0.9353 0.5274 0.7647 0.4286
 [9] 0.5553 0.4946 0.4130 0.4264 0.6575 0.4098 0.0353 0.4110
[17] 0.5610 0.5767 0.5767 0.1058 0.5262 0.6484 0.7113 0.4050

$Ankara$day11$SO2
 [1] 0.4266 0.8983 0.0757 0.3966 0.6297 0.0887 0.5834 1.0000
 [9] 0.5094 0.4379 0.6343 0.4377 0.7225 0.7462 0.5112 0.2037
[17] 0.1668 0.3559 0.7183 0.0000 0.0187 0.3400 0.6133 0.2723


$Ankara$day12
$Ankara$day12$PM25
 [1] 0.727 0.608 0.501 0.712 0.620 0.442 0.587 0.676 0.613
[10] 0.396 0.720 0.784 0.596 0.568 0.521 1.000 0.596 0.503
[19] 0.000 0.202 0.520 0.581 0.596 0.713

$Ankara$day12$NO2
 [1] 0.4923 0.9104 0.2764 0.1912 0.1851 0.7702 0.5253 0.7843
 [9] 0.4704 0.3742 0.4406 0.0000 0.2027 0.1219 0.8628 0.3726
[17] 0.7842 1.0000 0.4930 0.6341 0.0301 0.3069 0.5666 0.6387

$Ankara$day12$SO2
 [1] 0.1688 1.0000 0.2414 0.3676 0.5089 0.3458 0.1968 0.6043
 [9] 0.7419 0.3449 0.4878 0.3286 0.5974 0.0730 0.9122 0.2064
[17] 0.0000 0.2674 0.3875 0.7439 0.5720 0.3864 0.0167 0.1431


$Ankara$day13
$Ankara$day13$PM25
 [1] 0.385 1.000 0.000 0.678 0.302 0.799 0.163 0.454 0.172
[10] 0.626 0.758 0.864 0.602 0.839 0.704 0.392 0.530 0.201
[19] 0.380 0.698 0.544 0.525 0.186 0.285

$Ankara$day13$NO2
 [1] 0.1119 0.4203 0.0518 0.4646 0.0183 0.8014 0.4376 0.1288
 [9] 0.3793 0.2215 0.4139 0.3799 0.0455 0.1048 0.3948 0.7510
[17] 0.6036 0.1491 0.5348 0.3023 0.3953 0.3844 1.0000 0.0000

$Ankara$day13$SO2
 [1] 0.4591 0.0329 0.5699 0.6847 0.7638 0.0000 0.5298 0.7973
 [9] 0.3424 0.3882 0.4280 0.5189 0.5870 0.7348 0.4146 0.4807
[17] 1.0000 0.5339 0.4790 0.1321 0.4369 0.3861 0.4337 0.3058


$Ankara$day14
$Ankara$day14$PM25
 [1] 0.2706 0.2614 0.3985 0.8271 0.7407 0.3591 0.0000 0.2278
 [9] 0.3326 0.4846 0.2771 1.0000 0.3828 0.1278 0.4183 0.1843
[17] 0.4989 0.5198 0.5529 0.0173 0.5163 0.5406 0.0717 0.7153

$Ankara$day14$NO2
 [1] 0.6556 0.9988 0.5135 0.4886 0.4999 0.4938 0.0595 0.0996
 [9] 0.4605 0.3465 0.4904 0.0000 0.1387 0.2286 0.7013 0.2293
[17] 0.2970 0.4961 0.4050 0.5112 1.0000 0.2234 0.4089 0.3610

$Ankara$day14$SO2
 [1] 0.818 0.358 0.497 0.672 0.300 0.847 0.649 0.297 0.605
[10] 0.470 0.576 0.495 0.729 0.241 0.408 0.463 0.313 0.304
[19] 0.510 0.487 0.000 0.723 0.564 1.000


$Ankara$day15
$Ankara$day15$PM25
 [1] 0.5208 0.2682 0.9922 1.0000 0.0959 0.4726 0.3208 0.4097
 [9] 0.4187 0.0863 0.4316 0.7583 0.3313 0.3315 0.6800 0.5684
[17] 0.0000 0.4189 0.7369 0.6838 0.4616 0.5289 0.1008 0.4349

$Ankara$day15$NO2
 [1] 0.1145 0.2728 0.7173 0.0563 0.5040 0.5555 0.4364 1.0000
 [9] 0.0928 0.6122 0.3905 0.3357 0.5669 0.0935 0.0000 0.2612
[17] 0.9775 0.4367 0.5246 0.3583 0.5689 0.1154 0.7882 0.6053

$Ankara$day15$SO2
 [1] 0.0986 0.3987 0.6295 0.5742 0.8964 0.1660 0.7689 0.7411
 [9] 0.3231 0.0395 0.0000 0.5393 0.3549 1.0000 0.5663 0.2500
[17] 0.0222 0.1767 0.4993 0.2225 0.5590 0.2632 0.3429 0.1250


$Ankara$day16
$Ankara$day16$PM25
 [1] 1.000 0.633 0.609 0.160 0.709 0.316 0.347 0.770 0.449
[10] 0.147 0.968 0.000 0.689 0.793 0.408 0.659 0.658 0.798
[19] 0.668 0.498 0.769 0.742 0.336 0.228

$Ankara$day16$NO2
 [1] 0.417 0.334 0.197 0.403 0.132 0.418 0.266 0.571 0.854
[10] 0.210 0.590 0.545 0.373 0.299 0.690 0.000 0.263 0.110
[19] 0.655 0.350 0.285 1.000 0.377 0.301

$Ankara$day16$SO2
 [1] 0.594 0.000 0.654 0.468 0.647 0.186 0.173 0.278 0.254
[10] 0.911 1.000 0.448 0.384 0.394 0.520 0.529 0.590 0.261
[19] 0.229 0.879 0.324 0.595 0.480 0.194


$Ankara$day17
$Ankara$day17$PM25
 [1] 0.745 0.626 0.976 0.610 0.482 0.656 0.238 0.338 0.722
[10] 0.481 0.558 0.544 0.391 0.000 0.676 0.794 0.208 1.000
[19] 0.687 0.960 0.303 0.624 0.548 0.796

$Ankara$day17$NO2
 [1] 0.3695 0.4983 0.0957 0.3236 0.5291 0.3398 0.4907 0.3941
 [9] 0.6388 0.7666 0.3134 0.4307 0.8284 0.0000 0.4278 0.9707
[17] 1.0000 0.5363 0.3040 0.5383 0.3520 0.8314 0.3170 0.5855

$Ankara$day17$SO2
 [1] 0.85127 0.43162 0.92186 0.43453 0.85444 0.99655 0.36125
 [8] 1.00000 0.51326 0.75210 0.72391 0.53226 0.74410 0.28753
[15] 0.62094 0.91402 0.00000 0.20907 0.30839 0.17825 0.79025
[22] 0.35989 0.00292 0.46816


$Ankara$day18
$Ankara$day18$PM25
 [1] 0.3971 0.7179 0.2136 0.7962 0.6000 0.5907 0.2783 1.0000
 [9] 0.4553 0.0282 0.4451 0.0000 0.4177 0.3889 0.6729 0.7572
[17] 0.3108 0.7049 0.8639 0.2959 0.3297 0.6649 0.5446 0.6387

$Ankara$day18$NO2
 [1] 0.9888 0.5879 0.8498 0.6808 0.6063 0.5875 0.9442 0.0405
 [9] 0.0000 0.6686 0.3883 0.4646 0.7275 0.7322 0.3319 0.3123
[17] 0.4644 0.8542 0.6033 1.0000 0.4324 0.8789 0.7833 0.6766

$Ankara$day18$SO2
 [1] 0.6676 0.4976 0.5394 0.6223 0.5781 0.7969 0.5394 0.5489
 [9] 0.4476 0.5323 0.5493 0.0000 0.2322 0.5484 0.5012 0.2723
[17] 0.0788 0.4794 0.7260 1.0000 0.5567 0.9315 0.5864 0.5944


$Ankara$day19
$Ankara$day19$PM25
 [1] 0.666 0.273 0.542 0.857 0.313 0.454 0.182 0.676 0.699
[10] 0.772 0.159 0.594 0.249 0.559 1.000 0.394 0.794 0.313
[19] 0.402 0.703 0.336 0.000 0.975 0.677

$Ankara$day19$NO2
 [1] 0.2619 0.0000 0.7236 1.0000 0.4089 0.5282 0.5978 0.2400
 [9] 0.3051 0.0496 0.2335 0.4859 0.3163 0.3306 0.3494 0.0242
[17] 0.5259 0.1023 0.3316 0.2889 0.3297 0.6415 0.2622 0.2249

$Ankara$day19$SO2
 [1] 0.00000 0.20253 0.10027 0.54680 0.18627 0.51733 0.38954
 [8] 0.02442 0.20681 0.68216 0.68726 1.00000 0.43006 0.00676
[15] 0.21310 0.54696 0.97009 0.46229 0.75457 0.64896 0.09973
[22] 0.38254 0.80134 0.67960


$Ankara$day20
$Ankara$day20$PM25
 [1] 0.745 0.749 0.453 0.199 1.000 0.168 0.315 0.796 0.216
[10] 0.434 0.241 0.793 0.740 0.732 0.739 0.774 0.799 0.000
[19] 0.558 0.638 0.825 0.239 0.450 0.274

$Ankara$day20$NO2
 [1] 0.900 0.972 0.812 0.156 0.702 0.930 0.610 0.370 0.201
[10] 0.338 0.788 0.414 0.629 0.977 0.744 1.000 0.000 0.463
[19] 0.576 0.744 0.174 0.818 0.655 0.641

$Ankara$day20$SO2
 [1] 0.749 0.603 0.847 0.782 0.595 0.874 0.699 0.787 0.491
[10] 1.000 0.629 0.829 0.607 0.565 0.814 0.260 0.742 0.722
[19] 0.000 0.717 0.123 0.785 0.524 0.468


$Ankara$day21
$Ankara$day21$PM25
 [1] 0.5167 0.8757 0.3532 0.6637 0.6072 0.2116 0.0655 0.0000
 [9] 0.6619 0.5094 1.0000 0.6677 0.7396 0.8657 0.3882 0.6512
[17] 0.7445 0.8748 0.7169 0.6281 0.2926 0.7083 0.6486 0.6835

$Ankara$day21$NO2
 [1] 0.7171 0.5200 0.5594 0.8003 0.6377 0.3220 0.4922 0.1679
 [9] 0.2788 0.5380 0.0169 0.0514 0.9311 0.4019 0.0000 0.5480
[17] 1.0000 0.7924 0.7227 0.9567 0.3405 0.8136 0.3986 0.5839

$Ankara$day21$SO2
 [1] 0.982 0.658 0.605 0.117 0.201 1.000 0.121 0.461 0.638
[10] 0.671 0.689 0.363 0.192 0.326 0.171 0.569 0.697 0.959
[19] 0.501 0.178 0.672 0.641 0.343 0.000


$Ankara$day22
$Ankara$day22$PM25
 [1] 0.679 0.797 0.341 0.607 0.347 0.654 0.398 0.325 0.471
[10] 0.344 0.246 0.334 0.433 0.502 0.926 0.000 0.371 0.638
[19] 1.000 0.572 0.431 0.337 0.568 0.752

$Ankara$day22$NO2
 [1] 0.4361 0.5473 0.5644 0.7284 0.8507 0.5843 0.4705 0.9414
 [9] 0.5476 1.0000 0.4751 0.6914 0.0000 0.4589 0.4879 0.2522
[17] 0.1633 0.7984 0.7875 0.0792 0.6308 0.1388 0.1585 0.6631

$Ankara$day22$SO2
 [1] 0.3088 0.8858 0.5577 0.7287 0.3646 0.1490 0.8588 0.6263
 [9] 0.4624 0.5683 1.0000 0.3047 0.2871 0.3316 0.0000 0.8261
[17] 0.6106 0.6157 0.5296 0.3692 0.2616 0.8371 0.0546 0.6958


$Ankara$day23
$Ankara$day23$PM25
 [1] 0.308 0.535 0.319 0.365 0.850 0.617 0.022 0.502 0.380
[10] 0.235 0.520 0.503 0.406 0.893 0.000 0.653 0.415 0.615
[19] 0.380 0.350 0.114 0.431 1.000 0.685

$Ankara$day23$NO2
 [1] 0.7001 0.5589 0.6015 0.5566 0.4773 0.2808 0.2900 0.0917
 [9] 0.3879 0.5560 0.5806 0.4067 0.2873 1.0000 0.5258 0.6528
[17] 0.3263 0.3819 0.4723 0.7003 0.3311 0.5475 0.0000 0.2948

$Ankara$day23$SO2
 [1] 0.2304 0.8668 0.5287 0.4689 0.9345 0.8676 0.3346 0.6855
 [9] 0.2472 0.4464 1.0000 0.9560 0.8657 0.4212 0.0744 0.2611
[17] 0.8243 0.4954 0.0000 0.5246 0.9454 0.7425 0.3549 0.1632


$Ankara$day24
$Ankara$day24$PM25
 [1] 0.3141 0.5571 0.7979 0.0000 0.8361 0.5489 0.7081 0.0809
 [9] 0.3593 0.4209 0.8419 0.8375 0.6701 1.0000 0.4019 0.8331
[17] 0.5372 0.3591 0.8079 0.9370 0.7952 0.4036 0.4148 0.9361

$Ankara$day24$NO2
 [1] 0.692 0.789 0.551 0.876 0.455 0.747 0.454 0.119 0.347
[10] 0.648 0.800 0.264 0.365 0.979 0.532 0.723 0.513 0.559
[19] 0.638 0.622 0.581 0.524 0.000 1.000

$Ankara$day24$SO2
 [1] 0.832 0.212 0.412 0.743 0.662 0.722 0.219 1.000 0.206
[10] 0.610 0.478 0.362 0.367 0.236 0.796 0.467 0.504 0.493
[19] 0.368 0.205 0.503 0.000 0.145 0.218


$Ankara$day25
$Ankara$day25$PM25
 [1] 0.1285 0.4775 0.9163 0.0000 0.5735 0.7106 0.1547 0.4304
 [9] 0.6883 0.3707 0.3810 0.5365 0.4283 0.2824 0.4051 1.0000
[17] 0.7030 0.1768 0.0796 0.3400 0.8370 0.5321 0.2395 0.7055

$Ankara$day25$NO2
 [1] 0.4334 0.2095 0.5682 0.8093 0.5622 0.5072 0.3148 0.5926
 [9] 0.2209 0.0887 0.4538 0.4558 1.0000 0.1878 0.5024 0.6462
[17] 0.7019 0.4612 0.2951 0.4487 0.9035 0.5731 0.0000 0.7865

$Ankara$day25$SO2
 [1] 0.61406 0.39798 0.40389 0.35423 0.50718 0.22095 0.51488
 [8] 0.06004 0.48595 0.82724 0.60228 0.79973 0.00000 0.43124
[15] 0.64295 0.00861 1.00000 0.02110 0.47254 0.46776 0.45641
[22] 0.33141 0.57997 0.02247


$Ankara$day26
$Ankara$day26$PM25
 [1] 0.0385 0.2507 0.4503 0.8895 1.0000 0.5762 0.5970 0.3880
 [9] 0.4855 0.0000 0.5663 0.2904 0.5813 0.3538 0.2483 0.3962
[17] 0.3468 0.8353 0.5394 0.6140 0.0547 0.9697 0.5227 0.1832

$Ankara$day26$NO2
 [1] 0.6133 0.7705 0.1394 1.0000 0.4826 0.8407 0.5470 0.4337
 [9] 0.0131 0.2188 0.5152 0.7586 0.0000 0.9119 0.9185 0.2067
[17] 0.6590 0.2374 0.4918 0.7868 0.7699 0.2891 0.4186 0.2535

$Ankara$day26$SO2
 [1] 0.606 0.218 0.000 0.836 1.000 0.443 0.692 0.535 0.837
[10] 0.649 0.578 0.169 0.757 0.465 0.250 0.495 0.510 0.752
[19] 0.298 0.423 0.840 0.813 0.774 0.875


$Ankara$day27
$Ankara$day27$PM25
 [1] 0.495 0.316 0.576 0.691 1.000 0.000 0.511 0.598 0.436
[10] 0.093 0.618 0.271 0.564 0.656 0.742 0.093 0.696 0.276
[19] 0.154 0.749 0.711 0.393 0.622 0.252

$Ankara$day27$NO2
 [1] 0.486 0.497 0.460 0.661 0.820 0.425 0.509 0.839 0.450
[10] 0.000 0.617 0.340 0.318 0.797 1.000 0.310 0.720 0.497
[19] 0.544 0.757 0.558 0.347 0.422 0.651

$Ankara$day27$SO2
 [1] 0.0000 0.9433 0.2114 0.6482 0.5899 0.9977 0.6941 0.6702
 [9] 0.8342 0.4148 0.5884 0.9660 0.8301 0.2915 0.8176 0.2635
[17] 0.4777 0.9751 0.0233 0.1531 1.0000 0.4182 0.9841 0.5960


$Ankara$day28
$Ankara$day28$PM25
 [1] 0.504 0.584 0.280 0.352 0.329 1.000 0.441 0.513 0.344
[10] 0.365 0.702 0.345 0.419 0.493 0.326 0.822 0.119 0.833
[19] 0.342 0.697 0.000 0.614 0.597 0.151

$Ankara$day28$NO2
 [1] 0.276 0.556 0.832 0.276 0.434 0.957 0.171 0.775 0.630
[10] 0.177 0.305 0.727 0.572 0.914 0.324 0.000 0.805 0.322
[19] 0.534 1.000 0.426 0.951 0.180 0.769

$Ankara$day28$SO2
 [1] 0.533 0.278 0.137 0.489 0.535 0.541 0.608 0.349 0.336
[10] 0.530 0.328 0.785 0.514 0.309 0.000 0.302 1.000 0.323
[19] 0.252 0.638 0.584 0.664 0.397 0.760


$Ankara$day29
$Ankara$day29$PM25
 [1] 0.0000 0.3478 0.1450 0.5736 0.4031 0.7064 1.0000 0.4064
 [9] 0.1975 0.1080 0.2815 0.3414 0.9794 0.0135 0.0246 0.2367
[17] 0.5448 0.6170 0.0819 0.4022 0.3496 0.7328 0.7000 0.2663

$Ankara$day29$NO2
 [1] 0.534 0.724 0.000 0.422 0.700 0.355 0.501 0.513 0.292
[10] 0.207 0.457 0.410 0.781 1.000 0.516 0.645 0.497 0.708
[19] 0.588 0.594 0.869 0.209 0.974 0.629

$Ankara$day29$SO2
 [1] 0.7837 0.5515 0.6757 0.8441 0.0805 0.5386 0.9106 0.6348
 [9] 0.4763 0.5279 0.8009 0.2149 1.0000 0.0476 0.5694 0.4804
[17] 0.3359 0.3894 0.8054 0.6895 0.6328 0.0000 0.3122 0.6859


$Ankara$day30
$Ankara$day30$PM25
 [1] 0.1219 0.1589 1.0000 0.6019 0.0463 0.3084 0.3921 0.2120
 [9] 0.0827 0.4983 0.8595 0.6252 0.4307 0.6985 0.8835 0.4579
[17] 0.7295 0.0000 0.4081 0.3304 0.6110 0.6847 0.4656 0.1728

$Ankara$day30$NO2
 [1] 0.396 0.698 0.969 0.431 0.532 0.711 0.490 0.659 0.617
[10] 0.434 0.837 0.841 0.885 0.946 0.502 0.512 0.694 0.786
[19] 0.543 0.522 0.474 1.000 0.000 0.587

$Ankara$day30$SO2
 [1] 0.5778 0.3014 0.6653 0.0729 0.8087 0.1494 0.0135 0.3759
 [9] 0.6090 0.4041 0.4274 0.6521 0.3016 0.5466 0.6936 0.9797
[17] 0.6889 1.0000 0.6823 0.5674 0.0000 0.2598 0.4879 0.7476



$Istanbul
$Istanbul$day1
$Istanbul$day1$PM25
 [1] 0.535 0.820 0.291 0.551 0.712 0.523 0.678 0.420 0.764
[10] 0.614 0.626 0.000 0.419 0.151 0.113 0.479 0.588 0.734
[19] 1.000 0.787 0.974 0.468 0.540 0.998

$Istanbul$day1$NO2
 [1] 0.424 0.000 0.210 0.678 0.270 0.508 0.428 0.299 0.336
[10] 0.523 0.477 0.736 0.374 0.191 0.466 0.602 1.000 0.307
[19] 0.342 0.647 0.747 0.258 0.592 0.281

$Istanbul$day1$SO2
 [1] 0.326 0.714 0.587 0.657 0.420 1.000 0.724 0.470 0.733
[10] 0.265 0.528 0.904 0.515 0.784 0.507 0.000 0.346 0.616
[19] 0.915 0.416 0.629 0.326 0.313 0.372


$Istanbul$day2
$Istanbul$day2$PM25
 [1] 1.0000 0.8761 0.7759 0.9267 0.4816 0.8238 0.6649 0.3011
 [9] 0.3641 0.6188 0.6637 0.5114 0.3163 0.0000 0.7272 0.5190
[17] 0.7630 0.1575 0.2421 0.5721 0.1960 0.0312 0.8308 0.8647

$Istanbul$day2$NO2
 [1] 0.258 0.517 0.223 0.718 0.599 0.313 0.345 0.247 0.758
[10] 0.804 0.738 0.322 0.000 0.791 0.549 0.596 0.962 0.305
[19] 1.000 0.469 0.366 0.539 0.743 0.539

$Istanbul$day2$SO2
 [1] 0.393 0.542 0.000 0.487 0.719 0.569 0.774 0.726 0.764
[10] 0.767 0.193 0.610 1.000 0.494 0.718 0.644 0.743 0.544
[19] 0.454 0.627 0.659 0.565 0.617 0.708


$Istanbul$day3
$Istanbul$day3$PM25
 [1] 0.293 0.748 1.000 0.828 0.370 0.045 0.491 0.687 0.662
[10] 0.186 0.213 0.509 0.626 0.685 0.671 0.248 0.166 0.000
[19] 0.598 0.674 0.557 0.226 0.850 0.390

$Istanbul$day3$NO2
 [1] 1.000 0.668 0.841 0.608 0.501 0.245 0.368 0.506 0.595
[10] 0.510 0.471 0.569 0.377 0.374 0.125 0.748 0.532 0.496
[19] 0.319 0.452 0.225 0.235 0.000 0.784

$Istanbul$day3$SO2
 [1] 0.3003 0.0000 0.5510 0.4207 0.4492 0.2153 0.1677 0.2461
 [9] 0.3676 0.4631 0.6539 0.1468 0.0245 0.2942 1.0000 0.1663
[17] 0.5466 0.2111 0.1542 0.0982 0.2188 0.6665 0.3428 0.3876


$Istanbul$day4
$Istanbul$day4$PM25
 [1] 0.749 1.000 0.737 0.289 0.369 0.256 0.000 0.841 0.479
[10] 0.659 0.819 0.475 0.552 0.650 0.625 0.422 0.727 0.690
[19] 0.520 0.331 0.708 0.869 0.860 0.756

$Istanbul$day4$NO2
 [1] 0.4840 0.4712 0.4563 0.5030 0.8003 0.6802 0.1197 0.1186
 [9] 0.6061 0.6520 0.0000 0.3956 0.6195 1.0000 0.0782 0.2791
[17] 0.3256 0.6587 0.7000 0.5271 0.1844 0.4449 0.4635 0.5584

$Istanbul$day4$SO2
 [1] 0.7202 0.1417 0.3312 0.1345 0.0000 0.4719 0.0477 1.0000
 [9] 0.3353 0.3271 0.2952 0.7757 0.4790 0.2488 0.0186 0.0507
[17] 0.1145 0.6176 0.2644 0.1215 0.5112 0.6503 0.1373 0.2001


$Istanbul$day5
$Istanbul$day5$PM25
 [1] 0.5824 0.4756 0.6010 1.0000 0.4586 0.3914 0.6251 0.4620
 [9] 0.6686 0.4087 0.6124 0.0000 0.4813 0.3196 0.1139 0.3510
[17] 0.5905 0.5052 0.6886 0.7641 0.7298 0.3781 0.0719 0.3915

$Istanbul$day5$NO2
 [1] 0.7459 0.4028 0.0000 0.5656 0.5099 0.3286 0.4811 0.7989
 [9] 0.7803 0.3138 0.4379 0.0487 0.2417 0.9687 0.8331 0.3741
[17] 0.2511 0.0719 1.0000 0.4655 0.2772 0.7215 0.1429 0.6281

$Istanbul$day5$SO2
 [1] 0.815 0.307 0.818 0.569 0.162 0.548 0.154 0.207 0.610
[10] 0.225 0.364 0.685 0.000 0.862 1.000 0.560 0.501 0.218
[19] 0.522 0.217 0.460 0.160 0.614 0.584


$Istanbul$day6
$Istanbul$day6$PM25
 [1] 0.8303 1.0000 0.3965 0.7667 0.2173 0.4399 0.7620 0.3754
 [9] 0.6243 0.3382 0.4599 0.5356 0.4044 0.0982 0.6007 0.6540
[17] 0.5763 0.4327 0.7516 0.7923 0.0000 0.8031 0.1364 0.4658

$Istanbul$day6$NO2
 [1] 0.254 0.379 0.889 0.684 0.674 0.000 0.596 0.709 0.770
[10] 0.289 0.790 0.179 1.000 0.335 0.745 0.628 0.266 0.844
[19] 0.553 0.759 0.602 0.772 0.550 0.837

$Istanbul$day6$SO2
 [1] 0.389 0.647 0.603 0.740 0.311 0.545 0.323 0.759 0.306
[10] 1.000 0.724 0.489 0.846 0.468 0.658 0.647 0.617 0.318
[19] 0.126 0.000 0.359 0.693 0.423 0.140


$Istanbul$day7
$Istanbul$day7$PM25
 [1] 1.000 0.686 0.955 0.796 0.402 0.445 0.222 0.694 0.885
[10] 0.335 0.274 0.725 0.206 0.949 0.657 0.163 0.610 0.556
[19] 0.000 0.525 0.407 0.342 0.585 0.718

$Istanbul$day7$NO2
 [1] 1.000 0.000 0.774 0.385 0.869 0.683 0.935 0.264 0.717
[10] 0.672 0.844 0.551 0.866 0.502 0.505 0.610 0.359 0.499
[19] 0.858 0.983 0.859 0.506 0.677 0.626

$Istanbul$day7$SO2
 [1] 0.0000 0.5510 0.1580 0.0721 0.7211 0.2003 0.4052 0.1037
 [9] 0.4778 0.6364 0.6401 0.0668 0.9146 1.0000 0.5930 0.5147
[17] 0.4856 0.5511 0.5943 0.5072 0.6951 0.3355 0.8679 0.4438


$Istanbul$day8
$Istanbul$day8$PM25
 [1] 0.1249 0.6103 0.7705 1.0000 0.6571 0.0709 0.6409 0.2880
 [9] 0.3534 0.3389 0.4053 0.9728 0.3958 0.5108 0.6935 0.9005
[17] 0.4441 0.3973 0.4875 0.2961 0.9091 0.0000 0.4848 0.2171

$Istanbul$day8$NO2
 [1] 0.144 0.617 0.977 1.000 0.476 0.444 0.482 0.780 0.000
[10] 0.669 0.514 0.433 0.132 0.561 0.217 0.607 0.397 0.621
[19] 0.720 0.490 0.367 0.465 0.451 0.255

$Istanbul$day8$SO2
 [1] 0.1555 0.3552 0.3459 0.5331 0.8604 0.5345 0.9230 0.2006
 [9] 0.8804 0.6229 0.0156 0.5578 0.0000 0.7432 0.2374 0.3407
[17] 0.1899 0.1311 1.0000 0.7584 0.6507 0.4461 0.6715 0.6461


$Istanbul$day9
$Istanbul$day9$PM25
 [1] 0.936762 0.757288 0.505701 0.503627 0.443322 0.468173
 [7] 0.498437 0.846096 0.000213 0.387638 0.523162 0.249149
[13] 0.940473 0.499089 0.288771 0.342437 0.762613 1.000000
[19] 0.525214 0.580307 0.328879 0.868430 0.726946 0.000000

$Istanbul$day9$NO2
 [1] 0.402 0.512 0.279 0.502 0.272 0.670 0.664 0.791 0.686
[10] 1.000 0.472 0.000 0.581 0.748 0.468 0.948 0.867 0.718
[19] 0.593 0.427 0.527 0.700 0.833 0.496

$Istanbul$day9$SO2
 [1] 0.1799 1.0000 0.4990 0.1350 0.6046 0.3821 0.5779 0.3796
 [9] 0.3513 0.3895 0.4720 0.2101 0.1985 0.3190 0.4101 0.2851
[17] 0.4474 0.0843 0.0000 0.8506 0.4681 0.2647 0.2946 0.5673


$Istanbul$day10
$Istanbul$day10$PM25
 [1] 0.421 0.500 0.410 0.363 0.582 0.490 0.721 0.239 0.435
[10] 0.421 0.249 0.660 0.441 0.187 0.345 0.243 0.669 0.967
[19] 0.329 0.444 0.518 1.000 0.000 0.360

$Istanbul$day10$NO2
 [1] 0.02349 0.28828 0.27517 0.15192 0.84810 0.41988 1.00000
 [8] 0.57371 0.00652 0.14549 0.42422 0.19317 0.44628 0.54899
[15] 0.46443 0.31353 0.17535 0.00000 0.44264 0.60052 0.32845
[22] 0.55471 0.95491 0.87516

$Istanbul$day10$SO2
 [1] 0.3461 0.5767 0.3002 0.6083 0.4427 0.5171 0.2655 0.7225
 [9] 0.4370 0.3569 0.4387 0.4725 0.8180 0.2097 1.0000 0.2844
[17] 0.4943 0.0000 0.3107 0.6176 0.5675 0.5465 0.3523 0.0475


$Istanbul$day11
$Istanbul$day11$PM25
 [1] 0.251 0.493 0.737 0.799 0.472 0.515 0.512 0.575 1.000
[10] 0.350 0.500 0.581 0.174 0.294 0.616 0.681 0.886 0.425
[19] 0.976 0.310 0.100 0.000 0.876 0.646

$Istanbul$day11$NO2
 [1] 0.524 0.479 1.000 0.893 0.282 0.175 0.861 0.716 0.419
[10] 0.670 0.000 0.376 0.681 0.540 0.205 0.842 0.883 0.300
[19] 0.509 0.763 0.800 0.414 0.317 0.656

$Istanbul$day11$SO2
 [1] 0.0000 0.2486 0.6922 0.0546 0.1841 0.4311 0.4154 0.0417
 [9] 0.6242 0.2302 0.4524 0.4425 0.6724 0.4761 0.4585 0.9190
[17] 0.5888 0.6536 0.6153 0.6402 0.8369 0.4784 0.5556 1.0000


$Istanbul$day12
$Istanbul$day12$PM25
 [1] 0.25880 0.78099 0.23670 0.90118 0.21974 0.17726 0.70798
 [8] 0.68749 0.56899 0.48912 0.48014 1.00000 0.00000 0.12795
[15] 0.04399 0.68629 0.34035 0.37351 0.92216 0.24475 0.99083
[22] 0.00662 0.78868 0.50344

$Istanbul$day12$NO2
 [1] 0.3227 0.3611 0.6298 0.6947 0.0934 1.0000 0.8501 0.2984
 [9] 0.3804 0.2738 0.3753 0.5233 0.4102 0.4259 0.6547 0.0000
[17] 0.3044 0.4175 0.2526 0.5804 0.3126 0.3155 0.6032 0.5401

$Istanbul$day12$SO2
 [1] 0.3619 0.3207 0.0606 0.2349 1.0000 0.3881 0.6088 0.3539
 [9] 0.5383 0.3845 0.7134 0.2798 0.0000 0.6054 0.3416 0.7365
[17] 0.4256 0.7342 0.4781 0.3157 0.5652 0.2901 0.7879 0.4308


$Istanbul$day13
$Istanbul$day13$PM25
 [1] 0.0439 0.5041 0.1613 0.0000 0.6611 0.8350 0.4186 0.2510
 [9] 0.4657 0.1855 0.8513 0.8133 0.1723 0.4592 0.9530 0.5940
[17] 0.6464 0.7669 0.8288 1.0000 0.8719 0.2366 0.5365 0.7329

$Istanbul$day13$NO2
 [1] 0.545 0.143 0.419 0.763 0.597 0.280 0.608 0.535 0.697
[10] 0.975 0.272 0.468 0.539 0.152 0.560 0.451 1.000 0.000
[19] 0.855 0.762 0.709 0.595 0.428 0.781

$Istanbul$day13$SO2
 [1] 0.2784 0.7831 0.6898 0.9049 0.3707 0.3757 0.6577 0.6588
 [9] 1.0000 0.7162 0.6075 0.8303 0.3876 0.9103 0.2347 0.6692
[17] 0.0162 0.6399 0.0605 0.4873 0.0000 0.3570 0.3134 0.7384


$Istanbul$day14
$Istanbul$day14$PM25
 [1] 0.3370 0.2821 0.8682 1.0000 0.8305 0.0692 0.8844 0.1466
 [9] 0.4872 0.7247 0.4454 0.4641 0.5453 0.6344 0.6296 0.0000
[17] 0.4567 0.5929 0.6824 0.4150 0.3015 0.1057 0.2938 0.4726

$Istanbul$day14$NO2
 [1] 0.4345 0.9834 0.8820 0.0000 0.8596 0.9598 0.6014 0.7062
 [9] 0.5251 0.5871 0.2685 0.9078 0.1713 0.4545 0.3102 0.3293
[17] 0.5535 0.5014 0.4056 0.6049 0.0106 0.7676 1.0000 0.1453

$Istanbul$day14$SO2
 [1] 0.0000 1.0000 0.4534 0.4023 0.3332 0.5228 0.3979 0.2379
 [9] 0.2690 0.2932 0.3000 0.1814 0.6823 0.4134 0.1756 0.5499
[17] 0.4838 0.3499 0.4976 0.1390 0.3331 0.1136 0.0629 0.2968


$Istanbul$day15
$Istanbul$day15$PM25
 [1] 0.44629 0.20548 0.36986 0.00111 0.30934 0.66963 0.15237
 [8] 0.14312 0.35988 0.52796 0.68421 1.00000 0.58726 0.55843
[15] 0.86059 0.34182 0.36133 0.46528 0.09252 0.00000 0.81133
[22] 0.28077 0.30686 0.18767

$Istanbul$day15$NO2
 [1] 0.587 0.686 0.504 0.558 0.767 0.552 0.429 0.541 0.367
[10] 0.577 0.354 0.865 0.000 0.644 0.446 0.998 0.502 0.662
[19] 0.641 0.610 0.670 1.000 0.761 0.598

$Istanbul$day15$SO2
 [1] 0.919 0.517 0.539 0.737 0.376 0.564 0.231 0.364 0.336
[10] 0.110 1.000 0.137 0.204 0.764 0.316 0.712 0.120 0.318
[19] 0.239 0.000 0.222 0.104 0.608 0.226


$Istanbul$day16
$Istanbul$day16$PM25
 [1] 0.586 0.433 0.647 0.273 0.000 0.987 0.757 0.732 0.146
[10] 0.741 0.709 0.587 0.771 0.832 0.578 1.000 0.805 0.853
[19] 0.538 0.576 0.414 0.686 0.657 0.621

$Istanbul$day16$NO2
 [1] 0.2897 0.3879 0.8732 0.2353 0.3498 0.1315 0.1671 0.3759
 [9] 0.3531 0.3037 0.2693 0.3957 0.6869 0.3604 0.1578 0.2047
[17] 0.0000 0.0643 0.2751 0.2250 0.1872 0.8741 0.8220 1.0000

$Istanbul$day16$SO2
 [1] 0.6556 0.4262 0.2104 0.1964 0.3441 0.7789 0.6287 0.6833
 [9] 0.4199 0.0856 0.5455 0.4132 0.3913 1.0000 0.6784 0.4098
[17] 0.0000 0.3955 0.7080 0.5569 0.5322 0.7213 0.4243 0.3811


$Istanbul$day17
$Istanbul$day17$PM25
 [1] 0.558 0.771 0.554 0.776 0.348 0.338 0.640 0.776 0.525
[10] 0.488 0.000 0.693 0.418 0.699 0.920 0.505 0.763 0.580
[19] 0.692 0.363 0.703 0.894 1.000 0.356

$Istanbul$day17$NO2
 [1] 0.7390 0.2647 0.7340 0.4148 0.3831 0.8066 0.8357 0.6231
 [9] 0.7073 0.6683 0.6228 0.5376 0.9129 0.8192 0.8575 1.0000
[17] 0.7461 0.4264 0.0000 0.2738 0.0999 0.3601 0.2569 0.4065

$Istanbul$day17$SO2
 [1] 0.192 0.317 0.622 0.578 0.385 0.827 0.000 0.661 1.000
[10] 0.384 0.632 0.337 0.504 0.765 0.226 0.338 0.677 0.641
[19] 0.762 0.901 0.751 0.175 0.559 0.387


$Istanbul$day18
$Istanbul$day18$PM25
 [1] 0.4298 0.7542 0.5289 0.4864 0.3896 0.5714 0.0175 0.2836
 [9] 1.0000 0.6484 0.0938 0.0000 0.0946 0.6357 0.5841 0.2320
[17] 0.3022 0.7756 0.3239 0.4113 0.5557 0.3677 0.1735 0.2867

$Istanbul$day18$NO2
 [1] 0.433 0.761 0.943 0.713 0.833 0.524 0.632 0.633 0.359
[10] 0.680 0.763 0.806 0.940 0.350 0.792 0.813 0.617 0.789
[19] 0.362 0.707 0.000 0.727 1.000 0.987

$Istanbul$day18$SO2
 [1] 0.000 0.751 0.543 0.619 0.104 0.716 0.501 0.713 0.580
[10] 0.384 0.703 0.765 0.638 0.758 0.516 0.927 0.541 0.489
[19] 0.870 0.887 0.785 0.677 1.000 0.388


$Istanbul$day19
$Istanbul$day19$PM25
 [1] 0.7569 0.9062 0.4766 0.6140 0.6203 0.7714 0.2402 0.6943
 [9] 0.0201 1.0000 0.3146 0.3806 0.5295 0.1388 0.3944 0.4784
[17] 0.3745 0.9869 0.0000 0.4352 0.7676 0.2460 0.4265 0.9654

$Istanbul$day19$NO2
 [1] 0.0193 0.2992 0.1953 0.6762 0.2827 0.6337 0.3407 0.4705
 [9] 0.7359 0.5466 0.0000 0.3696 0.6983 1.0000 0.2173 0.4504
[17] 0.4891 0.3179 0.1468 0.9944 0.8995 0.1405 0.0149 0.4376

$Istanbul$day19$SO2
 [1] 0.7162 0.5705 0.8982 0.5398 0.3004 1.0000 0.5431 0.5301
 [9] 0.5355 0.6186 0.0000 0.7821 0.7919 0.7680 0.4969 0.6299
[17] 0.2302 0.6978 0.3912 0.9471 0.3629 0.0676 0.6490 0.1793


$Istanbul$day20
$Istanbul$day20$PM25
 [1] 0.257 0.713 0.994 0.432 0.757 0.138 0.957 0.500 0.296
[10] 0.606 0.288 0.514 0.528 0.809 0.352 0.402 0.534 0.737
[19] 1.000 0.917 0.754 0.000 0.750 0.699

$Istanbul$day20$NO2
 [1] 0.2459 0.2768 0.0895 0.4055 0.4295 0.0000 0.0401 0.4490
 [9] 0.1692 0.3387 0.6431 0.3092 0.4380 0.5518 0.1465 0.6978
[17] 0.6219 0.7048 0.3091 0.0674 0.5274 0.5524 1.0000 0.8088

$Istanbul$day20$SO2
 [1] 0.306 0.163 0.594 0.957 0.116 0.223 0.892 0.916 0.481
[10] 0.000 0.286 0.739 1.000 0.425 0.262 0.510 0.468 0.188
[19] 0.586 0.798 0.433 0.595 0.496 0.552


$Istanbul$day21
$Istanbul$day21$PM25
 [1] 0.571 0.898 0.674 0.504 0.767 0.843 0.603 0.000 1.000
[10] 0.447 0.540 0.996 0.181 0.364 0.447 0.316 0.876 0.914
[19] 0.737 0.519 0.523 0.489 0.499 0.733

$Istanbul$day21$NO2
 [1] 0.8796 0.5382 0.7320 0.0559 0.6712 0.4327 0.9269 0.9487
 [9] 0.1032 0.8828 0.5109 0.6113 0.8769 0.8245 0.4476 0.7323
[17] 0.5355 0.9652 0.2595 0.8572 1.0000 0.0000 0.8142 0.5615

$Istanbul$day21$SO2
 [1] 0.635 0.484 0.867 0.961 0.828 0.549 0.422 0.536 0.501
[10] 0.673 0.263 0.824 0.194 0.000 0.694 0.757 1.000 0.881
[19] 0.679 0.867 0.201 0.137 0.107 0.609


$Istanbul$day22
$Istanbul$day22$PM25
 [1] 0.567 0.629 0.775 0.483 0.367 0.232 0.464 0.383 0.317
[10] 0.228 0.145 0.151 0.771 0.463 0.291 0.000 0.448 0.274
[19] 0.378 0.347 0.596 0.382 0.355 1.000

$Istanbul$day22$NO2
 [1] 0.9175 0.5734 0.2639 0.9506 0.1914 0.5094 0.8332 0.3788
 [9] 0.3947 0.6850 0.5768 0.4371 0.4514 0.6169 0.6945 0.9919
[17] 0.3760 1.0000 0.0000 0.2948 0.0404 0.6379 0.6780 0.0357

$Istanbul$day22$SO2
 [1] 0.5474 0.2189 0.6997 0.0000 0.8264 0.5159 0.1772 0.5027
 [9] 0.4403 0.4066 0.0197 0.3312 0.4718 0.0245 0.6343 1.0000
[17] 0.7981 0.2583 0.3067 0.3720 0.7380 0.5175 0.2083 0.0147


$Istanbul$day23
$Istanbul$day23$PM25
 [1] 0.746 0.293 0.728 0.609 0.792 0.897 0.186 0.877 0.782
[10] 0.501 0.582 0.726 0.774 0.104 1.000 0.190 0.000 0.857
[19] 0.161 0.525 0.208 0.081 0.463 0.771

$Istanbul$day23$NO2
 [1] 0.872 0.556 0.763 0.735 0.760 0.621 0.887 0.411 0.892
[10] 0.656 0.657 1.000 0.627 0.444 0.372 0.988 0.000 0.631
[19] 0.827 0.315 0.770 0.988 0.167 0.476

$Istanbul$day23$SO2
 [1] 1.0000 0.1554 0.0466 0.0845 0.2324 0.4491 0.1383 0.4547
 [9] 0.6295 0.5017 0.6462 0.1043 0.3413 0.6163 0.4034 0.4585
[17] 0.4020 0.4481 0.3756 0.0000 0.4450 0.2251 0.8859 0.1991


$Istanbul$day24
$Istanbul$day24$PM25
 [1] 0.539 0.000 0.333 0.290 0.812 0.462 0.537 0.576 0.365
[10] 0.576 0.882 0.656 0.681 0.289 0.545 0.574 0.334 0.530
[19] 1.000 0.253 0.640 0.228 0.589 0.236

$Istanbul$day24$NO2
 [1] 0.573 0.153 0.444 0.742 0.389 0.416 0.757 0.899 1.000
[10] 0.351 0.202 0.587 0.538 0.730 0.474 0.476 0.781 0.476
[19] 0.594 0.549 0.430 0.319 0.364 0.000

$Istanbul$day24$SO2
 [1] 0.8922 0.1037 0.3793 0.4398 0.8722 0.5573 0.8005 0.4607
 [9] 1.0000 0.6750 0.6916 0.7822 0.1347 0.5385 0.6002 0.3310
[17] 0.5447 0.3435 0.6017 0.0517 0.6194 0.3668 0.7991 0.0000


$Istanbul$day25
$Istanbul$day25$PM25
 [1] 0.6708 0.5757 0.9952 0.0848 0.4573 0.9126 0.8769 0.7842
 [9] 0.7597 0.0528 0.9629 0.7334 0.0000 0.5928 1.0000 0.9097
[17] 0.4275 0.9833 0.5121 0.7935 0.9909 0.7966 0.4197 0.9517

$Istanbul$day25$NO2
 [1] 0.956 0.236 0.460 0.814 0.259 0.000 0.366 0.833 0.107
[10] 0.440 0.802 0.528 0.684 1.000 0.784 0.691 0.661 0.168
[19] 0.765 0.676 0.635 0.531 0.134 0.560

$Istanbul$day25$SO2
 [1] 0.772 0.300 0.000 0.920 0.312 0.743 0.613 0.874 0.444
[10] 0.379 0.893 1.000 0.536 0.498 0.643 0.285 0.581 0.205
[19] 0.380 0.656 0.262 0.670 0.582 0.817


$Istanbul$day26
$Istanbul$day26$PM25
 [1] 0.837 0.222 0.439 0.701 0.396 0.205 0.128 0.665 0.934
[10] 0.117 0.376 0.000 0.367 0.283 0.349 1.000 0.038 0.448
[19] 0.762 0.214 0.168 0.362 0.643 0.274

$Istanbul$day26$NO2
 [1] 0.2836 0.5267 0.0636 0.1839 0.7519 0.6128 0.0290 0.6480
 [9] 0.0000 0.4119 0.5774 0.1943 0.7921 0.7803 0.3614 0.7596
[17] 0.5546 0.6552 0.6598 0.2263 0.0618 1.0000 0.5623 0.5943

$Istanbul$day26$SO2
 [1] 0.20424 0.77602 0.94984 0.87322 0.00000 0.24172 0.52160
 [8] 0.66889 0.36383 0.28646 0.55405 0.26579 1.00000 0.04872
[15] 0.62265 0.00671 0.37602 0.86252 0.77337 0.15337 0.13462
[22] 0.51184 0.26324 0.59732


$Istanbul$day27
$Istanbul$day27$PM25
 [1] 0.384 0.248 0.504 0.332 0.833 0.525 0.589 0.897 1.000
[10] 0.586 0.669 0.881 0.559 0.371 0.813 0.267 0.544 0.510
[19] 0.484 0.000 0.470 0.872 0.495 0.463

$Istanbul$day27$NO2
 [1] 0.409 0.350 0.636 0.761 1.000 0.157 0.705 0.552 0.675
[10] 0.306 0.608 0.272 0.779 0.330 0.613 0.000 0.686 0.905
[19] 0.809 0.890 0.216 0.548 0.575 0.796

$Istanbul$day27$SO2
 [1] 0.3360 0.3285 0.7264 0.6022 0.0000 0.2901 0.1617 1.0000
 [9] 0.2669 0.6143 0.3919 0.3945 0.4762 0.3413 0.5477 0.4899
[17] 0.0151 0.2540 0.2608 0.2645 0.5968 0.6860 0.1765 0.4860


$Istanbul$day28
$Istanbul$day28$PM25
 [1] 0.202 0.434 0.759 0.574 0.387 0.168 0.527 0.665 0.859
[10] 0.313 0.868 0.204 0.438 0.816 0.383 0.350 0.627 0.659
[19] 1.000 0.557 0.000 0.397 0.406 0.292

$Istanbul$day28$NO2
 [1] 0.3557 1.0000 0.4953 0.2147 0.4094 0.6870 0.1691 0.4569
 [9] 0.4266 0.2243 0.2772 0.4532 0.2528 0.1602 0.0849 0.3465
[17] 0.2443 0.1506 0.3127 0.0320 0.0233 0.6665 0.0000 0.3539

$Istanbul$day28$SO2
 [1] 0.2479 0.5170 0.7435 0.2329 0.8181 0.6810 0.4856 0.6906
 [9] 0.6285 0.2949 0.0916 0.6398 0.2347 0.5883 0.0000 0.2623
[17] 0.7004 0.9824 0.6629 0.2384 0.4496 1.0000 0.7903 0.8882


$Istanbul$day29
$Istanbul$day29$PM25
 [1] 0.82221 0.56606 0.86882 0.00734 0.53387 0.26949 0.49337
 [8] 0.95818 0.61832 0.14947 0.26508 0.01639 0.37277 0.20326
[15] 0.73736 0.20610 0.70375 0.70806 0.22984 1.00000 0.42106
[22] 0.13988 0.44070 0.00000

$Istanbul$day29$NO2
 [1] 0.7866 0.3639 0.9621 0.0416 0.3045 0.5161 0.4171 0.9768
 [9] 0.5921 0.7056 0.8020 0.6504 0.8713 0.7288 0.7995 0.2024
[17] 0.3007 0.0000 0.5394 1.0000 0.3412 0.6947 0.7292 0.6738

$Istanbul$day29$SO2
 [1] 0.564 0.472 0.467 0.647 1.000 0.423 0.608 0.669 0.860
[10] 0.578 0.818 0.230 0.840 0.669 0.340 0.000 0.541 0.826
[19] 0.730 0.542 0.656 0.685 0.435 0.657


$Istanbul$day30
$Istanbul$day30$PM25
 [1] 0.574 0.414 0.591 0.612 0.653 0.689 0.631 0.610 0.534
[10] 0.639 0.310 0.678 0.450 1.000 0.439 0.000 0.815 0.438
[19] 0.666 0.596 0.762 0.380 0.325 0.756

$Istanbul$day30$NO2
 [1] 0.1934 0.0520 0.6202 0.4130 0.9890 0.5135 0.3422 0.2749
 [9] 0.8431 0.1304 0.5806 0.5671 0.2882 0.8065 0.2452 0.4242
[17] 0.5243 1.0000 0.5802 0.8546 0.2499 0.0000 0.6476 0.0288

$Istanbul$day30$SO2
 [1] 0.17685 0.70383 0.52397 0.76757 0.92574 0.78531 0.64219
 [8] 0.68797 0.57810 1.00000 0.55316 0.75681 0.28535 0.54961
[15] 0.00000 0.57646 0.13744 0.50317 0.47423 0.80130 0.36573
[22] 0.35981 0.00664 0.70642



$Izmir
$Izmir$day1
$Izmir$day1$PM25
 [1] 0.898 0.554 1.000 0.506 0.351 0.673 0.792 0.222 0.185
[10] 0.625 0.739 0.000 0.167 0.693 0.845 0.513 0.927 0.453
[19] 0.569 0.966 0.592 0.620 0.378 0.631

$Izmir$day1$NO2
 [1] 0.294 0.028 0.219 0.388 0.481 0.689 0.452 0.414 0.698
[10] 1.000 0.423 0.715 0.555 0.425 0.000 0.220 0.315 0.187
[19] 0.175 0.348 0.663 0.231 0.470 0.396

$Izmir$day1$SO2
 [1] 0.4881 0.3323 0.2896 0.2037 0.5085 0.5596 0.3284 1.0000
 [9] 0.3237 0.9281 0.2967 0.0000 0.0301 0.1444 0.6297 0.6761
[17] 0.4065 0.3881 0.2135 0.1846 0.1761 0.1446 0.2129 0.1958


$Izmir$day2
$Izmir$day2$PM25
 [1] 0.505 0.546 0.687 0.000 0.499 0.361 0.370 0.137 0.410
[10] 0.284 0.476 0.227 1.000 0.283 0.368 0.207 0.360 0.777
[19] 0.350 0.519 0.256 0.676 0.495 0.294

$Izmir$day2$NO2
 [1] 0.5073 0.2825 0.6087 0.1286 0.5921 1.0000 0.8833 0.5345
 [9] 0.5449 0.5769 0.7506 0.5639 0.6441 0.6557 0.5063 0.6858
[17] 0.4444 0.7917 0.2674 0.4940 0.4352 0.0322 0.8600 0.0000

$Izmir$day2$SO2
 [1] 0.8704 0.3258 0.3456 0.7684 0.5522 0.1476 0.9159 0.0000
 [9] 0.4121 0.2221 0.4406 0.5913 0.4944 0.4381 0.5334 0.6327
[17] 0.3746 0.0949 0.3585 0.1340 0.7167 1.0000 0.3081 0.3678


$Izmir$day3
$Izmir$day3$PM25
 [1] 0.416 0.939 0.701 0.845 0.934 0.769 0.832 0.326 0.672
[10] 0.498 0.281 0.324 0.986 0.283 0.564 1.000 0.795 0.896
[19] 0.795 0.644 0.000 0.500 0.258 0.572

$Izmir$day3$NO2
 [1] 1.000 0.543 0.338 0.722 0.627 0.491 0.456 0.475 0.493
[10] 0.658 0.540 0.360 0.709 0.343 0.822 0.276 0.688 0.810
[19] 0.802 0.483 0.675 0.000 0.616 0.484

$Izmir$day3$SO2
 [1] 0.519 0.421 0.659 0.365 0.546 0.378 0.531 0.151 0.521
[10] 0.321 0.478 0.223 0.508 1.000 0.708 0.596 0.275 0.464
[19] 0.367 0.000 0.351 0.335 0.381 0.292


$Izmir$day4
$Izmir$day4$PM25
 [1] 0.6508 1.0000 0.7897 0.6531 0.4862 0.4919 0.7902 0.8244
 [9] 0.3079 0.7329 0.1449 0.1423 0.9110 0.4812 0.4804 0.7410
[17] 0.4168 0.2376 0.5092 0.0000 0.3408 0.4278 0.0734 0.5220

$Izmir$day4$NO2
 [1] 0.3847 0.8663 0.5025 0.2913 0.6382 0.5619 0.5863 0.6320
 [9] 0.4730 0.4906 0.7448 1.0000 0.0736 0.5404 0.8313 0.2682
[17] 0.8801 0.4769 0.7603 0.9601 0.8101 0.8924 0.0000 0.2437

$Izmir$day4$SO2
 [1] 0.7541 0.2970 0.4070 1.0000 0.6117 0.5899 0.5008 0.0866
 [9] 0.0000 0.5093 0.6847 0.1720 0.0223 0.9667 0.7313 0.7237
[17] 0.8569 0.7459 0.2527 0.9589 0.1848 0.4294 0.6782 0.6621


$Izmir$day5
$Izmir$day5$PM25
 [1] 0.4926 0.5680 0.1254 0.0000 0.0314 0.4887 0.2165 0.4463
 [9] 0.6484 0.1616 0.5806 0.1687 0.4998 0.3469 0.1147 0.5867
[17] 0.5276 0.1099 0.3478 1.0000 0.1406 0.2942 0.7062 0.0456

$Izmir$day5$NO2
 [1] 0.847 0.302 0.329 0.415 0.614 1.000 0.508 0.532 0.176
[10] 0.447 0.000 0.376 0.683 0.386 0.411 0.429 0.400 0.440
[19] 0.152 0.336 0.361 0.524 0.459 0.286

$Izmir$day5$SO2
 [1] 0.7870 0.9172 0.0529 0.5576 0.2358 0.2844 0.6389 0.7845
 [9] 0.6252 0.3097 0.8838 0.8500 0.1529 0.6021 0.0942 1.0000
[17] 0.5873 0.8622 0.6280 0.4568 0.7530 0.1136 0.0000 0.2764


$Izmir$day6
$Izmir$day6$PM25
 [1] 0.5623 0.3622 0.3470 0.7564 0.3361 0.7722 0.2561 0.4087
 [9] 0.2404 0.3585 0.1413 0.6164 0.8336 0.5681 0.9901 0.0000
[17] 0.2624 0.6394 0.6715 0.5810 1.0000 0.9792 0.0534 0.3611

$Izmir$day6$NO2
 [1] 0.0000 0.1107 0.4617 0.4900 0.1794 0.4763 0.1938 0.4620
 [9] 0.4246 0.3156 0.1301 0.2659 0.5283 0.2579 0.3042 0.1000
[17] 0.2744 0.3867 0.1935 0.2885 0.0915 0.5992 1.0000 0.2769

$Izmir$day6$SO2
 [1] 0.660 0.883 0.490 0.490 0.696 0.377 0.533 0.457 0.374
[10] 0.651 0.539 1.000 0.000 0.696 0.403 0.510 0.350 0.683
[19] 0.838 0.665 0.385 0.889 0.535 0.603


$Izmir$day7
$Izmir$day7$PM25
 [1] 0.484 0.430 0.526 0.168 0.871 0.708 0.525 0.804 0.106
[10] 0.849 0.568 0.662 0.353 0.248 0.324 0.833 0.851 1.000
[19] 0.480 0.256 0.973 0.000 0.448 0.694

$Izmir$day7$NO2
 [1] 0.403 0.318 0.757 1.000 0.499 0.505 0.451 0.971 0.501
[10] 0.473 0.480 0.526 0.524 0.782 0.717 0.754 0.517 0.808
[19] 0.000 0.894 0.695 0.566 0.754 0.390

$Izmir$day7$SO2
 [1] 0.2988 0.5372 0.0000 0.4892 0.4905 0.4125 0.0866 0.8771
 [9] 0.0248 0.0275 0.3149 1.0000 0.5365 0.5855 0.4327 0.5892
[17] 0.7056 0.7295 0.9426 0.2521 0.4513 0.6350 0.7673 0.3951


$Izmir$day8
$Izmir$day8$PM25
 [1] 0.872 0.459 0.530 0.996 0.000 0.724 0.966 0.529 0.863
[10] 0.405 0.707 0.651 0.638 0.209 0.592 0.368 0.524 1.000
[19] 0.453 0.636 0.683 0.582 0.925 0.633

$Izmir$day8$NO2
 [1] 0.573 0.320 0.443 0.379 0.650 0.814 0.424 0.000 0.331
[10] 0.310 0.821 0.570 0.914 0.632 0.161 0.655 0.355 0.536
[19] 0.511 0.501 0.455 1.000 0.901 0.321

$Izmir$day8$SO2
 [1] 0.6166 0.8721 0.8590 0.3232 0.9414 0.3743 0.5973 0.6085
 [9] 0.0484 0.5275 0.0000 0.0359 0.6492 0.6548 0.8246 0.6651
[17] 0.3826 0.3485 0.7791 0.9524 0.7775 0.6215 0.5448 1.0000


$Izmir$day9
$Izmir$day9$PM25
 [1] 0.000 0.828 0.552 0.324 0.791 0.359 0.674 0.636 0.626
[10] 0.152 0.631 0.475 0.425 0.311 0.322 0.391 0.888 0.757
[19] 0.657 1.000 0.975 0.807 0.311 0.933

$Izmir$day9$NO2
 [1] 0.4000 0.3900 0.5084 0.4654 0.3281 0.6187 0.3310 0.3106
 [9] 0.3872 0.2626 0.4877 0.4259 0.3769 0.5642 0.0000 0.5121
[17] 0.6720 0.6669 1.0000 0.2921 0.2082 0.5302 0.0344 0.7483

$Izmir$day9$SO2
 [1] 0.3289 0.6768 0.4950 0.0169 0.6348 0.3158 0.7901 0.0000
 [9] 0.5434 0.3274 0.8381 0.4037 0.7931 0.4644 0.6045 0.9166
[17] 0.4144 1.0000 0.8050 0.8749 0.0480 0.5346 0.2306 0.7519


$Izmir$day10
$Izmir$day10$PM25
 [1] 0.842 0.486 0.507 0.293 0.758 0.888 0.277 0.256 0.826
[10] 0.866 0.677 0.652 0.486 0.671 0.518 1.000 0.519 0.000
[19] 0.702 0.363 0.764 0.307 0.556 0.681

$Izmir$day10$NO2
 [1] 0.490 0.000 0.145 0.307 1.000 0.510 0.902 0.595 0.407
[10] 0.861 0.224 0.960 0.802 0.639 0.706 0.602 0.420 0.449
[19] 0.376 0.892 0.713 0.515 0.226 0.635

$Izmir$day10$SO2
 [1] 0.11581 0.16080 1.00000 0.00274 0.15168 0.23942 0.23508
 [8] 0.08127 0.35355 0.10667 0.79783 0.44392 0.65721 0.00000
[15] 0.40386 0.56646 0.43654 0.41316 0.10776 0.22551 0.29049
[22] 0.17509 0.62982 0.91894


$Izmir$day11
$Izmir$day11$PM25
 [1] 0.8714 0.6741 0.5545 0.7080 0.4062 0.6392 0.6174 0.0621
 [9] 1.0000 0.2862 0.0000 0.5805 0.6044 0.5789 0.6117 0.3186
[17] 0.7116 0.8859 0.3952 0.6483 0.5207 0.5672 0.7964 0.6420

$Izmir$day11$NO2
 [1] 1.000 0.166 0.834 0.120 0.203 0.168 0.394 0.460 0.342
[10] 0.509 0.000 0.200 0.528 0.671 0.413 0.550 0.598 0.513
[19] 0.206 0.228 0.517 0.120 0.239 0.254

$Izmir$day11$SO2
 [1] 0.000 0.568 0.638 0.451 1.000 0.417 0.641 0.627 0.701
[10] 0.593 0.413 0.636 0.544 0.541 0.682 0.698 0.467 0.354
[19] 0.862 0.485 0.358 0.189 0.549 0.584


$Izmir$day12
$Izmir$day12$PM25
 [1] 0.257 0.195 0.652 0.353 1.000 0.267 0.135 0.576 0.737
[10] 0.644 0.561 0.710 0.368 0.665 0.348 0.357 0.629 0.720
[19] 0.338 0.134 0.291 0.000 0.636 0.772

$Izmir$day12$NO2
 [1] 0.965 0.206 0.325 0.428 0.525 0.234 0.719 0.351 0.735
[10] 0.000 0.412 0.555 0.320 0.323 0.279 0.487 0.813 0.170
[19] 0.430 0.322 0.855 1.000 0.599 0.477

$Izmir$day12$SO2
 [1] 0.842 0.268 0.395 0.743 0.446 0.264 0.471 0.273 1.000
[10] 0.293 0.708 0.413 0.831 0.705 0.209 0.502 0.367 0.571
[19] 0.398 0.561 0.376 0.713 0.511 0.000


$Izmir$day13
$Izmir$day13$PM25
 [1] 0.6584 0.5798 0.9412 0.3771 0.1549 0.7799 0.8978 0.7762
 [9] 1.0000 0.8879 0.4322 0.8950 0.5171 0.9384 0.9105 0.6512
[17] 0.9292 0.5969 0.9150 0.0899 0.4021 0.7002 0.5365 0.0000

$Izmir$day13$NO2
 [1] 0.321 0.908 0.232 0.561 0.403 0.526 0.479 0.489 0.492
[10] 0.000 0.522 0.552 0.620 0.849 0.530 0.586 0.179 0.545
[19] 0.149 1.000 0.436 0.606 0.627 0.208

$Izmir$day13$SO2
 [1] 0.5161 0.1031 0.5139 0.2249 0.2085 0.5020 0.4892 0.3241
 [9] 0.1934 0.4429 0.3778 0.6483 0.2213 0.3579 1.0000 0.0465
[17] 0.4760 0.5010 0.2705 0.2005 0.0000 0.0106 0.3201 0.7269


$Izmir$day14
$Izmir$day14$PM25
 [1] 0.4655 0.9392 0.2573 0.6322 0.4880 0.5636 0.5137 0.6954
 [9] 0.4460 0.7560 0.6041 0.4454 0.4127 0.0431 0.2425 0.3649
[17] 0.7455 0.6997 0.1925 0.2972 1.0000 0.0000 0.5054 0.5366

$Izmir$day14$NO2
 [1] 0.2662 0.0659 0.2910 1.0000 0.3563 0.3302 0.4228 0.1127
 [9] 0.5544 0.5470 0.3015 0.3952 0.2654 0.5403 0.0000 0.3304
[17] 0.5250 0.7697 0.1726 0.1243 0.3567 0.3683 0.5559 0.3553

$Izmir$day14$SO2
 [1] 0.2853 1.0000 0.3563 0.7073 0.6677 0.3242 0.9340 0.1165
 [9] 0.1798 0.7903 0.0000 0.6367 0.5091 0.6663 0.6785 0.2587
[17] 0.2532 0.6880 0.7095 0.1287 0.0944 0.1400 0.4475 0.4457


$Izmir$day15
$Izmir$day15$PM25
 [1] 0.912 0.616 0.502 0.440 0.439 0.425 0.346 0.556 0.000
[10] 0.334 0.691 0.552 0.619 0.430 0.760 0.478 0.624 0.529
[19] 0.606 0.454 0.733 0.442 1.000 0.500

$Izmir$day15$NO2
 [1] 0.631 0.416 0.806 0.649 0.777 0.800 0.373 0.832 0.251
[10] 0.639 0.857 0.136 0.467 0.478 0.000 0.536 1.000 0.189
[19] 0.277 0.481 0.577 0.625 0.649 0.514

$Izmir$day15$SO2
 [1] 1.0000 0.2942 0.0710 0.0133 0.3566 0.2711 0.6707 0.3597
 [9] 0.4267 0.0000 0.3464 0.3384 0.0540 0.1772 0.1872 0.6148
[17] 0.5471 0.5814 0.7603 0.3260 0.7043 0.3399 0.6975 0.0917


$Izmir$day16
$Izmir$day16$PM25
 [1] 0.352 0.698 0.868 0.481 0.414 0.633 0.462 0.493 0.547
[10] 0.739 0.246 0.389 0.627 0.000 0.786 0.342 0.251 0.528
[19] 1.000 0.336 0.148 0.459 0.757 0.426

$Izmir$day16$NO2
 [1] 0.5752 0.7136 0.0000 0.5752 0.2975 0.4113 0.9842 0.4888
 [9] 0.6276 0.1800 0.5330 0.3953 0.3684 0.5648 0.0521 0.7718
[17] 0.9935 0.3164 0.5550 0.9367 0.2068 0.4378 1.0000 0.1960

$Izmir$day16$SO2
 [1] 0.6762 0.5681 0.3804 0.5430 0.3873 0.6324 0.3475 0.0676
 [9] 0.6443 0.7159 0.4868 0.2756 0.3536 0.1663 0.1506 0.7159
[17] 0.0000 0.5872 0.3756 0.1644 0.4097 0.4194 0.7316 1.0000


$Izmir$day17
$Izmir$day17$PM25
 [1] 1.000 0.949 0.946 0.766 0.405 0.568 0.124 0.320 0.295
[10] 0.239 0.893 0.654 0.593 0.521 0.781 0.755 0.287 0.000
[19] 0.216 0.394 0.523 0.917 0.690 0.703

$Izmir$day17$NO2
 [1] 0.6026 0.3590 0.1147 0.1604 0.0414 0.0581 0.0000 0.6152
 [9] 0.0783 0.5531 1.0000 0.3415 0.3452 0.6099 0.3890 0.1950
[17] 0.0253 0.4170 0.2822 0.4944 0.4658 0.7288 0.5482 0.6870

$Izmir$day17$SO2
 [1] 0.4736 0.6930 0.3804 0.4079 0.4751 0.1267 0.0986 0.3677
 [9] 0.0410 0.4813 0.6879 0.1936 0.4684 0.0000 0.7280 0.3481
[17] 0.9032 0.4654 1.0000 0.5516 0.3973 0.7507 0.6089 0.2898


$Izmir$day18
$Izmir$day18$PM25
 [1] 0.5429 0.5269 0.4693 0.3064 0.3748 0.5823 0.6372 0.4525
 [9] 0.2058 0.5544 0.4195 0.6401 0.0283 0.2198 0.5050 0.0838
[17] 1.0000 0.1957 0.4859 0.0000 0.8786 0.5481 0.2712 0.4443

$Izmir$day18$NO2
 [1] 0.415 0.135 0.310 0.359 0.928 0.741 0.509 0.541 0.909
[10] 0.333 0.778 0.353 0.811 0.960 0.490 0.739 0.000 0.702
[19] 0.699 0.730 0.949 0.347 1.000 0.345

$Izmir$day18$SO2
 [1] 0.156 1.000 0.695 0.683 0.654 0.469 0.737 0.831 0.172
[10] 0.264 0.356 0.631 0.000 0.481 0.196 0.439 0.162 0.772
[19] 0.455 0.472 0.843 0.325 0.175 0.379


$Izmir$day19
$Izmir$day19$PM25
 [1] 0.2698 0.6100 0.3841 0.0126 0.4288 0.6935 0.0356 0.8306
 [9] 0.7311 1.0000 0.3800 0.6345 0.1950 0.4041 0.1337 0.8559
[17] 0.0000 0.6996 0.2593 0.1358 0.9866 0.5274 0.6042 0.5571

$Izmir$day19$NO2
 [1] 0.697 0.889 0.560 0.830 0.000 0.692 0.644 0.588 0.575
[10] 0.439 0.401 0.800 0.502 0.820 0.456 0.310 0.882 0.523
[19] 0.829 0.259 0.629 0.472 1.000 0.850

$Izmir$day19$SO2
 [1] 0.686 0.494 0.762 0.715 0.326 0.798 0.739 0.552 1.000
[10] 0.756 0.493 0.752 0.659 0.554 0.000 0.508 0.590 0.715
[19] 0.648 0.626 0.857 0.576 0.396 0.495


$Izmir$day20
$Izmir$day20$PM25
 [1] 0.517 0.397 0.000 0.757 0.818 0.347 0.708 0.477 0.483
[10] 0.760 0.703 0.394 0.349 0.741 0.267 0.357 1.000 0.623
[19] 0.437 0.211 0.795 0.404 0.604 0.941

$Izmir$day20$NO2
 [1] 0.4665 0.8445 0.1864 0.0000 0.6318 0.8927 0.3738 0.4557
 [9] 0.8128 0.3954 0.1943 0.2833 0.4806 0.0647 0.7773 0.7063
[17] 0.7875 1.0000 0.8313 0.9705 0.4270 0.8836 0.1248 0.7183

$Izmir$day20$SO2
 [1] 0.902 1.000 0.565 0.682 0.228 0.116 0.491 0.566 0.461
[10] 0.296 0.193 0.725 0.741 0.455 0.907 0.497 0.734 0.328
[19] 0.643 0.656 0.565 0.762 0.461 0.000


$Izmir$day21
$Izmir$day21$PM25
 [1] 0.589 0.879 0.183 0.225 0.684 0.710 1.000 0.662 0.812
[10] 0.750 0.875 0.920 0.326 0.498 0.921 0.106 0.000 0.714
[19] 0.687 0.586 0.902 0.993 0.940 0.632

$Izmir$day21$NO2
 [1] 0.542 0.628 0.000 0.290 0.755 0.613 0.213 0.882 0.676
[10] 0.394 0.552 0.566 0.472 0.502 0.511 0.720 0.807 0.692
[19] 1.000 0.709 0.632 0.766 0.514 0.738

$Izmir$day21$SO2
 [1] 1.0000 0.4576 0.7621 0.5147 0.3253 0.7864 0.6211 0.4310
 [9] 0.9403 0.0536 0.4932 0.4575 0.4766 0.5383 0.9648 0.0000
[17] 0.7628 0.3223 0.7395 0.3990 0.7198 0.4542 0.3590 0.2076


$Izmir$day22
$Izmir$day22$PM25
 [1] 0.289 0.448 0.529 0.668 0.520 0.848 0.228 0.678 0.769
[10] 0.667 0.507 0.413 0.186 0.152 0.714 0.459 0.160 0.668
[19] 0.737 0.000 1.000 0.849 0.222 0.338

$Izmir$day22$NO2
 [1] 0.3517 0.3869 0.0363 0.1610 1.0000 0.5161 0.6182 0.1258
 [9] 0.2353 0.0000 0.3864 0.2934 0.8260 0.2330 0.3071 0.0925
[17] 0.3566 0.1280 0.0706 0.2812 0.1010 0.1102 0.4196 0.5502

$Izmir$day22$SO2
 [1] 0.7628 0.4908 0.5208 0.2567 0.5843 0.8032 0.1901 0.8033
 [9] 0.2903 0.6263 0.0605 0.5457 0.9002 0.4681 0.0000 1.0000
[17] 0.2367 0.1874 0.3009 0.1827 0.5538 0.5961 0.3801 0.7483


$Izmir$day23
$Izmir$day23$PM25
 [1] 0.46953 0.00534 0.52707 0.00000 0.32702 0.27597 0.13459
 [8] 0.65262 0.35651 0.48911 0.33740 0.11159 0.50596 0.13513
[15] 0.57818 1.00000 0.44191 0.53114 0.46722 0.68619 0.01341
[22] 0.09214 0.36945 0.33349

$Izmir$day23$NO2
 [1] 0.15258 0.00208 0.32212 0.85049 1.00000 0.64831 0.03540
 [8] 0.62695 0.30501 0.47179 0.60895 0.85417 0.47338 0.26426
[15] 0.63078 0.64446 0.66545 0.72534 0.51192 0.20440 0.47309
[22] 0.00000 0.72709 0.56606

$Izmir$day23$SO2
 [1] 0.754 0.622 0.000 0.434 0.812 0.516 0.786 0.354 0.645
[10] 0.449 0.424 0.537 1.000 0.624 0.637 0.970 0.512 0.708
[19] 0.406 0.789 0.254 0.569 0.857 0.908


$Izmir$day24
$Izmir$day24$PM25
 [1] 0.37725 0.00000 0.66088 0.28945 0.50904 0.11352 0.31834
 [8] 0.65856 0.44758 0.44768 0.53849 0.16788 0.39662 0.46919
[15] 0.57696 0.25884 0.42978 0.50053 1.00000 0.65181 0.00314
[22] 0.39423 0.42271 0.52542

$Izmir$day24$NO2
 [1] 0.146 0.685 0.148 0.335 0.560 0.175 0.395 0.869 0.221
[10] 0.000 0.598 0.119 0.283 0.529 0.515 0.743 0.152 0.267
[19] 0.159 0.316 1.000 0.349 0.359 0.531

$Izmir$day24$SO2
 [1] 0.000 0.732 0.391 0.173 0.537 0.349 0.359 0.372 0.932
[10] 0.224 0.732 0.466 0.317 0.193 0.287 0.317 0.778 0.147
[19] 0.965 0.353 0.190 0.172 0.474 1.000


$Izmir$day25
$Izmir$day25$PM25
 [1] 0.3698 0.4142 0.5178 0.4690 0.1915 0.7878 0.0230 0.1093
 [9] 0.3039 0.3512 0.8105 0.2324 0.3857 0.3326 1.0000 0.9466
[17] 0.0823 0.5976 0.0000 0.1614 0.2467 0.1551 0.5259 0.3392

$Izmir$day25$NO2
 [1] 0.6081 0.8176 0.8043 0.0689 0.4810 0.6467 0.8029 0.4093
 [9] 0.5677 0.9089 0.5838 0.9642 0.0359 1.0000 0.0000 0.7957
[17] 0.7798 0.4525 0.4636 0.6193 0.5772 0.5929 0.8367 0.5907

$Izmir$day25$SO2
 [1] 0.170 0.790 0.605 0.897 0.467 0.623 0.301 0.315 0.249
[10] 0.692 0.000 1.000 0.523 0.690 0.986 0.761 0.792 0.527
[19] 0.362 0.847 0.635 0.686 0.480 0.547


$Izmir$day26
$Izmir$day26$PM25
 [1] 0.127 0.254 0.271 0.549 0.372 0.663 0.592 0.485 0.264
[10] 0.451 0.763 0.680 0.523 0.136 0.488 0.000 0.940 0.592
[19] 0.837 0.550 1.000 0.405 0.752 0.583

$Izmir$day26$NO2
 [1] 0.727 0.355 1.000 0.650 0.505 0.380 0.319 0.266 0.284
[10] 0.602 0.798 0.659 0.246 0.611 0.866 0.779 0.929 0.671
[19] 0.000 0.711 0.634 0.284 0.571 0.474

$Izmir$day26$SO2
 [1] 0.478 0.706 0.441 0.426 0.226 0.631 0.726 0.731 0.884
[10] 0.000 0.597 0.257 0.740 0.608 0.323 0.495 0.937 0.454
[19] 0.159 0.859 0.879 0.437 1.000 0.547


$Izmir$day27
$Izmir$day27$PM25
 [1] 0.0216 0.3736 0.5774 0.6894 0.6249 0.9344 0.5688 0.6728
 [9] 0.8578 0.4244 0.1970 0.3823 0.0000 0.5029 0.6681 0.1041
[17] 0.1687 0.0818 0.4702 1.0000 0.2548 0.2563 0.4757 0.1301

$Izmir$day27$NO2
 [1] 0.8149 0.4168 0.8500 0.7014 0.7484 0.0609 0.0000 0.5259
 [9] 0.3997 0.4055 0.4772 0.9919 0.3685 0.3214 1.0000 0.5757
[17] 0.5813 0.1166 0.7346 0.8613 0.7240 0.1606 0.9465 0.4180

$Izmir$day27$SO2
 [1] 0.9532 0.5774 0.5642 1.0000 0.7811 0.5763 0.2349 0.6971
 [9] 0.6607 0.3096 0.3901 0.3748 0.0000 0.6359 0.0425 0.5448
[17] 0.0266 0.7121 0.6754 0.9630 0.1254 0.7117 0.3912 0.5093


$Izmir$day28
$Izmir$day28$PM25
 [1] 0.516 0.689 0.370 0.414 0.774 0.000 0.546 0.510 0.758
[10] 0.692 0.320 0.912 0.823 0.903 0.399 1.000 0.854 0.844
[19] 0.350 0.588 0.642 0.317 0.560 0.765

$Izmir$day28$NO2
 [1] 0.4764 0.4612 0.7103 0.2554 0.5752 0.6320 0.1412 0.0000
 [9] 0.6098 0.3595 0.9063 0.4772 0.4057 0.0537 0.2441 0.1265
[17] 1.0000 0.1469 0.5397 0.6885 0.3444 0.4412 0.1878 0.4101

$Izmir$day28$SO2
 [1] 0.492 0.402 0.714 0.383 0.218 0.766 0.623 0.200 0.413
[10] 0.773 0.345 0.755 0.500 0.248 0.685 0.000 0.426 0.556
[19] 0.634 0.636 0.603 0.897 0.973 1.000


$Izmir$day29
$Izmir$day29$PM25
 [1] 0.0249 0.1758 0.0406 0.2917 0.5081 0.4727 0.3477 0.3704
 [9] 0.2919 0.1596 0.1975 0.1690 0.2652 0.0000 0.7853 1.0000
[17] 0.0256 0.7921 0.4507 0.4248 0.4343 0.5535 0.4475 0.1595

$Izmir$day29$NO2
 [1] 0.691 0.852 0.609 0.394 0.300 0.797 0.647 0.531 0.710
[10] 0.509 0.643 0.723 0.216 0.446 0.372 0.391 1.000 0.919
[19] 0.828 0.580 0.920 0.394 0.225 0.000

$Izmir$day29$SO2
 [1] 0.707 0.660 0.460 0.770 0.662 0.578 0.960 1.000 0.904
[10] 0.796 0.409 0.591 0.641 0.688 0.922 0.308 0.324 0.637
[19] 0.296 0.922 0.611 0.000 0.594 0.703


$Izmir$day30
$Izmir$day30$PM25
 [1] 0.2241 0.0722 0.4649 0.8368 0.3137 0.8019 0.8913 0.0727
 [9] 0.7268 0.4278 0.5364 1.0000 0.7621 0.3128 0.0000 0.5725
[17] 0.6230 0.8337 0.8999 0.5271 0.5124 0.5963 0.7937 0.5124

$Izmir$day30$NO2
 [1] 0.4276 0.2321 0.5459 0.5375 0.5421 0.4261 0.3682 0.8141
 [9] 0.4998 1.0000 0.3118 0.0000 0.4949 0.8100 0.4968 0.0779
[17] 0.3707 0.5305 0.9253 0.8721 0.7803 0.6805 0.3028 0.7803

$Izmir$day30$SO2
 [1] 0.8914 0.7194 0.8763 0.5612 0.8192 0.9583 0.1018 1.0000
 [9] 0.7276 0.7061 0.4780 0.1066 0.0000 0.5607 0.3993 0.8360
[17] 0.4455 0.3174 0.9972 0.3556 0.2079 0.6939 0.9943 0.0987</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="map-functioni" class="title-slide slide level2 center">
<h2><code>Map</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb308" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Map</span>(f, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Similar to <code>mapply</code>, but always returns a list.</p>
<p>Useful when you want to ensure that the output format is consistent, especially with complex data structures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb309"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1"></a><span class="co"># Create a complex random example data</span></span>
<span id="cb309-2"><a href="#cb309-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb309-3"><a href="#cb309-3"></a>PM25 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Ankara =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">35</span>, <span class="at">sd =</span> <span class="dv">5</span>),</span>
<span id="cb309-4"><a href="#cb309-4"></a>             <span class="at">Istanbul =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">30</span>, <span class="at">sd =</span> <span class="dv">4</span>),</span>
<span id="cb309-5"><a href="#cb309-5"></a>             <span class="at">Izmir =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">40</span>, <span class="at">sd =</span> <span class="dv">6</span>))</span>
<span id="cb309-6"><a href="#cb309-6"></a></span>
<span id="cb309-7"><a href="#cb309-7"></a>NO2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Ankara =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">10</span>),</span>
<span id="cb309-8"><a href="#cb309-8"></a>            <span class="at">Istanbul =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">45</span>, <span class="at">sd =</span> <span class="dv">7</span>),</span>
<span id="cb309-9"><a href="#cb309-9"></a>            <span class="at">Izmir =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">55</span>, <span class="at">sd =</span> <span class="dv">8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="map-functionii" class="title-slide slide level2 center">
<h2><code>Map</code> function/II</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1"></a>pollution_stats <span class="ot">&lt;-</span> <span class="fu">Map</span>(</span>
<span id="cb310-2"><a href="#cb310-2"></a>  <span class="cf">function</span>(pm25, no2)</span>
<span id="cb310-3"><a href="#cb310-3"></a>    <span class="fu">list</span>(<span class="at">mean_pm25 =</span> <span class="fu">mean</span>(pm25),</span>
<span id="cb310-4"><a href="#cb310-4"></a>         <span class="at">sd_pm25 =</span> <span class="fu">sd</span>(pm25),</span>
<span id="cb310-5"><a href="#cb310-5"></a>         <span class="at">mean_no2 =</span> <span class="fu">mean</span>(no2),</span>
<span id="cb310-6"><a href="#cb310-6"></a>         <span class="at">sd_no2 =</span> <span class="fu">sd</span>(no2)),</span>
<span id="cb310-7"><a href="#cb310-7"></a>  PM25, NO2)</span>
<span id="cb310-8"><a href="#cb310-8"></a><span class="fu">class</span>(pollution_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1"></a>pollution_stats2 <span class="ot">&lt;-</span> <span class="fu">mapply</span>(</span>
<span id="cb312-2"><a href="#cb312-2"></a>  <span class="cf">function</span>(pm25, no2) {</span>
<span id="cb312-3"><a href="#cb312-3"></a>    <span class="fu">list</span>(<span class="at">mean_pm25 =</span> <span class="fu">mean</span>(pm25),</span>
<span id="cb312-4"><a href="#cb312-4"></a>         <span class="at">sd_pm25 =</span> <span class="fu">sd</span>(pm25),</span>
<span id="cb312-5"><a href="#cb312-5"></a>         <span class="at">mean_no2 =</span> <span class="fu">mean</span>(no2),</span>
<span id="cb312-6"><a href="#cb312-6"></a>         <span class="at">sd_no2 =</span> <span class="fu">sd</span>(no2))</span>
<span id="cb312-7"><a href="#cb312-7"></a>    },</span>
<span id="cb312-8"><a href="#cb312-8"></a>  PM25, NO2)</span>
<span id="cb312-9"><a href="#cb312-9"></a><span class="fu">class</span>(pollution_stats2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1"></a><span class="fu">print</span>(pollution_stats2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>          Ankara Istanbul Izmir
mean_pm25 35.4   30.8     37.5 
sd_pm25   4.77   4.15     5.58 
mean_no2  53.2   44.9     56.8 
sd_no2    5.27   7.58     6.85 </code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="reduce-function" class="title-slide slide level2 center">
<h2><code>Reduce</code> function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb316" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Reduce</span>(f, x, init, <span class="at">right =</span> <span class="cn">FALSE</span>, <span class="at">accumulate =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Used to successively apply a function to elements of a vector or list.</li>
<li>Particularly useful when you want to progressively reduce a list or vector to a single value by applying a function in a pairwise manner.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb317"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb317-1"><a href="#cb317-1"></a>weekly_AQI <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb317-2"><a href="#cb317-2"></a>    <span class="at">week1 =</span> <span class="fu">c</span>(<span class="dv">120</span>, <span class="dv">110</span>, <span class="dv">115</span>, <span class="dv">130</span>, <span class="dv">125</span>, <span class="dv">140</span>, <span class="dv">135</span>),</span>
<span id="cb317-3"><a href="#cb317-3"></a>    <span class="at">week2 =</span> <span class="fu">c</span>(<span class="dv">128</span>, <span class="dv">122</span>, <span class="dv">118</span>, <span class="dv">135</span>, <span class="dv">140</span>, <span class="dv">145</span>, <span class="dv">130</span>),</span>
<span id="cb317-4"><a href="#cb317-4"></a>    <span class="at">week3 =</span> <span class="fu">c</span>(<span class="dv">130</span>, <span class="dv">125</span>, <span class="dv">120</span>, <span class="dv">140</span>, <span class="dv">135</span>, <span class="dv">150</span>, <span class="dv">145</span>)</span>
<span id="cb317-5"><a href="#cb317-5"></a>)</span>
<span id="cb317-6"><a href="#cb317-6"></a>(cumulative_product <span class="ot">&lt;-</span> <span class="fu">Reduce</span>(<span class="cf">function</span>(x, y) x <span class="sc">*</span> y, weekly_AQI))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1996800 1677500 1628400 2457000 2362500 3045000 2544750</code></pre>
</div>
</div>
<p>In this code, function(x, y) x * y is an anonymous function that takes two arguments and returns their product. Reduce applies this function cumulatively to the elements of weekly_AQI.</p>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="filter-functioni" class="title-slide slide level2 center">
<h2><code>Filter</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb319" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Filter</span>(f, x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Great for extracting elements from a vector or list based on a specified condition.</li>
<li>It’s very useful when you want to subset data according to certain criteria.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a href="#cb320-1"></a>daily_PM25 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">25</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">45</span>, <span class="dv">55</span>, <span class="dv">30</span>, <span class="dv">25</span>, <span class="dv">40</span>,</span>
<span id="cb320-2"><a href="#cb320-2"></a>                <span class="dv">60</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">55</span>, <span class="dv">60</span>,</span>
<span id="cb320-3"><a href="#cb320-3"></a>                <span class="dv">30</span>, <span class="dv">25</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">30</span>, <span class="dv">50</span>, <span class="dv">55</span>, <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb321-1"><a href="#cb321-1"></a>(safe_days <span class="ot">&lt;-</span> <span class="fu">Filter</span>(<span class="cf">function</span>(x) x <span class="sc">&lt;</span> <span class="dv">40</span>,</span>
<span id="cb321-2"><a href="#cb321-2"></a>                     daily_PM25))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] 35 25 20 30 25 20 30 35 25 30 25 20 35 30</code></pre>
</div>
</div>
</div>
<p>Is there another way?</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1"></a><span class="co"># indices of the values lower than 40</span></span>
<span id="cb323-2"><a href="#cb323-2"></a>i <span class="ot">&lt;-</span> <span class="fu">which</span>(daily_PM25 <span class="sc">&lt;</span> <span class="dv">40</span>)</span>
<span id="cb323-3"><a href="#cb323-3"></a>daily_PM25[i]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] 35 25 20 30 25 20 30 35 25 30 25 20 35 30</code></pre>
</div>
</div>
</div>
<p>or</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1"></a>daily_PM25[<span class="fu">which</span>(daily_PM25 <span class="sc">&lt;</span> <span class="dv">40</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code> [1] 35 25 20 30 25 20 30 35 25 30 25 20 35 30</code></pre>
</div>
</div>
</div>
<p>Then, why do we need <code>Filter</code> function?</p>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="filter-functionii" class="title-slide slide level2 center">
<h2><code>Filter</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1"></a><span class="co"># Create a complex example data</span></span>
<span id="cb327-2"><a href="#cb327-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb327-3"><a href="#cb327-3"></a><span class="co"># 3 cities, 10 days, 2 pollutants</span></span>
<span id="cb327-4"><a href="#cb327-4"></a>air_quality_data <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb327-5"><a href="#cb327-5"></a>    <span class="at">Ankara =</span> <span class="fu">data.frame</span>(<span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">35</span>, <span class="at">sd =</span> <span class="dv">5</span>),</span>
<span id="cb327-6"><a href="#cb327-6"></a>                        <span class="at">NO2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">10</span>)),</span>
<span id="cb327-7"><a href="#cb327-7"></a>    <span class="at">Istanbul =</span> <span class="fu">data.frame</span>(<span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">40</span>, <span class="at">sd =</span> <span class="dv">6</span>),</span>
<span id="cb327-8"><a href="#cb327-8"></a>                          <span class="at">NO2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">60</span>, <span class="at">sd =</span> <span class="dv">15</span>)),</span>
<span id="cb327-9"><a href="#cb327-9"></a>    <span class="at">Izmir =</span> <span class="fu">data.frame</span>(<span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">30</span>, <span class="at">sd =</span> <span class="dv">4</span>),</span>
<span id="cb327-10"><a href="#cb327-10"></a>                       <span class="at">NO2 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">45</span>, <span class="at">sd =</span> <span class="dv">7</span>))</span>
<span id="cb327-11"><a href="#cb327-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb328"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb328-1"><a href="#cb328-1"></a><span class="co"># PM2.5 mean values of all cities</span></span>
<span id="cb328-2"><a href="#cb328-2"></a><span class="fu">sapply</span>(air_quality_data,</span>
<span id="cb328-3"><a href="#cb328-3"></a>       <span class="cf">function</span>(df) <span class="fu">mean</span>(df<span class="sc">$</span>PM25))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>  Ankara Istanbul    Izmir 
    35.4     37.5     30.0 </code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb330-1"><a href="#cb330-1"></a><span class="co"># We want to extract the cities with</span></span>
<span id="cb330-2"><a href="#cb330-2"></a><span class="co"># mean PM2.5 lower than 37</span></span>
<span id="cb330-3"><a href="#cb330-3"></a>safe_cities <span class="ot">&lt;-</span> <span class="fu">Filter</span>(</span>
<span id="cb330-4"><a href="#cb330-4"></a>  <span class="cf">function</span>(df) <span class="fu">mean</span>(df<span class="sc">$</span>PM25) <span class="sc">&lt;</span> <span class="dv">37</span>,</span>
<span id="cb330-5"><a href="#cb330-5"></a>  air_quality_data)</span>
<span id="cb330-6"><a href="#cb330-6"></a></span>
<span id="cb330-7"><a href="#cb330-7"></a><span class="fu">names</span>(safe_cities)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ankara" "Izmir" </code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="find-functioni" class="title-slide slide level2 center">
<h2><code>Find</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb332" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Find</span>(f, x, <span class="at">right =</span> <span class="cn">FALSE</span>, <span class="at">nomatch =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Used to locate the first element of a list or vector that satisfies a given condition.</li>
<li>It’s quite useful when you want to quickly identify an element that meets certain criteria without having to process the entire dataset.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb333"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1"></a><span class="co"># Toy data</span></span>
<span id="cb333-2"><a href="#cb333-2"></a>daily_PM25 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb333-3"><a href="#cb333-3"></a>    <span class="at">day1 =</span> <span class="dv">30</span>, <span class="at">day2 =</span> <span class="dv">35</span>, <span class="at">day3 =</span> <span class="dv">40</span>, <span class="at">day4 =</span> <span class="dv">45</span>,</span>
<span id="cb333-4"><a href="#cb333-4"></a>    <span class="at">day5 =</span> <span class="dv">25</span>, <span class="at">day6 =</span> <span class="dv">50</span>, <span class="at">day7 =</span> <span class="dv">55</span>, <span class="at">day8 =</span> <span class="dv">20</span></span>
<span id="cb333-5"><a href="#cb333-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb334-1"><a href="#cb334-1"></a><span class="co"># Assume the threshold for concern is a </span></span>
<span id="cb334-2"><a href="#cb334-2"></a><span class="co"># PM2.5 level of 50.</span></span>
<span id="cb334-3"><a href="#cb334-3"></a>(first_high_day <span class="ot">&lt;-</span> <span class="fu">Find</span>(<span class="cf">function</span>(x) x <span class="sc">&gt;</span> <span class="dv">50</span>,</span>
<span id="cb334-4"><a href="#cb334-4"></a>                        daily_PM25))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="find-functionii" class="title-slide slide level2 center">
<h2><code>Find</code> function/II</h2>
<p>A more complex example.</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb336-1"><a href="#cb336-1"></a><span class="co"># Create a complex example data</span></span>
<span id="cb336-2"><a href="#cb336-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># Ensuring reproducibility</span></span>
<span id="cb336-3"><a href="#cb336-3"></a>air_quality_data <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb336-4"><a href="#cb336-4"></a>    <span class="at">Ankara =</span> <span class="fu">data.frame</span>(</span>
<span id="cb336-5"><a href="#cb336-5"></a>      <span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb336-6"><a href="#cb336-6"></a>      <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">35</span>, <span class="at">sd =</span> <span class="dv">5</span>)),</span>
<span id="cb336-7"><a href="#cb336-7"></a>    <span class="at">Istanbul =</span> <span class="fu">data.frame</span>(</span>
<span id="cb336-8"><a href="#cb336-8"></a>      <span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb336-9"><a href="#cb336-9"></a>      <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">40</span>, <span class="at">sd =</span> <span class="dv">6</span>)),</span>
<span id="cb336-10"><a href="#cb336-10"></a>    <span class="at">Izmir =</span> <span class="fu">data.frame</span>(</span>
<span id="cb336-11"><a href="#cb336-11"></a>      <span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb336-12"><a href="#cb336-12"></a>      <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">30</span>, <span class="at">sd =</span> <span class="dv">4</span>))</span>
<span id="cb336-13"><a href="#cb336-13"></a>)</span>
<span id="cb336-14"><a href="#cb336-14"></a><span class="fu">print</span>(air_quality_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>$Ankara
  day PM25
1   1 32.2
2   2 33.8
3   3 42.8
4   4 35.4
5   5 35.6
6   6 43.6
7   7 37.3

$Istanbul
  day PM25
1   1 32.4
2   2 35.9
3   3 37.3
4   4 47.3
5   5 42.2
6   6 42.4
7   7 40.7

$Izmir
  day PM25
1   1 27.8
2   2 37.1
3   3 32.0
4   4 22.1
5   5 32.8
6   6 28.1
7   7 25.7</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb338"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb338-1"><a href="#cb338-1"></a>(first_exceeding_city <span class="ot">&lt;-</span> <span class="fu">Find</span>(</span>
<span id="cb338-2"><a href="#cb338-2"></a>  <span class="cf">function</span>(df) <span class="fu">any</span>(df<span class="sc">$</span>PM25 <span class="sc">&gt;</span> <span class="dv">45</span>),</span>
<span id="cb338-3"><a href="#cb338-3"></a>  air_quality_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>  day PM25
1   1 32.4
2   2 35.9
3   3 37.3
4   4 47.3
5   5 42.2
6   6 42.4
7   7 40.7</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="position-function" class="title-slide slide level2 center">
<h2><code>Position</code> function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb340" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Position</span>(f, x, <span class="at">right =</span> <span class="cn">FALSE</span>, <span class="at">nomatch =</span> <span class="cn">NA_integer_</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Used to find the position or index of the first element in a vector or list that satisfies a specified condition.</li>
<li>This is particularly useful when you want to know where in your data a certain criterion is first met, rather than just retrieving the value itself.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1"></a><span class="co"># Create a complex example data</span></span>
<span id="cb341-2"><a href="#cb341-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb341-3"><a href="#cb341-3"></a>environmental_data <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb341-4"><a href="#cb341-4"></a>    <span class="at">Ankara =</span> <span class="fu">data.frame</span>(<span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb341-5"><a href="#cb341-5"></a>                        <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">35</span>, <span class="at">sd =</span> <span class="dv">5</span>),</span>
<span id="cb341-6"><a href="#cb341-6"></a>                        <span class="at">Temp =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb341-7"><a href="#cb341-7"></a>                        <span class="at">Humidity =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">60</span>)),</span>
<span id="cb341-8"><a href="#cb341-8"></a>    <span class="at">Istanbul =</span> <span class="fu">data.frame</span>(<span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb341-9"><a href="#cb341-9"></a>                          <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">40</span>, <span class="at">sd =</span> <span class="dv">6</span>),</span>
<span id="cb341-10"><a href="#cb341-10"></a>                          <span class="at">Temp =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">22</span>),</span>
<span id="cb341-11"><a href="#cb341-11"></a>                          <span class="at">Humidity =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">65</span>)),</span>
<span id="cb341-12"><a href="#cb341-12"></a>    <span class="at">Izmir =</span> <span class="fu">data.frame</span>(<span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb341-13"><a href="#cb341-13"></a>                       <span class="at">PM25 =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">30</span>, <span class="at">sd =</span> <span class="dv">4</span>),</span>
<span id="cb341-14"><a href="#cb341-14"></a>                       <span class="at">Temp =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">25</span>),</span>
<span id="cb341-15"><a href="#cb341-15"></a>                       <span class="at">Humidity =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">70</span>)))</span>
<span id="cb341-16"><a href="#cb341-16"></a>(first_exceeding_city_index <span class="ot">&lt;-</span> <span class="fu">Position</span>(</span>
<span id="cb341-17"><a href="#cb341-17"></a>  <span class="cf">function</span>(df) <span class="fu">mean</span>(df<span class="sc">$</span>PM25) <span class="sc">&gt;</span> <span class="dv">37</span>, environmental_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="sweep-functioni" class="title-slide slide level2 center">
<h2><code>sweep</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb343" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sweep</span>(x, MARGIN, STATS, <span class="at">FUN =</span> <span class="st">"-"</span>, <span class="at">check.margin =</span> <span class="cn">TRUE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Useful for performing operations on arrays or matrices, such as standardizing data by subtracting the mean and dividing by the standard deviation.</li>
<li>This function is often used in data analysis for normalizing or scaling data.</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb344"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb344-1"><a href="#cb344-1"></a><span class="co"># Create a complex example data</span></span>
<span id="cb344-2"><a href="#cb344-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb344-3"><a href="#cb344-3"></a>pollution_data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb344-4"><a href="#cb344-4"></a>  <span class="fu">rnorm</span>(<span class="dv">30</span>), <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb344-5"><a href="#cb344-5"></a>mycolnames <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PM2.5"</span>, <span class="st">"NO2"</span>, <span class="st">"SO2"</span>)</span>
<span id="cb344-6"><a href="#cb344-6"></a><span class="fu">colnames</span>(pollution_data) <span class="ot">&lt;-</span> mycolnames</span>
<span id="cb344-7"><a href="#cb344-7"></a><span class="fu">head</span>(pollution_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>       PM2.5    NO2    SO2
[1,] -0.5605  1.224 -1.068
[2,] -0.2302  0.360 -0.218
[3,]  1.5587  0.401 -1.026
[4,]  0.0705  0.111 -0.729
[5,]  0.1293 -0.556 -0.625
[6,]  1.7151  1.787 -1.687</code></pre>
</div>
</div>
</div>
<p>These values are required for standardization.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb346"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb346-1"><a href="#cb346-1"></a>means <span class="ot">&lt;-</span> <span class="fu">colMeans</span>(pollution_data)</span>
<span id="cb346-2"><a href="#cb346-2"></a>sds <span class="ot">&lt;-</span> <span class="fu">apply</span>(pollution_data, <span class="dv">2</span>, sd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="sweep-functionii" class="title-slide slide level2 center">
<h2><code>sweep</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1"></a><span class="co"># Subtract the mean</span></span>
<span id="cb347-2"><a href="#cb347-2"></a>(centered_data <span class="ot">&lt;-</span> <span class="fu">sweep</span>(pollution_data, <span class="dv">2</span>, means, <span class="at">FUN =</span> <span class="st">"-"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         PM2.5     NO2    SO2
 [1,] -0.63510  1.0155 -0.643
 [2,] -0.30480  0.1512  0.207
 [3,]  1.48408  0.1921 -0.601
 [4,] -0.00412 -0.0979 -0.304
 [5,]  0.05466 -0.7645 -0.200
 [6,]  1.64044  1.5783 -1.262
 [7,]  0.38629  0.2892  1.262
 [8,] -1.33969 -2.1752  0.578
 [9,] -0.76148  0.4927 -0.714
[10,] -0.52029 -0.6814  1.678</code></pre>
</div>
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb349-1"><a href="#cb349-1"></a><span class="co"># Divide by the standard deviation</span></span>
<span id="cb349-2"><a href="#cb349-2"></a>(standardized_data <span class="ot">&lt;-</span> <span class="fu">sweep</span>(centered_data, <span class="dv">2</span>, sds, <span class="at">FUN =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         PM2.5     NO2    SO2
 [1,] -0.66588  0.9782 -0.691
 [2,] -0.31957  0.1456  0.222
 [3,]  1.55599  0.1851 -0.646
 [4,] -0.00432 -0.0943 -0.327
 [5,]  0.05731 -0.7364 -0.215
 [6,]  1.71993  1.5204 -1.356
 [7,]  0.40501  0.2786  1.356
 [8,] -1.40460 -2.0955  0.621
 [9,] -0.79838  0.4747 -0.767
[10,] -0.54550 -0.6564  1.803</code></pre>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="sweep-functioniii" class="title-slide slide level2 center">
<h2><code>sweep</code> function/III</h2>
<p>Can’t we do it without <code>sweep</code> function?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb351-1"><a href="#cb351-1"></a>(standardized_data2 <span class="ot">&lt;-</span> <span class="fu">apply</span>(</span>
<span id="cb351-2"><a href="#cb351-2"></a>  pollution_data, <span class="dv">2</span>, <span class="cf">function</span>(x) (x <span class="sc">-</span> <span class="fu">mean</span>(x)) <span class="sc">/</span> <span class="fu">sd</span>(x)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         PM2.5     NO2    SO2
 [1,] -0.66588  0.9782 -0.691
 [2,] -0.31957  0.1456  0.222
 [3,]  1.55599  0.1851 -0.646
 [4,] -0.00432 -0.0943 -0.327
 [5,]  0.05731 -0.7364 -0.215
 [6,]  1.71993  1.5204 -1.356
 [7,]  0.40501  0.2786  1.356
 [8,] -1.40460 -2.0955  0.621
 [9,] -0.79838  0.4747 -0.767
[10,] -0.54550 -0.6564  1.803</code></pre>
</div>
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1"></a><span class="co"># Are they equal?</span></span>
<span id="cb353-2"><a href="#cb353-2"></a><span class="fu">all.equal</span>(standardized_data, standardized_data2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Then, why do we need <code>sweep</code> function?</p>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="sweep-functioniv" class="title-slide slide level2 center">
<h2><code>sweep</code> function/IV</h2>
<ul>
<li><p><code>apply</code> function can <em>ONLY</em> calculate the result in a single step.</p></li>
<li><p>However, <code>sweep</code> function allows you to apply different set of operations on each mathematical step. Think that you will need mean of <code>centered_data</code> for another operation.</p></li>
<li><p>Also, you can keep mean and standard deviation values for later to de-standardize your data.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb355-1"><a href="#cb355-1"></a><span class="co"># Get centered data from standardized data</span></span>
<span id="cb355-2"><a href="#cb355-2"></a>centered_data2 <span class="ot">&lt;-</span> <span class="fu">sweep</span>(standardized_data, <span class="dv">2</span>, sds, <span class="at">FUN =</span> <span class="st">"*"</span>)</span>
<span id="cb355-3"><a href="#cb355-3"></a><span class="co"># Get original data from centered data</span></span>
<span id="cb355-4"><a href="#cb355-4"></a>original_data <span class="ot">&lt;-</span> <span class="fu">sweep</span>(centered_data2, <span class="dv">2</span>, means, <span class="at">FUN =</span> <span class="st">"+"</span>)</span>
<span id="cb355-5"><a href="#cb355-5"></a><span class="co"># Are they equal?</span></span>
<span id="cb355-6"><a href="#cb355-6"></a><span class="fu">all.equal</span>(original_data, pollution_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="negate-functioni" class="title-slide slide level2 center">
<h2><code>Negate</code> function/I</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb357" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Negate</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>It takes a function that tests for a condition and returns a new function that tests for the opposite condition.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1"></a><span class="co"># We have a function that identifies days with poor</span></span>
<span id="cb358-2"><a href="#cb358-2"></a><span class="co"># air quality based on certain criteria.</span></span>
<span id="cb358-3"><a href="#cb358-3"></a>is_poor_air_quality <span class="ot">&lt;-</span> <span class="cf">function</span>(pm25, no2) {</span>
<span id="cb358-4"><a href="#cb358-4"></a>    pm25 <span class="sc">&gt;</span> <span class="dv">35</span> <span class="sc">&amp;&amp;</span> no2 <span class="sc">&gt;</span> <span class="dv">50</span></span>
<span id="cb358-5"><a href="#cb358-5"></a>}</span>
<span id="cb358-6"><a href="#cb358-6"></a><span class="co"># Use Negate to create the OPPOSITE function</span></span>
<span id="cb358-7"><a href="#cb358-7"></a>is_good_air_quality <span class="ot">&lt;-</span> <span class="fu">Negate</span>(is_poor_air_quality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s test the function with some example data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb359"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb359-1"><a href="#cb359-1"></a><span class="co"># Example data for a week</span></span>
<span id="cb359-2"><a href="#cb359-2"></a>air_quality_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb359-3"><a href="#cb359-3"></a>    <span class="at">day =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,</span>
<span id="cb359-4"><a href="#cb359-4"></a>    <span class="at">PM25 =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">36</span>, <span class="dv">38</span>, <span class="dv">50</span>, <span class="dv">33</span>, <span class="dv">45</span>),</span>
<span id="cb359-5"><a href="#cb359-5"></a>    <span class="at">NO2 =</span> <span class="fu">c</span>(<span class="dv">45</span>, <span class="dv">55</span>, <span class="dv">60</span>, <span class="dv">48</span>, <span class="dv">53</span>, <span class="dv">49</span>, <span class="dv">52</span>)</span>
<span id="cb359-6"><a href="#cb359-6"></a>)</span>
<span id="cb359-7"><a href="#cb359-7"></a><span class="fu">head</span>(air_quality_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  day PM25 NO2
1   1   30  45
2   2   40  55
3   3   36  60
4   4   38  48
5   5   50  53
6   6   33  49</code></pre>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="negate-functionii" class="title-slide slide level2 center">
<h2><code>Negate</code> function/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1"></a><span class="co"># Test the original function</span></span>
<span id="cb361-2"><a href="#cb361-2"></a>(poor_quality_days <span class="ot">&lt;-</span> <span class="fu">apply</span>(</span>
<span id="cb361-3"><a href="#cb361-3"></a>  air_quality_data, <span class="dv">1</span>,</span>
<span id="cb361-4"><a href="#cb361-4"></a>  <span class="cf">function</span>(x) <span class="fu">is_poor_air_quality</span>(x[<span class="st">"PM25"</span>], x[<span class="st">"NO2"</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb363-1"><a href="#cb363-1"></a><span class="co"># Test the negated function</span></span>
<span id="cb363-2"><a href="#cb363-2"></a>(good_quality_days <span class="ot">&lt;-</span> <span class="fu">apply</span>(</span>
<span id="cb363-3"><a href="#cb363-3"></a>  air_quality_data, <span class="dv">1</span>,</span>
<span id="cb363-4"><a href="#cb363-4"></a>  <span class="cf">function</span>(x) <span class="fu">is_good_air_quality</span>(x[<span class="st">"PM25"</span>], x[<span class="st">"NO2"</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
</div>
</div>
<p>Do we really need such a function?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb365-1"><a href="#cb365-1"></a><span class="fu">print</span>(is_poor_air_quality) <span class="co"># Original function</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function(pm25, no2) {
    pm25 &gt; 35 &amp;&amp; no2 &gt; 50
}
&lt;bytecode: 0x1078cbe70&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb367-1"><a href="#cb367-1"></a><span class="fu">print</span>(is_good_air_quality) <span class="co"># Negated function</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (...) 
!f(...)
&lt;bytecode: 0x133152020&gt;
&lt;environment: 0x1209f0368&gt;</code></pre>
</div>
</div>
<div class="footer">
<p>Apply Function family</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="xts-package" class="title-slide slide level1 center">
<h1>xts package</h1>
<ul>
<li>What is xts?</li>
<li>Why do we need?</li>
<li>Matrix vs.&nbsp;xts</li>
<li>Metadata</li>
<li>Subsetting</li>
<li>Time alignment and merging</li>
</ul>
<!----------------------------------------------------------------------------->
</section>
<section id="what-is-xts" class="title-slide slide level2 center">
<h2>What is xts?</h2>
<ul>
<li><strong>xts</strong> stands for <em>eXtensible Time Series</em>.</li>
<li>It’s an R package specifically designed for <u>handling and analyzing time-series data</u>.</li>
<li>Built on top of the <code>zoo</code> package, it inherits all zoo functionalities and adds time-based - indexing and sub-setting, plus some performance optimizations.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb369" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"xts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb370" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb370-1"><a href="#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: zoo</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="why-do-we-need" class="title-slide slide level2 center">
<h2>Why do we need?</h2>
<p><strong>Key Features</strong></p>
<ul>
<li>Time-based Indexing/Sub-setting/Aggregation/Plotting/Calculations etc…</li>
<li>Efficient time-based operations (e.g.&nbsp;extracting data for a specific time period)</li>
<li>Dealing with Large datasets</li>
<li>Handling Irregular Time Series</li>
<li>Metadata handling</li>
<li>Automatic Time Zone Handling</li>
<li>Periodicity Recognition</li>
</ul>
<p><strong>Limitations</strong></p>
<ul>
<li><strong>Handling of Non-numeric Data:</strong> xts primarily handles numeric time series data. Working with non-numeric data types (like strings or factors) can be cumbersome and might require additional data manipulation.</li>
<li><strong>Handling of Missing Data:</strong> xts does not provide any special handling of missing data. It is up to the user to decide how to handle missing data.</li>
<li><strong>Time Zone Management:</strong> Although xts handles time zones, managing time zone conversions and daylight saving time can be complex and may require extra caution and work.</li>
</ul>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="creating-xts-objectsi" class="title-slide slide level2 center">
<h2>Creating xts Objects/I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Using vector</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb374"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb374-2"><a href="#cb374-2"></a></span>
<span id="cb374-3"><a href="#cb374-3"></a><span class="co"># Sample data vectors</span></span>
<span id="cb374-4"><a href="#cb374-4"></a>dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2023-01-01"</span>),</span>
<span id="cb374-5"><a href="#cb374-5"></a>             <span class="at">by =</span> <span class="st">"days"</span>, <span class="at">length.out =</span> <span class="dv">5</span>)</span>
<span id="cb374-6"><a href="#cb374-6"></a>temperature <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">23</span>, <span class="dv">21</span>, <span class="dv">20</span>, <span class="dv">19</span>)</span>
<span id="cb374-7"><a href="#cb374-7"></a></span>
<span id="cb374-8"><a href="#cb374-8"></a><span class="co"># Use just temperature vector to create xts object</span></span>
<span id="cb374-9"><a href="#cb374-9"></a>xts_object <span class="ot">&lt;-</span> <span class="fu">xts</span>(</span>
<span id="cb374-10"><a href="#cb374-10"></a>  temperature,</span>
<span id="cb374-11"><a href="#cb374-11"></a>  <span class="at">order.by =</span> dates)</span>
<span id="cb374-12"><a href="#cb374-12"></a><span class="fu">colnames</span>(xts_object) <span class="ot">&lt;-</span> <span class="st">"Temperature"</span></span>
<span id="cb374-13"><a href="#cb374-13"></a><span class="fu">class</span>(xts_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xts" "zoo"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb376"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb376-1"><a href="#cb376-1"></a><span class="fu">print</span>(xts_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Temperature
2023-01-01          22
2023-01-02          23
2023-01-03          21
2023-01-04          20
2023-01-05          19</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Converting matrix</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb378"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb378-1"><a href="#cb378-1"></a>humidity <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">60</span>, <span class="dv">65</span>, <span class="dv">58</span>, <span class="dv">55</span>, <span class="dv">57</span>)</span>
<span id="cb378-2"><a href="#cb378-2"></a></span>
<span id="cb378-3"><a href="#cb378-3"></a><span class="co"># Create a sample matrix</span></span>
<span id="cb378-4"><a href="#cb378-4"></a>sample_matrix <span class="ot">&lt;-</span> <span class="fu">cbind</span>(</span>
<span id="cb378-5"><a href="#cb378-5"></a>  temperature, humidity)</span>
<span id="cb378-6"><a href="#cb378-6"></a><span class="fu">rownames</span>(sample_matrix) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(dates)</span>
<span id="cb378-7"><a href="#cb378-7"></a><span class="co"># Convert the matrix to an xts object</span></span>
<span id="cb378-8"><a href="#cb378-8"></a>xts_from_matrix <span class="ot">&lt;-</span> <span class="fu">as.xts</span>(sample_matrix)</span>
<span id="cb378-9"><a href="#cb378-9"></a><span class="fu">print</span>(xts_from_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           temperature humidity
2023-01-01          22       60
2023-01-02          23       65
2023-01-03          21       58
2023-01-04          20       55
2023-01-05          19       57</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="creating-xts-objectsii" class="title-slide slide level2 center">
<h2>Creating xts Objects/II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>directly from matrix</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb380"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb380-1"><a href="#cb380-1"></a>sample_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb380-2"><a href="#cb380-2"></a>  <span class="fu">c</span>(temperature, humidity),</span>
<span id="cb380-3"><a href="#cb380-3"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb380-4"><a href="#cb380-4"></a>  <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb380-5"><a href="#cb380-5"></a>    dates, <span class="fu">c</span>(<span class="st">"Temperature"</span>, <span class="st">"Humidity"</span>)))</span>
<span id="cb380-6"><a href="#cb380-6"></a><span class="co"># create xts object directly from matrix</span></span>
<span id="cb380-7"><a href="#cb380-7"></a>xts_from_matrix <span class="ot">&lt;-</span> <span class="fu">xts</span>(sample_matrix,</span>
<span id="cb380-8"><a href="#cb380-8"></a>                       <span class="at">order.by =</span> dates)</span>
<span id="cb380-9"><a href="#cb380-9"></a><span class="fu">print</span>(xts_from_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Temperature Humidity
2023-01-01          22       60
2023-01-02          23       65
2023-01-03          21       58
2023-01-04          20       55
2023-01-05          19       57</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Using data.frame</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb382"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb382-1"><a href="#cb382-1"></a><span class="co"># Create a sample data.frame</span></span>
<span id="cb382-2"><a href="#cb382-2"></a>sample_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb382-3"><a href="#cb382-3"></a>  <span class="at">date =</span> dates,</span>
<span id="cb382-4"><a href="#cb382-4"></a>  <span class="at">temperature =</span> temperature,</span>
<span id="cb382-5"><a href="#cb382-5"></a>  <span class="at">humidity =</span> humidity</span>
<span id="cb382-6"><a href="#cb382-6"></a>)</span>
<span id="cb382-7"><a href="#cb382-7"></a><span class="fu">print</span>(sample_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        date temperature humidity
1 2023-01-01          22       60
2 2023-01-02          23       65
3 2023-01-03          21       58
4 2023-01-04          20       55
5 2023-01-05          19       57</code></pre>
</div>
<div class="sourceCode cell-code" id="cb384"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb384-1"><a href="#cb384-1"></a><span class="co"># Create xts object from data.frame</span></span>
<span id="cb384-2"><a href="#cb384-2"></a>xts_from_df <span class="ot">&lt;-</span> <span class="fu">xts</span>(</span>
<span id="cb384-3"><a href="#cb384-3"></a>  sample_df[, <span class="sc">-</span><span class="dv">1</span>], <span class="at">order.by =</span> sample_df<span class="sc">$</span>date)</span>
<span id="cb384-4"><a href="#cb384-4"></a><span class="fu">print</span>(xts_from_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           temperature humidity
2023-01-01          22       60
2023-01-02          23       65
2023-01-03          21       58
2023-01-04          20       55
2023-01-05          19       57</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="matrix-vs.-xtsi" class="title-slide slide level2 center">
<h2>Matrix vs.&nbsp;xts/I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Matrix
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb386" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb386-1"><a href="#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(sample_matrix)</span>
<span id="cb386-2"><a href="#cb386-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sample_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb388" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb388-1"><a href="#cb388-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sample_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Open High  Low Close
2007-01-02 50.0 50.1 50.0  50.1
2007-01-03 50.2 50.4 50.2  50.4
2007-01-04 50.4 50.4 50.3  50.3
2007-01-05 50.4 50.4 50.2  50.3
2007-01-06 50.2 50.2 50.1  50.2
2007-01-07 50.1 50.2 50.0  50.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb390" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sample_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Open"  "High"  "Low"   "Close"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb392" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb392-1"><a href="#cb392-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(sample_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>2007-01-02 2007-01-03 2007-01-04 2007-01-05 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb394" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb394-1"><a href="#cb394-1" aria-hidden="true" tabindex="-1"></a><span class="fu">index</span>(sample_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>1 2 3 4 5 6 ... 175 176 177 178 179 180</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
xts
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb396" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb396-1"><a href="#cb396-1" aria-hidden="true" tabindex="-1"></a>sample.xts <span class="ot">&lt;-</span> <span class="fu">as.xts</span>(sample_matrix)</span>
<span id="cb396-2"><a href="#cb396-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xts" "zoo"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb398" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb398-1"><a href="#cb398-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Open High  Low Close
2007-01-02 50.0 50.1 50.0  50.1
2007-01-03 50.2 50.4 50.2  50.4
2007-01-04 50.4 50.4 50.3  50.3
2007-01-05 50.4 50.4 50.2  50.3
2007-01-06 50.2 50.2 50.1  50.2
2007-01-07 50.1 50.2 50.0  50.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb400" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb400-1"><a href="#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Open"  "High"  "Low"   "Close"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb402" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb402-1"><a href="#cb402-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb404" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb404-1"><a href="#cb404-1" aria-hidden="true" tabindex="-1"></a><span class="fu">index</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>2007-01-02 2007-01-03 ... 2007-06-29 2007-06-30</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="matrix-vs.-xtsii" class="title-slide slide level2 center">
<h2>Matrix vs.&nbsp;xts/II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Matrix
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb406" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb406-1"><a href="#cb406-1" aria-hidden="true" tabindex="-1"></a>sample_matrix[<span class="dv">31</span><span class="sc">:</span><span class="dv">58</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>             Open   High    Low  Close
2007-02-01 50.224 50.414 50.191 50.358
2007-02-02 50.445 50.535 50.361 50.369
2007-02-03 50.372 50.469 50.299 50.431
2007-02-04 50.482 50.555 50.402 50.555
              ...    ...    ...    ...
2007-02-25  50.79 50.932  50.79 50.848
2007-02-26 50.882 50.882 50.755 50.755
2007-02-27 50.743 50.789 50.619 50.692
2007-02-28 50.694 50.771 50.599 50.771</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb408" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb408-1"><a href="#cb408-1" aria-hidden="true" tabindex="-1"></a>sample_matrix[<span class="dv">31</span><span class="sc">:</span><span class="dv">89</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>             Open   High    Low  Close
2007-02-01 50.224 50.414 50.191 50.358
2007-02-02 50.445 50.535 50.361 50.369
2007-02-03 50.372 50.469 50.299 50.431
2007-02-04 50.482 50.555 50.402 50.555
              ...    ...    ...    ...
2007-03-28 48.331 48.536 48.331 48.536
2007-03-29 48.592   48.7 48.574   48.7
2007-03-30 48.746 49.002 48.746 48.935
2007-03-31 48.956 49.097 48.956 48.975</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
xts
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb410" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb410-1"><a href="#cb410-1" aria-hidden="true" tabindex="-1"></a>sample.xts[<span class="st">'2007-02'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>             Open   High    Low  Close
2007-02-01 50.224 50.414 50.191 50.358
2007-02-02 50.445 50.535 50.361 50.369
2007-02-03 50.372 50.469 50.299 50.431
2007-02-04 50.482 50.555 50.402 50.555
              ...    ...    ...    ...
2007-02-25  50.79 50.932  50.79 50.848
2007-02-26 50.882 50.882 50.755 50.755
2007-02-27 50.743 50.789 50.619 50.692
2007-02-28 50.694 50.771 50.599 50.771</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb412" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1" aria-hidden="true" tabindex="-1"></a>sample.xts[<span class="st">'2007-02/2007-03'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>             Open   High    Low  Close
2007-02-01 50.224 50.414 50.191 50.358
2007-02-02 50.445 50.535 50.361 50.369
2007-02-03 50.372 50.469 50.299 50.431
2007-02-04 50.482 50.555 50.402 50.555
              ...    ...    ...    ...
2007-03-28 48.331 48.536 48.331 48.536
2007-03-29 48.592   48.7 48.574   48.7
2007-03-30 48.746 49.002 48.746 48.935
2007-03-31 48.956 49.097 48.956 48.975</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="metadata" class="title-slide slide level2 center">
<h2>Metadata</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb414"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb414-1"><a href="#cb414-1"></a><span class="co"># Adding and viewing meta-data</span></span>
<span id="cb414-2"><a href="#cb414-2"></a><span class="fu">attr</span>(sample.xts, <span class="st">"description"</span>) <span class="ot">&lt;-</span> <span class="st">"Sample xts data"</span></span>
<span id="cb414-3"><a href="#cb414-3"></a><span class="fu">attributes</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$dim
[1] 180   4

$dimnames
$dimnames[[1]]
NULL

$dimnames[[2]]
[1] "Open"  "High"  "Low"   "Close"


$index
  [1] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
  [7] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [13] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [19] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [25] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [31] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [37] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [43] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [49] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [55] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [61] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [67] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [73] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [79] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [85] 1.17e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
 [91] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
 [97] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[103] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[109] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[115] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[121] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[127] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[133] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[139] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[145] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[151] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[157] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[163] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[169] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[175] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
attr(,"tzone")
[1] ""
attr(,"tclass")
[1] "POSIXct" "POSIXt" 

$class
[1] "xts" "zoo"

$description
[1] "Sample xts data"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb416"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1"></a><span class="co"># do some math</span></span>
<span id="cb416-2"><a href="#cb416-2"></a>sample.xts <span class="ot">&lt;-</span> sample.xts <span class="sc">*</span> sample_matrix</span>
<span id="cb416-3"><a href="#cb416-3"></a><span class="fu">attributes</span>(sample.xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$index
  [1] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
  [7] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [13] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [19] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [25] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [31] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [37] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [43] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [49] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [55] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [61] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [67] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [73] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [79] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09
 [85] 1.17e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
 [91] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
 [97] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[103] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[109] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[115] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[121] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[127] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[133] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[139] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[145] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[151] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[157] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[163] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[169] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
[175] 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09 1.18e+09
attr(,"tzone")
[1] ""
attr(,"tclass")
[1] "POSIXct" "POSIXt" 

$class
[1] "xts" "zoo"

$description
[1] "Sample xts data"

$dim
[1] 180   4

$dimnames
$dimnames[[1]]
NULL

$dimnames[[2]]
[1] "Open"  "High"  "Low"   "Close"</code></pre>
</div>
</div>
<ul>
<li>New <strong>description</strong> metadata is still there.</li>
</ul>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="periodicityi" class="title-slide slide level2 center">
<h2>Periodicity/I</h2>
<p>Estimate the periodicity of a time-series-like object by calculating the median time between observations in days.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb418" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb418-1"><a href="#cb418-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">periodicity</span>(sample.xts)</span>
<span id="cb418-2"><a href="#cb418-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Daily periodicity from 2007-01-02 to 2007-06-30 </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb420"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb420-1"><a href="#cb420-1"></a><span class="co"># Convert to a different time zone</span></span>
<span id="cb420-2"><a href="#cb420-2"></a>sample.xts.tz <span class="ot">&lt;-</span> <span class="fu">as.xts</span>(sample_matrix, <span class="at">tzone =</span> <span class="st">"GMT"</span>)</span>
<span id="cb420-3"><a href="#cb420-3"></a>p.tz <span class="ot">&lt;-</span> <span class="fu">periodicity</span>(sample.xts.tz)</span>
<span id="cb420-4"><a href="#cb420-4"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Daily periodicity from 2007-01-02 to 2007-06-30 </code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb422" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb422-1"><a href="#cb422-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$difftime
Time difference of 86400 days

$frequency
[1] 86400

$start
[1] "2007-01-02 EET"

$end
[1] "2007-06-30 EEST"

$units
[1] "days"

$scale
[1] "daily"

$label
[1] "day"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb424" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(p.tz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$difftime
Time difference of 86400 days

$frequency
[1] 86400

$start
[1] "2007-01-01 22:00:00 GMT"

$end
[1] "2007-06-29 21:00:00 GMT"

$units
[1] "days"

$scale
[1] "daily"

$label
[1] "day"</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="periodicityii" class="title-slide slide level2 center">
<h2>Periodicity/II</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb426"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1"></a><span class="co"># Change system time zone information</span></span>
<span id="cb426-2"><a href="#cb426-2"></a><span class="fu">Sys.setenv</span>(<span class="at">TZ =</span> <span class="st">'GMT'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb427" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$difftime
Time difference of 86400 days

$frequency
[1] 86400

$start
[1] "2007-01-01 22:00:00 GMT"

$end
[1] "2007-06-29 21:00:00 GMT"

$units
[1] "days"

$scale
[1] "daily"

$label
[1] "day"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb429" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb429-1"><a href="#cb429-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(p.tz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$difftime
Time difference of 86400 days

$frequency
[1] 86400

$start
[1] "2007-01-01 22:00:00 GMT"

$end
[1] "2007-06-29 21:00:00 GMT"

$units
[1] "days"

$scale
[1] "daily"

$label
[1] "day"</code></pre>
</div>
</div>
</div>
</div>
<ul>
<li>Actually both xts objects are the same. Just Time-zone information are different.</li>
</ul>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="time-based-indexing" class="title-slide slide level2 center">
<h2>Time-based Indexing</h2>
<p>A more complex xts object.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb431-1"><a href="#cb431-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb431-2"><a href="#cb431-2"></a></span>
<span id="cb431-3"><a href="#cb431-3"></a><span class="co"># Generate sample data</span></span>
<span id="cb431-4"><a href="#cb431-4"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb431-5"><a href="#cb431-5"></a>dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>),</span>
<span id="cb431-6"><a href="#cb431-6"></a>             <span class="at">by =</span> <span class="st">"day"</span>, <span class="at">length.out =</span> <span class="dv">730</span>)</span>
<span id="cb431-7"><a href="#cb431-7"></a>data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">730</span><span class="sc">*</span><span class="dv">3</span>), <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb431-8"><a href="#cb431-8"></a></span>
<span id="cb431-9"><a href="#cb431-9"></a><span class="co"># Create xts object</span></span>
<span id="cb431-10"><a href="#cb431-10"></a>xts_data <span class="ot">&lt;-</span> <span class="fu">xts</span>(data, <span class="at">order.by =</span> dates)</span>
<span id="cb431-11"><a href="#cb431-11"></a>cn <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Temperature"</span>, <span class="st">"Humidity"</span>, <span class="st">"WindSpeed"</span>)</span>
<span id="cb431-12"><a href="#cb431-12"></a><span class="fu">colnames</span>(xts_data) <span class="ot">&lt;-</span> cn</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>           Temperature Humidity WindSpeed
2020-01-01       -0.56    1.739    -0.868
2020-01-02       -0.23    0.881      0.73
2020-01-03       1.559   -1.944       0.5
2020-01-04       0.071      1.4     0.634
                   ...      ...       ...
2021-12-27       0.564    0.869    -0.847
2021-12-28       0.189    1.369     1.008
2021-12-29      -0.733    0.763    -0.611
2021-12-30       0.986    0.421     0.333</code></pre>
</div>
</div>
<p>Data for the year 2021</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb433" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb433-1"><a href="#cb433-1" aria-hidden="true" tabindex="-1"></a>data_2021 <span class="ot">&lt;-</span> xts_data[<span class="st">"2021"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p>Data for all January months</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb434" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1" aria-hidden="true" tabindex="-1"></a>data_january <span class="ot">&lt;-</span> xts_data[<span class="fu">.indexmon</span>(xts_data) <span class="sc">==</span> <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Data from March to April 2021</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb435" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb435-1"><a href="#cb435-1" aria-hidden="true" tabindex="-1"></a>data_mar_apr_2021 <span class="ot">&lt;-</span> xts_data[<span class="st">"2021-03/2021-04"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Data for all Mondays</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb436" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a>data_mondays <span class="ot">&lt;-</span> xts_data[<span class="fu">.indexwday</span>(xts_data) <span class="sc">==</span> <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Last day of each month</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb437"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb437-1"><a href="#cb437-1"></a>eom_dates <span class="ot">&lt;-</span> <span class="fu">endpoints</span>(xts_data, <span class="at">on =</span> <span class="st">"months"</span>)</span>
<span id="cb437-2"><a href="#cb437-2"></a>data_eom <span class="ot">&lt;-</span> xts_data[eom_dates]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Days when temperature was above 1 standard deviation of the mean</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb438"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb438-1"><a href="#cb438-1"></a>mean_plus_1std <span class="ot">&lt;-</span> <span class="fu">mean</span>(xts_data<span class="sc">$</span>Temperature) <span class="sc">+</span> <span class="fu">sd</span>(xts_data<span class="sc">$</span>Temperature)</span>
<span id="cb438-2"><a href="#cb438-2"></a>idx <span class="ot">&lt;-</span> xts_data<span class="sc">$</span>Temperature <span class="sc">&gt;</span> mean_plus_1std</span>
<span id="cb438-3"><a href="#cb438-3"></a>high_temp_days <span class="ot">&lt;-</span> xts_data[idx]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="time-alignment-and-merging" class="title-slide slide level2 center">
<h2>Time alignment and merging</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1"></a><span class="co"># First time series</span></span>
<span id="cb439-2"><a href="#cb439-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># For reproducibility</span></span>
<span id="cb439-3"><a href="#cb439-3"></a>dates1 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2023-01-01"</span>),</span>
<span id="cb439-4"><a href="#cb439-4"></a>              <span class="at">by =</span> <span class="st">"days"</span>, <span class="at">length.out =</span> <span class="dv">6</span>)</span>
<span id="cb439-5"><a href="#cb439-5"></a>xts1 <span class="ot">&lt;-</span> <span class="fu">xts</span>(<span class="fu">rnorm</span>(<span class="fu">length</span>(dates1)), <span class="at">order.by =</span> dates1)</span>
<span id="cb439-6"><a href="#cb439-6"></a><span class="fu">print</span>(xts1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              [,1]
2023-01-01 -0.5605
2023-01-02 -0.2302
2023-01-03  1.5587
2023-01-04  0.0705
2023-01-05  0.1293
2023-01-06  1.7151</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1"></a><span class="co"># Second time series, offset by 2 days</span></span>
<span id="cb441-2"><a href="#cb441-2"></a>dates2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2023-01-03"</span>),</span>
<span id="cb441-3"><a href="#cb441-3"></a>              <span class="at">by =</span> <span class="st">"days"</span>, <span class="at">length.out =</span> <span class="dv">6</span>)</span>
<span id="cb441-4"><a href="#cb441-4"></a>xts2 <span class="ot">&lt;-</span> <span class="fu">xts</span>(<span class="fu">rnorm</span>(<span class="fu">length</span>(dates2)), <span class="at">order.by=</span>dates2)</span>
<span id="cb441-5"><a href="#cb441-5"></a><span class="fu">print</span>(xts2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             [,1]
2023-01-03  0.461
2023-01-04 -1.265
2023-01-05 -0.687
2023-01-06 -0.446
2023-01-07  1.224
2023-01-08  0.360</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb443"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1"></a><span class="co"># Merging the two series</span></span>
<span id="cb443-2"><a href="#cb443-2"></a>merged_xts <span class="ot">&lt;-</span> <span class="fu">merge</span>(xts1, xts2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              xts1   xts2
2023-01-01 -0.5605     NA
2023-01-02 -0.2302     NA
2023-01-03  1.5587  0.461
2023-01-04  0.0705 -1.265
2023-01-05  0.1293 -0.687
2023-01-06  1.7151 -0.446
2023-01-07      NA  1.224
2023-01-08      NA  0.360</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>The first two days will only have data from <code>xts1</code>.</li>
<li>The next three days will have data from both <code>xts1</code> and <code>xts2</code>.</li>
<li>The last two days will only have data from <code>xts2</code>.</li>
</ul>
</div>
</div>
<div class="footer">
<p>xts Package</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
</section>
</section>
<section>
<section id="data-manipulation" class="title-slide slide level1 center">
<h1>Data Manipulation</h1>
<ul>
<li>What is data manipulation?</li>
<li>Why do we need?</li>
<li>Overview</li>
</ul>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="what-is-data-manipulation" class="title-slide slide level2 center">
<h2>What is data manipulation?</h2>
<p>Data <span>manipulation/transformation</span> is combination of following operations:</p>
<ul>
<li><strong>Creating data:</strong> Creating/transforming data in/to specific formats.</li>
<li><strong>Subsetting/Filtering:</strong> Selecting a subset of the data based on certain criteria.</li>
<li><strong>Sorting:</strong> Arranging data in a specific order (ascending or descending).</li>
<li><strong>Merging and joining:</strong> Combining data from different sources based on common identifiers or keys.</li>
<li><strong>Reshaping:</strong> Changing shape of the data from wide to long formats (or vice versa).(wide to long or vice versa)</li>
<li><strong>Transforming:</strong> Creating new variables from existing ones, such as computing new columns as linear combinations of other columns or normalizing data etc.</li>
<li><strong>Aggregating:</strong> Summarizing data, which could involve computing sums, averages, counts, maxima, minima, etc., often grouped by certain categories.</li>
<li><strong>Cleaning:</strong> Improving data quality by handling missing values, removing duplicates, correcting errors, or standardizing formats.</li>
</ul>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="why-do-we-need-1" class="title-slide slide level2 center">
<h2>Why do we need?</h2>
<ul>
<li><strong>Easier exploration:</strong> Data manipulation is a crucial step in the data analysis process, as it helps in preparing the raw data into a format that is more suitable for exploration, analysis, and visualization.</li>
<li><strong>Supporting Decision Making:</strong> Effective data manipulation leads to easier analysis and more accurate results, thereby forming a foundation for data-driven decision-making.</li>
<li><strong>Improving Efficiency:</strong> To automate repetitive tasks and streamline data processing workflows and to enhance performance and speed of data analysis.</li>
<li><strong>Data Reduction:</strong> To reduce the size of the data by removing unnecessary information, which can be useful for speeding up analysis and reducing storage requirements or to focus on relevant information.</li>
</ul>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="overview-1" class="title-slide slide level2 center">
<h2>Overview</h2>
<ul>
<li>Data manipulation with time series data (xts)
<ul>
<li>Irregularr to Regular time-series</li>
<li>Imputation of missing values</li>
<li>Aggregation in time</li>
<li>Averages for the same months/days/hours
<ul>
<li>Using sapply</li>
<li>Using aggregate</li>
<li>Using split-Apply-Combine</li>
</ul></li>
</ul></li>
<li>Reshaping data
<ul>
<li>Understanding Long and Wide Data Formats</li>
<li>Using reshape function</li>
<li>Using tidyr package</li>
</ul></li>
</ul>
<div class="footer">
<p>Data Manipulation</p>
</div>
</section>

<section id="data-manipulation-with-xts" class="title-slide slide level2 center">
<h2>Data Manipulation with xts</h2>
<ul>
<li>Irregularr to Regular time-series</li>
<li>Imputation of missing values</li>
<li>Aggregation in time</li>
<li>Averages for the same months/days/hours
<ul>
<li>Using sapply</li>
<li>Using aggregate</li>
<li>Using split-Apply-Combine</li>
</ul></li>
</ul>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="irregular-to-regular-time-series" class="title-slide slide level3 center">
<h3>Irregular to Regular time-series</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb445"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb445-1"><a href="#cb445-1"></a><span class="co"># Sample irregular time series</span></span>
<span id="cb445-2"><a href="#cb445-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb445-3"><a href="#cb445-3"></a>endp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">10</span>)</span>
<span id="cb445-4"><a href="#cb445-4"></a>ir_dates <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-01"</span>) <span class="sc">+</span> endp</span>
<span id="cb445-5"><a href="#cb445-5"></a>ir_data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="fu">length</span>(ir_dates) <span class="sc">*</span> <span class="dv">3</span>),</span>
<span id="cb445-6"><a href="#cb445-6"></a>                  <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb445-7"><a href="#cb445-7"></a>ir_xts <span class="ot">&lt;-</span> <span class="fu">xts</span>(ir_data, <span class="at">order.by =</span> ir_dates)</span>
<span id="cb445-8"><a href="#cb445-8"></a><span class="fu">print</span>(ir_xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              [,1]   [,2]   [,3]
2023-01-01 -0.5605  1.715  1.224
2023-01-02 -0.2302  0.461  0.360
2023-01-04  1.5587 -1.265  0.401
2023-01-08  0.0705 -0.687  0.111
2023-01-11  0.1293 -0.446 -0.556</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb447" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb447-1"><a href="#cb447-1" aria-hidden="true" tabindex="-1"></a>(tdif <span class="ot">&lt;-</span> <span class="fu">unclass</span>(<span class="fu">periodicity</span>(ir_xts))<span class="sc">$</span>difftime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 216000 days</code></pre>
</div>
<div class="sourceCode cell-code" id="cb449" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb449-1"><a href="#cb449-1" aria-hidden="true" tabindex="-1"></a>(tdif<span class="sc">/</span><span class="dv">60</span><span class="sc">/</span><span class="dv">60</span><span class="sc">/</span><span class="dv">24</span>) <span class="co"># How?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 2.5 days</code></pre>
</div>
<div class="sourceCode cell-code" id="cb451" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb451-1"><a href="#cb451-1" aria-hidden="true" tabindex="-1"></a>tdif2 <span class="ot">&lt;-</span> <span class="fu">diff</span>(endp)</span>
<span id="cb451-2"><a href="#cb451-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(tdif2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.5</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb453"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb453-1"><a href="#cb453-1"></a><span class="co"># Define the range for the regular series</span></span>
<span id="cb453-2"><a href="#cb453-2"></a>reg_dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">start</span>(ir_xts),</span>
<span id="cb453-3"><a href="#cb453-3"></a>                 <span class="fu">end</span>(ir_xts), <span class="at">by =</span> <span class="st">"day"</span>)</span>
<span id="cb453-4"><a href="#cb453-4"></a></span>
<span id="cb453-5"><a href="#cb453-5"></a><span class="co"># Convert to a regular time series by merging</span></span>
<span id="cb453-6"><a href="#cb453-6"></a>merged_xts <span class="ot">&lt;-</span> <span class="fu">merge</span>(ir_xts, <span class="fu">xts</span>(, reg_dates))</span>
<span id="cb453-7"><a href="#cb453-7"></a><span class="fu">print</span>(merged_xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            ir_xts ir_xts.1 ir_xts.2
2023-01-01 -0.5605    1.715    1.224
2023-01-02 -0.2302    0.461    0.360
2023-01-03      NA       NA       NA
2023-01-04  1.5587   -1.265    0.401
2023-01-05      NA       NA       NA
2023-01-06      NA       NA       NA
2023-01-07      NA       NA       NA
2023-01-08  0.0705   -0.687    0.111
2023-01-09      NA       NA       NA
2023-01-10      NA       NA       NA
2023-01-11  0.1293   -0.446   -0.556</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb455" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb455-1"><a href="#cb455-1" aria-hidden="true" tabindex="-1"></a>(tdif <span class="ot">&lt;-</span> <span class="fu">unclass</span>(<span class="fu">periodicity</span>(merged_xts))<span class="sc">$</span>difftime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 86400 days</code></pre>
</div>
<div class="sourceCode cell-code" id="cb457" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb457-1"><a href="#cb457-1" aria-hidden="true" tabindex="-1"></a>(tdif<span class="sc">/</span><span class="dv">60</span><span class="sc">/</span><span class="dv">60</span><span class="sc">/</span><span class="dv">24</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 1 days</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="imputation-of-missing-values" class="title-slide slide level3 center">
<h3>Imputation of missing values</h3>
<p>What if I want to fill the missing values with a method? Which method do you think is the best?</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb459" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb459-1"><a href="#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(merged_xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            ir_xts ir_xts.1 ir_xts.2
2023-01-01 -0.5605    1.715    1.224
2023-01-02 -0.2302    0.461    0.360
2023-01-03      NA       NA       NA
2023-01-04  1.5587   -1.265    0.401
2023-01-05      NA       NA       NA
2023-01-06      NA       NA       NA
2023-01-07      NA       NA       NA
2023-01-08  0.0705   -0.687    0.111
2023-01-09      NA       NA       NA
2023-01-10      NA       NA       NA
2023-01-11  0.1293   -0.446   -0.556</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb461" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb461-1"><a href="#cb461-1" aria-hidden="true" tabindex="-1"></a>(reg_xts1 <span class="ot">&lt;-</span> <span class="fu">na.approx</span>(merged_xts))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            ir_xts ir_xts.1 ir_xts.2
2023-01-01 -0.5605    1.715    1.224
2023-01-02 -0.2302    0.461    0.360
2023-01-03  0.6643   -0.402    0.380
2023-01-04  1.5587   -1.265    0.401
2023-01-05  1.1867   -1.121    0.328
2023-01-06  0.8146   -0.976    0.256
2023-01-07  0.4426   -0.831    0.183
2023-01-08  0.0705   -0.687    0.111
2023-01-09  0.0901   -0.606   -0.111
2023-01-10  0.1097   -0.526   -0.334
2023-01-11  0.1293   -0.446   -0.556</code></pre>
</div>
</div>
</div>
</div>
<ul>
<li><strong>na.trim:</strong> Removes leading and trailing NAs.</li>
<li><strong>na.fill:</strong> Replaces NA values with a constant value.</li>
<li><strong>na.approx:</strong> Linear interpolation</li>
<li><strong>na.locf:</strong> Last observation carried forward</li>
<li><strong>na.spline:</strong> Spline interpolation</li>
<li><strong>na.aggregate:</strong> Replaces NA values by applying a statistical function (like mean, median) over a window.</li>
<li><strong>na.kalman:</strong> Kalman smoothing and state estimation</li>
<li><strong>na.interp:</strong> Linear interpolation (<em>forecast package</em>)</li>
</ul>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="aggregation-in-timei" class="title-slide slide level3 center">
<h3>Aggregation in time/I</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb463"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb463-1"><a href="#cb463-1"></a><span class="co"># Sample xts object</span></span>
<span id="cb463-2"><a href="#cb463-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb463-3"><a href="#cb463-3"></a><span class="co"># A week of hourly data</span></span>
<span id="cb463-4"><a href="#cb463-4"></a>dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.POSIXct</span>(<span class="st">"2023-01-01"</span>),</span>
<span id="cb463-5"><a href="#cb463-5"></a>             <span class="at">by =</span> <span class="st">"hour"</span>, <span class="at">length.out =</span> <span class="dv">168</span>)</span>
<span id="cb463-6"><a href="#cb463-6"></a>data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">168</span><span class="sc">*</span><span class="dv">2</span>), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb463-7"><a href="#cb463-7"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Temperature"</span>, <span class="st">"Humidity"</span>)</span>
<span id="cb463-8"><a href="#cb463-8"></a>xts_data <span class="ot">&lt;-</span> <span class="fu">xts</span>(data, <span class="at">order.by =</span> dates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature Humidity
2023-01-01                -0.56    0.517
2023-01-01 01:00:00       -0.23    0.369
2023-01-01 02:00:00       1.559   -0.215
2023-01-01 03:00:00       0.071    0.065
                            ...      ...
2023-01-07 20:00:00      -0.417   -0.722
2023-01-07 21:00:00       0.298    1.519
2023-01-07 22:00:00       0.637    0.377
2023-01-07 23:00:00      -0.484   -2.052</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb465"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb465-1"><a href="#cb465-1"></a><span class="co"># Daily aggregation - mean</span></span>
<span id="cb465-2"><a href="#cb465-2"></a>(daily_mean <span class="ot">&lt;-</span> <span class="fu">apply.daily</span>(xts_data, mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature Humidity
2023-01-01 23:00:00    -0.00868  0.05040
2023-01-02 23:00:00     0.05132  0.09639
2023-01-03 23:00:00     0.05600 -0.18550
2023-01-04 23:00:00     0.17563 -0.00535
2023-01-05 23:00:00    -0.19707  0.21486
2023-01-06 23:00:00    -0.14226  0.27335
2023-01-07 23:00:00     0.04996  0.04417</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb467"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb467-1"><a href="#cb467-1"></a><span class="co"># Monthly aggregation - sum</span></span>
<span id="cb467-2"><a href="#cb467-2"></a>(monthly_sum <span class="ot">&lt;-</span> <span class="fu">apply.monthly</span>(xts_data, colSums))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature Humidity
2023-01-07 23:00:00      -0.362     11.7</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb469"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1"></a><span class="co"># Yearly aggregation - maximum</span></span>
<span id="cb469-2"><a href="#cb469-2"></a>(yearly_max <span class="ot">&lt;-</span> <span class="fu">apply.yearly</span>(xts_data, max))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    [,1]
2023-01-07 23:00:00 3.24</code></pre>
</div>
</div>
<ul>
<li>Why number of columns is 1 in the above example?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb471"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb471-1"><a href="#cb471-1"></a><span class="co"># Custom period aggregation - median</span></span>
<span id="cb471-2"><a href="#cb471-2"></a><span class="co"># Define a custom endpoint (e.g., every 3 days)</span></span>
<span id="cb471-3"><a href="#cb471-3"></a>ep_3day <span class="ot">&lt;-</span> <span class="fu">endpoints</span>(</span>
<span id="cb471-4"><a href="#cb471-4"></a>  xts_data, <span class="at">on =</span> <span class="st">"days"</span>, <span class="at">k =</span> <span class="dv">3</span>)</span>
<span id="cb471-5"><a href="#cb471-5"></a>(three_day_median <span class="ot">&lt;-</span> <span class="fu">period.apply</span>(</span>
<span id="cb471-6"><a href="#cb471-6"></a>  xts_data, <span class="at">INDEX =</span> ep_3day,</span>
<span id="cb471-7"><a href="#cb471-7"></a>  <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">apply</span>(x, <span class="dv">2</span>, median)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature Humidity
2023-01-02 23:00:00     -0.1349  -0.0440
2023-01-05 23:00:00     -0.0357  -0.0894
2023-01-07 23:00:00     -0.1878   0.1900</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="aggregation-in-timeii" class="title-slide slide level3 center">
<h3>Aggregation in time/II</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb473"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb473-1"><a href="#cb473-1"></a><span class="co"># Sample daily data for 2 years</span></span>
<span id="cb473-2"><a href="#cb473-2"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb473-3"><a href="#cb473-3"></a>dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2023-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, <span class="at">length.out =</span> <span class="dv">365</span> <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb473-4"><a href="#cb473-4"></a>data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="fu">length</span>(dates)<span class="sc">*</span><span class="dv">2</span>), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb473-5"><a href="#cb473-5"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"V1"</span>, <span class="st">"V2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb474"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb474-1"><a href="#cb474-1"></a>(daily_xts <span class="ot">&lt;-</span> <span class="fu">xts</span>(data, <span class="at">order.by =</span> dates))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>               V1     V2
2023-01-01  -0.56  1.739
2023-01-02  -0.23  0.881
2023-01-03  1.559 -1.944
2023-01-04  0.071    1.4
              ...    ...
2024-12-27  0.564  0.869
2024-12-28  0.189  1.369
2024-12-29 -0.733  0.763
2024-12-30  0.986  0.421</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb476"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb476-1"><a href="#cb476-1"></a>(yearly_max <span class="ot">&lt;-</span> <span class="fu">apply.yearly</span>(</span>
<span id="cb476-2"><a href="#cb476-2"></a>  daily_xts, <span class="cf">function</span>(x) <span class="fu">apply</span>(x, <span class="dv">2</span>, max)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             V1   V2
2023-12-31 3.24 2.83
2024-12-30 2.46 3.39</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb478"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1"></a><span class="co"># Aggregate to monthly data</span></span>
<span id="cb478-2"><a href="#cb478-2"></a>(monthly_xts <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(</span>
<span id="cb478-3"><a href="#cb478-3"></a>  daily_xts, as.yearmon,</span>
<span id="cb478-4"><a href="#cb478-4"></a>  <span class="cf">function</span>(x) <span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              V1     V2
Jan 2023 -0.9866 12.683
Feb 2023  4.7077 -2.514
Mar 2023  0.9486  1.891
Apr 2023 -2.8167 -0.689
May 2023 -4.7197 10.076
Jun 2023  2.7604  4.105
Jul 2023  1.8674  3.531
Aug 2023 -2.8472 -9.264
Sep 2023  3.8096 -2.747
Oct 2023  4.1499  9.570
Nov 2023  6.1588  5.995
Dec 2023 -1.3990 -3.681
Jan 2024 -3.3796  3.922
Feb 2024 -3.0369 -1.370
Mar 2024  0.0967 -4.181
Apr 2024  9.8611  2.994
May 2024 -2.4736 -9.670
Jun 2024  3.4262 11.397
Jul 2024  3.3914 -5.004
Aug 2024 -8.7452 -2.128
Sep 2024 -6.6526  0.583
Oct 2024  3.8253 -2.573
Nov 2024 -9.8455  6.135
Dec 2024 -1.0988  0.361</code></pre>
</div>
<div class="sourceCode cell-code" id="cb480"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb480-1"><a href="#cb480-1"></a><span class="fu">class</span>(monthly_xts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "zoo"</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="aggregation-in-timeiii" class="title-slide slide level3 center">
<h3>Aggregation in time/III</h3>
<p><strong>Rolling aggregation</strong></p>
<p>Rolling mean with a 24-hour window and calculate FUN at every (by-th) time point.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Align right
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb482"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb482-1"><a href="#cb482-1"></a>(rolling_mean1 <span class="ot">&lt;-</span> <span class="fu">rollapply</span>(</span>
<span id="cb482-2"><a href="#cb482-2"></a>  xts_data, <span class="at">width =</span> <span class="dv">24</span>, <span class="at">by =</span> <span class="dv">1</span>,</span>
<span id="cb482-3"><a href="#cb482-3"></a>  <span class="at">align =</span> <span class="st">'right'</span>, <span class="at">FUN =</span> mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature  Humidity
2023-01-01 00:00:00          NA        NA
2023-01-01 01:00:00          NA        NA
2023-01-01 02:00:00          NA        NA
2023-01-01 03:00:00          NA        NA
2023-01-01 04:00:00          NA        NA
2023-01-01 05:00:00          NA        NA
2023-01-01 06:00:00          NA        NA
2023-01-01 07:00:00          NA        NA
2023-01-01 08:00:00          NA        NA
2023-01-01 09:00:00          NA        NA
2023-01-01 10:00:00          NA        NA
2023-01-01 11:00:00          NA        NA
2023-01-01 12:00:00          NA        NA
2023-01-01 13:00:00          NA        NA
2023-01-01 14:00:00          NA        NA
2023-01-01 15:00:00          NA        NA
2023-01-01 16:00:00          NA        NA
2023-01-01 17:00:00          NA        NA
2023-01-01 18:00:00          NA        NA
2023-01-01 19:00:00          NA        NA
2023-01-01 20:00:00          NA        NA
2023-01-01 21:00:00          NA        NA
2023-01-01 22:00:00          NA        NA
2023-01-01 23:00:00   -0.008676  0.050402
2023-01-02 00:00:00   -0.011366  0.032807
2023-01-02 01:00:00   -0.072054 -0.019874
2023-01-02 02:00:00   -0.102092 -0.065516
2023-01-02 03:00:00   -0.098640  0.014980
2023-01-02 04:00:00   -0.151449  0.041429
2023-01-02 05:00:00   -0.170668 -0.099392
2023-01-02 06:00:00   -0.172103 -0.093969
2023-01-02 07:00:00   -0.131687 -0.097697
2023-01-02 08:00:00   -0.065771 -0.007655
2023-01-02 09:00:00   -0.010613  0.034093
2023-01-02 10:00:00   -0.027384  0.004856
2023-01-02 11:00:00   -0.013683  0.046588
2023-01-02 12:00:00   -0.007302  0.073629
2023-01-02 13:00:00   -0.014493  0.001153
2023-01-02 14:00:00   -0.004082 -0.017137
2023-01-02 15:00:00   -0.094389 -0.005849
2023-01-02 16:00:00   -0.144079  0.072783
2023-01-02 17:00:00   -0.070800  0.078748
2023-01-02 18:00:00   -0.152748  0.037470
2023-01-02 19:00:00   -0.042675  0.044093
2023-01-02 20:00:00    0.052149  0.064027
2023-01-02 21:00:00    0.014435  0.063328
2023-01-02 22:00:00    0.040398  0.013038
2023-01-02 23:00:00    0.051325  0.096388
2023-01-03 00:00:00    0.109867  0.074065
2023-01-03 01:00:00    0.176672  0.081244
2023-01-03 02:00:00    0.152319  0.084349
2023-01-03 03:00:00    0.144739 -0.052398
2023-01-03 04:00:00    0.190375 -0.101343
2023-01-03 05:00:00    0.195158 -0.023457
2023-01-03 06:00:00    0.167982  0.048252
2023-01-03 07:00:00    0.243463  0.127130
2023-01-03 08:00:00    0.141634  0.020360
2023-01-03 09:00:00    0.129404 -0.031834
2023-01-03 10:00:00    0.100332 -0.050145
2023-01-03 11:00:00    0.080637 -0.102662
2023-01-03 12:00:00    0.073375 -0.048537
2023-01-03 13:00:00    0.055024 -0.071010
2023-01-03 14:00:00    0.053889  0.043319
2023-01-03 15:00:00    0.027302  0.064331
2023-01-03 16:00:00    0.011590  0.004483
2023-01-03 17:00:00    0.032900 -0.024038
2023-01-03 18:00:00    0.104300 -0.052939
2023-01-03 19:00:00    0.016136 -0.117969
2023-01-03 20:00:00    0.004232 -0.176944
2023-01-03 21:00:00    0.136448 -0.137984
2023-01-03 22:00:00    0.132775 -0.083116
2023-01-03 23:00:00    0.056004 -0.185501
2023-01-04 00:00:00    0.065411 -0.199979
2023-01-04 01:00:00    0.039335 -0.190776
2023-01-04 02:00:00    0.000113 -0.076929
2023-01-04 03:00:00    0.044034 -0.070786
2023-01-04 04:00:00    0.033955 -0.054331
2023-01-04 05:00:00   -0.073933 -0.000816
2023-01-04 06:00:00   -0.056972 -0.051267
2023-01-04 07:00:00   -0.125945 -0.137409
2023-01-04 08:00:00   -0.061174 -0.149956
2023-01-04 09:00:00   -0.069479 -0.132218
2023-01-04 10:00:00   -0.090084 -0.118510
2023-01-04 11:00:00   -0.072233 -0.112037
2023-01-04 12:00:00   -0.097238 -0.163228
2023-01-04 13:00:00   -0.062483 -0.117141
2023-01-04 14:00:00   -0.002898 -0.132007
2023-01-04 15:00:00    0.057675 -0.131933
2023-01-04 16:00:00    0.088753 -0.095839
2023-01-04 17:00:00    0.123973 -0.038786
2023-01-04 18:00:00    0.146693 -0.019588
2023-01-04 19:00:00    0.167334 -0.028583
2023-01-04 20:00:00    0.138854 -0.042675
2023-01-04 21:00:00    0.027271 -0.080543
2023-01-04 22:00:00    0.104424 -0.092091
2023-01-04 23:00:00    0.175629 -0.005352
2023-01-05 00:00:00    0.224862  0.123052
2023-01-05 01:00:00    0.318271  0.208459
2023-01-05 02:00:00    0.337117  0.140575
2023-01-05 03:00:00    0.251617  0.114774
2023-01-05 04:00:00    0.233883  0.106036
2023-01-05 05:00:00    0.295449  0.030488
2023-01-05 06:00:00    0.277616  0.069904
2023-01-05 07:00:00    0.268922  0.166669
2023-01-05 08:00:00    0.229031  0.222881
2023-01-05 09:00:00    0.211102  0.144517
2023-01-05 10:00:00    0.193842  0.195569
2023-01-05 11:00:00    0.097495  0.200374
2023-01-05 12:00:00    0.090839  0.221987
2023-01-05 13:00:00    0.115307  0.221323
2023-01-05 14:00:00    0.045632  0.172558
2023-01-05 15:00:00    0.052831  0.177277
2023-01-05 16:00:00   -0.001000  0.062765
2023-01-05 17:00:00   -0.051182  0.067171
2023-01-05 18:00:00   -0.070936  0.087991
2023-01-05 19:00:00   -0.081238  0.140793
2023-01-05 20:00:00   -0.086782  0.167429
2023-01-05 21:00:00   -0.087315  0.193425
2023-01-05 22:00:00   -0.179413  0.200669
2023-01-05 23:00:00   -0.197074  0.214863
2023-01-06 00:00:00   -0.283311  0.110191
2023-01-06 01:00:00   -0.386648  0.052711
2023-01-06 02:00:00   -0.397267  0.106942
2023-01-06 03:00:00   -0.365170  0.224055
2023-01-06 04:00:00   -0.258742  0.287973
2023-01-06 05:00:00   -0.296611  0.260195
2023-01-06 06:00:00   -0.276524  0.308423
2023-01-06 07:00:00   -0.258795  0.271097
2023-01-06 08:00:00   -0.259221  0.320369
2023-01-06 09:00:00   -0.260316  0.322218
2023-01-06 10:00:00   -0.167422  0.287691
2023-01-06 11:00:00   -0.079112  0.358377
2023-01-06 12:00:00   -0.061551  0.321292
2023-01-06 13:00:00   -0.117447  0.286823
2023-01-06 14:00:00   -0.179026  0.229877
2023-01-06 15:00:00   -0.157219  0.184994
2023-01-06 16:00:00   -0.150667  0.236258
2023-01-06 17:00:00   -0.117521  0.219369
2023-01-06 18:00:00   -0.059617  0.119360
2023-01-06 19:00:00   -0.132327  0.139261
2023-01-06 20:00:00   -0.107489  0.185866
2023-01-06 21:00:00   -0.091718  0.265180
2023-01-06 22:00:00   -0.121820  0.310187
2023-01-06 23:00:00   -0.142259  0.273351
2023-01-07 00:00:00   -0.213891  0.210531
2023-01-07 01:00:00   -0.196534  0.178465
2023-01-07 02:00:00   -0.237001  0.115114
2023-01-07 03:00:00   -0.197667  0.100503
2023-01-07 04:00:00   -0.186990  0.048381
2023-01-07 05:00:00   -0.213452  0.019998
2023-01-07 06:00:00   -0.190437  0.006746
2023-01-07 07:00:00   -0.161642  0.041942
2023-01-07 08:00:00   -0.107723 -0.025951
2023-01-07 09:00:00   -0.146768  0.081091
2023-01-07 10:00:00   -0.211934  0.024435
2023-01-07 11:00:00   -0.242430 -0.000111
2023-01-07 12:00:00   -0.220690  0.007903
2023-01-07 13:00:00   -0.218605  0.067754
2023-01-07 14:00:00   -0.092345  0.104326
2023-01-07 15:00:00   -0.155092  0.174554
2023-01-07 16:00:00   -0.050369  0.248415
2023-01-07 17:00:00   -0.124916  0.234920
2023-01-07 18:00:00   -0.256968  0.361244
2023-01-07 19:00:00   -0.061763  0.302893
2023-01-07 20:00:00   -0.108373  0.221298
2023-01-07 21:00:00   -0.085022  0.199700
2023-01-07 22:00:00    0.007008  0.161209
2023-01-07 23:00:00    0.049962  0.044167</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
Align left
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb484"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb484-1"><a href="#cb484-1"></a>(rolling_mean1 <span class="ot">&lt;-</span> <span class="fu">rollapply</span>(</span>
<span id="cb484-2"><a href="#cb484-2"></a>  xts_data, <span class="at">width =</span> <span class="dv">24</span>, <span class="at">by =</span> <span class="dv">1</span>,</span>
<span id="cb484-3"><a href="#cb484-3"></a>  <span class="at">align =</span> <span class="st">'left'</span>, <span class="at">FUN =</span> mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature  Humidity
2023-01-01 00:00:00   -0.008676  0.050402
2023-01-01 01:00:00   -0.011366  0.032807
2023-01-01 02:00:00   -0.072054 -0.019874
2023-01-01 03:00:00   -0.102092 -0.065516
2023-01-01 04:00:00   -0.098640  0.014980
2023-01-01 05:00:00   -0.151449  0.041429
2023-01-01 06:00:00   -0.170668 -0.099392
2023-01-01 07:00:00   -0.172103 -0.093969
2023-01-01 08:00:00   -0.131687 -0.097697
2023-01-01 09:00:00   -0.065771 -0.007655
2023-01-01 10:00:00   -0.010613  0.034093
2023-01-01 11:00:00   -0.027384  0.004856
2023-01-01 12:00:00   -0.013683  0.046588
2023-01-01 13:00:00   -0.007302  0.073629
2023-01-01 14:00:00   -0.014493  0.001153
2023-01-01 15:00:00   -0.004082 -0.017137
2023-01-01 16:00:00   -0.094389 -0.005849
2023-01-01 17:00:00   -0.144079  0.072783
2023-01-01 18:00:00   -0.070800  0.078748
2023-01-01 19:00:00   -0.152748  0.037470
2023-01-01 20:00:00   -0.042675  0.044093
2023-01-01 21:00:00    0.052149  0.064027
2023-01-01 22:00:00    0.014435  0.063328
2023-01-01 23:00:00    0.040398  0.013038
2023-01-02 00:00:00    0.051325  0.096388
2023-01-02 01:00:00    0.109867  0.074065
2023-01-02 02:00:00    0.176672  0.081244
2023-01-02 03:00:00    0.152319  0.084349
2023-01-02 04:00:00    0.144739 -0.052398
2023-01-02 05:00:00    0.190375 -0.101343
2023-01-02 06:00:00    0.195158 -0.023457
2023-01-02 07:00:00    0.167982  0.048252
2023-01-02 08:00:00    0.243463  0.127130
2023-01-02 09:00:00    0.141634  0.020360
2023-01-02 10:00:00    0.129404 -0.031834
2023-01-02 11:00:00    0.100332 -0.050145
2023-01-02 12:00:00    0.080637 -0.102662
2023-01-02 13:00:00    0.073375 -0.048537
2023-01-02 14:00:00    0.055024 -0.071010
2023-01-02 15:00:00    0.053889  0.043319
2023-01-02 16:00:00    0.027302  0.064331
2023-01-02 17:00:00    0.011590  0.004483
2023-01-02 18:00:00    0.032900 -0.024038
2023-01-02 19:00:00    0.104300 -0.052939
2023-01-02 20:00:00    0.016136 -0.117969
2023-01-02 21:00:00    0.004232 -0.176944
2023-01-02 22:00:00    0.136448 -0.137984
2023-01-02 23:00:00    0.132775 -0.083116
2023-01-03 00:00:00    0.056004 -0.185501
2023-01-03 01:00:00    0.065411 -0.199979
2023-01-03 02:00:00    0.039335 -0.190776
2023-01-03 03:00:00    0.000113 -0.076929
2023-01-03 04:00:00    0.044034 -0.070786
2023-01-03 05:00:00    0.033955 -0.054331
2023-01-03 06:00:00   -0.073933 -0.000816
2023-01-03 07:00:00   -0.056972 -0.051267
2023-01-03 08:00:00   -0.125945 -0.137409
2023-01-03 09:00:00   -0.061174 -0.149956
2023-01-03 10:00:00   -0.069479 -0.132218
2023-01-03 11:00:00   -0.090084 -0.118510
2023-01-03 12:00:00   -0.072233 -0.112037
2023-01-03 13:00:00   -0.097238 -0.163228
2023-01-03 14:00:00   -0.062483 -0.117141
2023-01-03 15:00:00   -0.002898 -0.132007
2023-01-03 16:00:00    0.057675 -0.131933
2023-01-03 17:00:00    0.088753 -0.095839
2023-01-03 18:00:00    0.123973 -0.038786
2023-01-03 19:00:00    0.146693 -0.019588
2023-01-03 20:00:00    0.167334 -0.028583
2023-01-03 21:00:00    0.138854 -0.042675
2023-01-03 22:00:00    0.027271 -0.080543
2023-01-03 23:00:00    0.104424 -0.092091
2023-01-04 00:00:00    0.175629 -0.005352
2023-01-04 01:00:00    0.224862  0.123052
2023-01-04 02:00:00    0.318271  0.208459
2023-01-04 03:00:00    0.337117  0.140575
2023-01-04 04:00:00    0.251617  0.114774
2023-01-04 05:00:00    0.233883  0.106036
2023-01-04 06:00:00    0.295449  0.030488
2023-01-04 07:00:00    0.277616  0.069904
2023-01-04 08:00:00    0.268922  0.166669
2023-01-04 09:00:00    0.229031  0.222881
2023-01-04 10:00:00    0.211102  0.144517
2023-01-04 11:00:00    0.193842  0.195569
2023-01-04 12:00:00    0.097495  0.200374
2023-01-04 13:00:00    0.090839  0.221987
2023-01-04 14:00:00    0.115307  0.221323
2023-01-04 15:00:00    0.045632  0.172558
2023-01-04 16:00:00    0.052831  0.177277
2023-01-04 17:00:00   -0.001000  0.062765
2023-01-04 18:00:00   -0.051182  0.067171
2023-01-04 19:00:00   -0.070936  0.087991
2023-01-04 20:00:00   -0.081238  0.140793
2023-01-04 21:00:00   -0.086782  0.167429
2023-01-04 22:00:00   -0.087315  0.193425
2023-01-04 23:00:00   -0.179413  0.200669
2023-01-05 00:00:00   -0.197074  0.214863
2023-01-05 01:00:00   -0.283311  0.110191
2023-01-05 02:00:00   -0.386648  0.052711
2023-01-05 03:00:00   -0.397267  0.106942
2023-01-05 04:00:00   -0.365170  0.224055
2023-01-05 05:00:00   -0.258742  0.287973
2023-01-05 06:00:00   -0.296611  0.260195
2023-01-05 07:00:00   -0.276524  0.308423
2023-01-05 08:00:00   -0.258795  0.271097
2023-01-05 09:00:00   -0.259221  0.320369
2023-01-05 10:00:00   -0.260316  0.322218
2023-01-05 11:00:00   -0.167422  0.287691
2023-01-05 12:00:00   -0.079112  0.358377
2023-01-05 13:00:00   -0.061551  0.321292
2023-01-05 14:00:00   -0.117447  0.286823
2023-01-05 15:00:00   -0.179026  0.229877
2023-01-05 16:00:00   -0.157219  0.184994
2023-01-05 17:00:00   -0.150667  0.236258
2023-01-05 18:00:00   -0.117521  0.219369
2023-01-05 19:00:00   -0.059617  0.119360
2023-01-05 20:00:00   -0.132327  0.139261
2023-01-05 21:00:00   -0.107489  0.185866
2023-01-05 22:00:00   -0.091718  0.265180
2023-01-05 23:00:00   -0.121820  0.310187
2023-01-06 00:00:00   -0.142259  0.273351
2023-01-06 01:00:00   -0.213891  0.210531
2023-01-06 02:00:00   -0.196534  0.178465
2023-01-06 03:00:00   -0.237001  0.115114
2023-01-06 04:00:00   -0.197667  0.100503
2023-01-06 05:00:00   -0.186990  0.048381
2023-01-06 06:00:00   -0.213452  0.019998
2023-01-06 07:00:00   -0.190437  0.006746
2023-01-06 08:00:00   -0.161642  0.041942
2023-01-06 09:00:00   -0.107723 -0.025951
2023-01-06 10:00:00   -0.146768  0.081091
2023-01-06 11:00:00   -0.211934  0.024435
2023-01-06 12:00:00   -0.242430 -0.000111
2023-01-06 13:00:00   -0.220690  0.007903
2023-01-06 14:00:00   -0.218605  0.067754
2023-01-06 15:00:00   -0.092345  0.104326
2023-01-06 16:00:00   -0.155092  0.174554
2023-01-06 17:00:00   -0.050369  0.248415
2023-01-06 18:00:00   -0.124916  0.234920
2023-01-06 19:00:00   -0.256968  0.361244
2023-01-06 20:00:00   -0.061763  0.302893
2023-01-06 21:00:00   -0.108373  0.221298
2023-01-06 22:00:00   -0.085022  0.199700
2023-01-06 23:00:00    0.007008  0.161209
2023-01-07 00:00:00    0.049962  0.044167
2023-01-07 01:00:00          NA        NA
2023-01-07 02:00:00          NA        NA
2023-01-07 03:00:00          NA        NA
2023-01-07 04:00:00          NA        NA
2023-01-07 05:00:00          NA        NA
2023-01-07 06:00:00          NA        NA
2023-01-07 07:00:00          NA        NA
2023-01-07 08:00:00          NA        NA
2023-01-07 09:00:00          NA        NA
2023-01-07 10:00:00          NA        NA
2023-01-07 11:00:00          NA        NA
2023-01-07 12:00:00          NA        NA
2023-01-07 13:00:00          NA        NA
2023-01-07 14:00:00          NA        NA
2023-01-07 15:00:00          NA        NA
2023-01-07 16:00:00          NA        NA
2023-01-07 17:00:00          NA        NA
2023-01-07 18:00:00          NA        NA
2023-01-07 19:00:00          NA        NA
2023-01-07 20:00:00          NA        NA
2023-01-07 21:00:00          NA        NA
2023-01-07 22:00:00          NA        NA
2023-01-07 23:00:00          NA        NA</code></pre>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>SEE ALSO</strong></p>
</div>
<div class="callout-content">
<p><code>?rollmean</code> | <code>?rollmax</code> | <code>?rollmedian</code> | <code>?rollsum</code></p>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="aggregation-in-timeiv" class="title-slide slide level3 center">
<h3>Aggregation in time/IV</h3>
<p><strong>Rolling aggregation</strong></p>
<p>Rolling mean with a 24-hour window and calculate FUN at every 3th time point.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
width = 24, by = 3
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb486"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1"></a>(rolling_mean1 <span class="ot">&lt;-</span> <span class="fu">rollapply</span>(</span>
<span id="cb486-2"><a href="#cb486-2"></a>  xts_data, <span class="at">width =</span> <span class="dv">24</span>, <span class="at">by =</span> <span class="dv">3</span>,</span>
<span id="cb486-3"><a href="#cb486-3"></a>  <span class="at">align =</span> <span class="st">'center'</span>, <span class="at">FUN =</span> mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature  Humidity
2023-01-01 00:00:00          NA        NA
2023-01-01 01:00:00          NA        NA
2023-01-01 02:00:00          NA        NA
2023-01-01 03:00:00          NA        NA
2023-01-01 04:00:00          NA        NA
2023-01-01 05:00:00          NA        NA
2023-01-01 06:00:00          NA        NA
2023-01-01 07:00:00          NA        NA
2023-01-01 08:00:00          NA        NA
2023-01-01 09:00:00          NA        NA
2023-01-01 10:00:00          NA        NA
2023-01-01 11:00:00   -0.008676  0.050402
2023-01-01 12:00:00          NA        NA
2023-01-01 13:00:00          NA        NA
2023-01-01 14:00:00   -0.102092 -0.065516
2023-01-01 15:00:00          NA        NA
2023-01-01 16:00:00          NA        NA
2023-01-01 17:00:00   -0.170668 -0.099392
2023-01-01 18:00:00          NA        NA
2023-01-01 19:00:00          NA        NA
2023-01-01 20:00:00   -0.065771 -0.007655
2023-01-01 21:00:00          NA        NA
2023-01-01 22:00:00          NA        NA
2023-01-01 23:00:00   -0.013683  0.046588
2023-01-02 00:00:00          NA        NA
2023-01-02 01:00:00          NA        NA
2023-01-02 02:00:00   -0.004082 -0.017137
2023-01-02 03:00:00          NA        NA
2023-01-02 04:00:00          NA        NA
2023-01-02 05:00:00   -0.070800  0.078748
2023-01-02 06:00:00          NA        NA
2023-01-02 07:00:00          NA        NA
2023-01-02 08:00:00    0.052149  0.064027
2023-01-02 09:00:00          NA        NA
2023-01-02 10:00:00          NA        NA
2023-01-02 11:00:00    0.051325  0.096388
2023-01-02 12:00:00          NA        NA
2023-01-02 13:00:00          NA        NA
2023-01-02 14:00:00    0.152319  0.084349
2023-01-02 15:00:00          NA        NA
2023-01-02 16:00:00          NA        NA
2023-01-02 17:00:00    0.195158 -0.023457
2023-01-02 18:00:00          NA        NA
2023-01-02 19:00:00          NA        NA
2023-01-02 20:00:00    0.141634  0.020360
2023-01-02 21:00:00          NA        NA
2023-01-02 22:00:00          NA        NA
2023-01-02 23:00:00    0.080637 -0.102662
2023-01-03 00:00:00          NA        NA
2023-01-03 01:00:00          NA        NA
2023-01-03 02:00:00    0.053889  0.043319
2023-01-03 03:00:00          NA        NA
2023-01-03 04:00:00          NA        NA
2023-01-03 05:00:00    0.032900 -0.024038
2023-01-03 06:00:00          NA        NA
2023-01-03 07:00:00          NA        NA
2023-01-03 08:00:00    0.004232 -0.176944
2023-01-03 09:00:00          NA        NA
2023-01-03 10:00:00          NA        NA
2023-01-03 11:00:00    0.056004 -0.185501
2023-01-03 12:00:00          NA        NA
2023-01-03 13:00:00          NA        NA
2023-01-03 14:00:00    0.000113 -0.076929
2023-01-03 15:00:00          NA        NA
2023-01-03 16:00:00          NA        NA
2023-01-03 17:00:00   -0.073933 -0.000816
2023-01-03 18:00:00          NA        NA
2023-01-03 19:00:00          NA        NA
2023-01-03 20:00:00   -0.061174 -0.149956
2023-01-03 21:00:00          NA        NA
2023-01-03 22:00:00          NA        NA
2023-01-03 23:00:00   -0.072233 -0.112037
2023-01-04 00:00:00          NA        NA
2023-01-04 01:00:00          NA        NA
2023-01-04 02:00:00   -0.002898 -0.132007
2023-01-04 03:00:00          NA        NA
2023-01-04 04:00:00          NA        NA
2023-01-04 05:00:00    0.123973 -0.038786
2023-01-04 06:00:00          NA        NA
2023-01-04 07:00:00          NA        NA
2023-01-04 08:00:00    0.138854 -0.042675
2023-01-04 09:00:00          NA        NA
2023-01-04 10:00:00          NA        NA
2023-01-04 11:00:00    0.175629 -0.005352
2023-01-04 12:00:00          NA        NA
2023-01-04 13:00:00          NA        NA
2023-01-04 14:00:00    0.337117  0.140575
2023-01-04 15:00:00          NA        NA
2023-01-04 16:00:00          NA        NA
2023-01-04 17:00:00    0.295449  0.030488
2023-01-04 18:00:00          NA        NA
2023-01-04 19:00:00          NA        NA
2023-01-04 20:00:00    0.229031  0.222881
2023-01-04 21:00:00          NA        NA
2023-01-04 22:00:00          NA        NA
2023-01-04 23:00:00    0.097495  0.200374
2023-01-05 00:00:00          NA        NA
2023-01-05 01:00:00          NA        NA
2023-01-05 02:00:00    0.045632  0.172558
2023-01-05 03:00:00          NA        NA
2023-01-05 04:00:00          NA        NA
2023-01-05 05:00:00   -0.051182  0.067171
2023-01-05 06:00:00          NA        NA
2023-01-05 07:00:00          NA        NA
2023-01-05 08:00:00   -0.086782  0.167429
2023-01-05 09:00:00          NA        NA
2023-01-05 10:00:00          NA        NA
2023-01-05 11:00:00   -0.197074  0.214863
2023-01-05 12:00:00          NA        NA
2023-01-05 13:00:00          NA        NA
2023-01-05 14:00:00   -0.397267  0.106942
2023-01-05 15:00:00          NA        NA
2023-01-05 16:00:00          NA        NA
2023-01-05 17:00:00   -0.296611  0.260195
2023-01-05 18:00:00          NA        NA
2023-01-05 19:00:00          NA        NA
2023-01-05 20:00:00   -0.259221  0.320369
2023-01-05 21:00:00          NA        NA
2023-01-05 22:00:00          NA        NA
2023-01-05 23:00:00   -0.079112  0.358377
2023-01-06 00:00:00          NA        NA
2023-01-06 01:00:00          NA        NA
2023-01-06 02:00:00   -0.179026  0.229877
2023-01-06 03:00:00          NA        NA
2023-01-06 04:00:00          NA        NA
2023-01-06 05:00:00   -0.117521  0.219369
2023-01-06 06:00:00          NA        NA
2023-01-06 07:00:00          NA        NA
2023-01-06 08:00:00   -0.107489  0.185866
2023-01-06 09:00:00          NA        NA
2023-01-06 10:00:00          NA        NA
2023-01-06 11:00:00   -0.142259  0.273351
2023-01-06 12:00:00          NA        NA
2023-01-06 13:00:00          NA        NA
2023-01-06 14:00:00   -0.237001  0.115114
2023-01-06 15:00:00          NA        NA
2023-01-06 16:00:00          NA        NA
2023-01-06 17:00:00   -0.213452  0.019998
2023-01-06 18:00:00          NA        NA
2023-01-06 19:00:00          NA        NA
2023-01-06 20:00:00   -0.107723 -0.025951
2023-01-06 21:00:00          NA        NA
2023-01-06 22:00:00          NA        NA
2023-01-06 23:00:00   -0.242430 -0.000111
2023-01-07 00:00:00          NA        NA
2023-01-07 01:00:00          NA        NA
2023-01-07 02:00:00   -0.092345  0.104326
2023-01-07 03:00:00          NA        NA
2023-01-07 04:00:00          NA        NA
2023-01-07 05:00:00   -0.124916  0.234920
2023-01-07 06:00:00          NA        NA
2023-01-07 07:00:00          NA        NA
2023-01-07 08:00:00   -0.108373  0.221298
2023-01-07 09:00:00          NA        NA
2023-01-07 10:00:00          NA        NA
2023-01-07 11:00:00    0.049962  0.044167
2023-01-07 12:00:00          NA        NA
2023-01-07 13:00:00          NA        NA
2023-01-07 14:00:00          NA        NA
2023-01-07 15:00:00          NA        NA
2023-01-07 16:00:00          NA        NA
2023-01-07 17:00:00          NA        NA
2023-01-07 18:00:00          NA        NA
2023-01-07 19:00:00          NA        NA
2023-01-07 20:00:00          NA        NA
2023-01-07 21:00:00          NA        NA
2023-01-07 22:00:00          NA        NA
2023-01-07 23:00:00          NA        NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb488"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb488-1"><a href="#cb488-1"></a><span class="fu">mean</span>(xts_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>, <span class="dv">1</span>]) <span class="co"># -0.00867576</span></span>
<span id="cb488-2"><a href="#cb488-2"></a><span class="fu">mean</span>(xts_data[<span class="dv">4</span><span class="sc">:</span><span class="dv">27</span>, <span class="dv">1</span>]) <span class="co"># -0.1020925</span></span>
<span id="cb488-3"><a href="#cb488-3"></a><span class="fu">mean</span>(xts_data[<span class="dv">7</span><span class="sc">:</span><span class="dv">30</span>, <span class="dv">1</span>]) <span class="co"># -0.1706679</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
width = 5, by = 3
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb489"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb489-1"><a href="#cb489-1"></a>(rolling_mean2 <span class="ot">&lt;-</span> <span class="fu">rollapply</span>(</span>
<span id="cb489-2"><a href="#cb489-2"></a>  xts_data, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">by =</span> <span class="dv">3</span>,</span>
<span id="cb489-3"><a href="#cb489-3"></a>  <span class="at">align =</span> <span class="st">'center'</span>, <span class="at">FUN =</span> mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Temperature Humidity
2023-01-01 00:00:00          NA       NA
2023-01-01 01:00:00          NA       NA
2023-01-01 02:00:00      0.1936  0.14033
2023-01-01 03:00:00          NA       NA
2023-01-01 04:00:00          NA       NA
2023-01-01 05:00:00      0.2221  0.06447
2023-01-01 06:00:00          NA       NA
2023-01-01 07:00:00          NA       NA
2023-01-01 08:00:00     -0.1425 -0.21051
2023-01-01 09:00:00          NA       NA
2023-01-01 10:00:00          NA       NA
2023-01-01 11:00:00      0.3299  0.09770
2023-01-01 12:00:00          NA       NA
2023-01-01 13:00:00          NA       NA
2023-01-01 14:00:00      0.4481 -0.25032
2023-01-01 15:00:00          NA       NA
2023-01-01 16:00:00          NA       NA
2023-01-01 17:00:00      0.1093 -0.02086
2023-01-01 18:00:00          NA       NA
2023-01-01 19:00:00          NA       NA
2023-01-01 20:00:00     -0.4166  0.33277
2023-01-01 21:00:00          NA       NA
2023-01-01 22:00:00          NA       NA
2023-01-01 23:00:00     -0.8569 -0.28206
2023-01-02 00:00:00          NA       NA
2023-01-02 01:00:00          NA       NA
2023-01-02 02:00:00     -0.4917  0.09727
2023-01-02 03:00:00          NA       NA
2023-01-02 04:00:00          NA       NA
2023-01-02 05:00:00      0.0801 -0.09000
2023-01-02 06:00:00          NA       NA
2023-01-02 07:00:00          NA       NA
2023-01-02 08:00:00      0.5452  0.28989
2023-01-02 09:00:00          NA       NA
2023-01-02 10:00:00          NA       NA
2023-01-02 11:00:00      0.5761  0.13998
2023-01-02 12:00:00          NA       NA
2023-01-02 13:00:00          NA       NA
2023-01-02 14:00:00     -0.1778 -0.12458
2023-01-02 15:00:00          NA       NA
2023-01-02 16:00:00          NA       NA
2023-01-02 17:00:00     -0.0759  0.27304
2023-01-02 18:00:00          NA       NA
2023-01-02 19:00:00          NA       NA
2023-01-02 20:00:00      0.1171  0.01737
2023-01-02 21:00:00          NA       NA
2023-01-02 22:00:00          NA       NA
2023-01-02 23:00:00     -0.2592 -0.19942
2023-01-03 00:00:00          NA       NA
2023-01-03 01:00:00          NA       NA
2023-01-03 02:00:00      0.1757 -0.85184
2023-01-03 03:00:00          NA       NA
2023-01-03 04:00:00          NA       NA
2023-01-03 05:00:00      0.5176  0.11535
2023-01-03 06:00:00          NA       NA
2023-01-03 07:00:00          NA       NA
2023-01-03 08:00:00      0.0901  0.16179
2023-01-03 09:00:00          NA       NA
2023-01-03 10:00:00          NA       NA
2023-01-03 11:00:00      0.1603 -0.29860
2023-01-03 12:00:00          NA       NA
2023-01-03 13:00:00          NA       NA
2023-01-03 14:00:00     -0.5093  0.38971
2023-01-03 15:00:00          NA       NA
2023-01-03 16:00:00          NA       NA
2023-01-03 17:00:00     -0.2571 -0.50114
2023-01-03 18:00:00          NA       NA
2023-01-03 19:00:00          NA       NA
2023-01-03 20:00:00      0.5965 -0.26621
2023-01-03 21:00:00          NA       NA
2023-01-03 22:00:00          NA       NA
2023-01-03 23:00:00     -0.0907 -0.26581
2023-01-04 00:00:00          NA       NA
2023-01-04 01:00:00          NA       NA
2023-01-04 02:00:00      0.0699 -0.22222
2023-01-04 03:00:00          NA       NA
2023-01-04 04:00:00          NA       NA
2023-01-04 05:00:00     -0.0875 -0.17496
2023-01-04 06:00:00          NA       NA
2023-01-04 07:00:00          NA       NA
2023-01-04 08:00:00      0.0126 -0.40315
2023-01-04 09:00:00          NA       NA
2023-01-04 10:00:00          NA       NA
2023-01-04 11:00:00      0.1541 -0.14109
2023-01-04 12:00:00          NA       NA
2023-01-04 13:00:00          NA       NA
2023-01-04 14:00:00      0.2635  0.46746
2023-01-04 15:00:00          NA       NA
2023-01-04 16:00:00          NA       NA
2023-01-04 17:00:00      0.5600 -0.00471
2023-01-04 18:00:00          NA       NA
2023-01-04 19:00:00          NA       NA
2023-01-04 20:00:00      0.5027 -0.52208
2023-01-04 21:00:00          NA       NA
2023-01-04 22:00:00          NA       NA
2023-01-04 23:00:00      0.7705  0.93963
2023-01-05 00:00:00          NA       NA
2023-01-05 01:00:00          NA       NA
2023-01-05 02:00:00      0.3495  0.31244
2023-01-05 03:00:00          NA       NA
2023-01-05 04:00:00          NA       NA
2023-01-05 05:00:00     -0.4148 -0.04971
2023-01-05 06:00:00          NA       NA
2023-01-05 07:00:00          NA       NA
2023-01-05 08:00:00     -0.4752  0.38924
2023-01-05 09:00:00          NA       NA
2023-01-05 10:00:00          NA       NA
2023-01-05 11:00:00     -0.3918 -0.14857
2023-01-05 12:00:00          NA       NA
2023-01-05 13:00:00          NA       NA
2023-01-05 14:00:00     -0.2093 -0.19306
2023-01-05 15:00:00          NA       NA
2023-01-05 16:00:00          NA       NA
2023-01-05 17:00:00     -0.0490 -0.15719
2023-01-05 18:00:00          NA       NA
2023-01-05 19:00:00          NA       NA
2023-01-05 20:00:00     -0.1128  0.11872
2023-01-05 21:00:00          NA       NA
2023-01-05 22:00:00          NA       NA
2023-01-05 23:00:00     -0.6689  0.38898
2023-01-06 00:00:00          NA       NA
2023-01-06 01:00:00          NA       NA
2023-01-06 02:00:00      0.0535  0.66337
2023-01-06 03:00:00          NA       NA
2023-01-06 04:00:00          NA       NA
2023-01-06 05:00:00      0.2498  0.73823
2023-01-06 06:00:00          NA       NA
2023-01-06 07:00:00          NA       NA
2023-01-06 08:00:00      0.1449  0.52122
2023-01-06 09:00:00          NA       NA
2023-01-06 10:00:00          NA       NA
2023-01-06 11:00:00      0.2887 -0.30959
2023-01-06 12:00:00          NA       NA
2023-01-06 13:00:00          NA       NA
2023-01-06 14:00:00     -0.5528 -0.77923
2023-01-06 15:00:00          NA       NA
2023-01-06 16:00:00          NA       NA
2023-01-06 17:00:00      0.1752 -0.59214
2023-01-06 18:00:00          NA       NA
2023-01-06 19:00:00          NA       NA
2023-01-06 20:00:00     -0.1335  0.55464
2023-01-06 21:00:00          NA       NA
2023-01-06 22:00:00          NA       NA
2023-01-06 23:00:00     -1.0963  0.35346
2023-01-07 00:00:00          NA       NA
2023-01-07 01:00:00          NA       NA
2023-01-07 02:00:00     -0.1612 -0.41649
2023-01-07 03:00:00          NA       NA
2023-01-07 04:00:00          NA       NA
2023-01-07 05:00:00      0.6116  0.38701
2023-01-07 06:00:00          NA       NA
2023-01-07 07:00:00          NA       NA
2023-01-07 08:00:00      0.1522  0.54252
2023-01-07 09:00:00          NA       NA
2023-01-07 10:00:00          NA       NA
2023-01-07 11:00:00     -0.2435  0.14020
2023-01-07 12:00:00          NA       NA
2023-01-07 13:00:00          NA       NA
2023-01-07 14:00:00      0.3691  0.41370
2023-01-07 15:00:00          NA       NA
2023-01-07 16:00:00          NA       NA
2023-01-07 17:00:00      0.3220  0.36098
2023-01-07 18:00:00          NA       NA
2023-01-07 19:00:00          NA       NA
2023-01-07 20:00:00      0.4998  0.20083
2023-01-07 21:00:00          NA       NA
2023-01-07 22:00:00          NA       NA
2023-01-07 23:00:00          NA       NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb491"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb491-1"><a href="#cb491-1"></a><span class="fu">mean</span>(xts_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span>])  <span class="co"># 0.1935703</span></span>
<span id="cb491-2"><a href="#cb491-2"></a><span class="fu">mean</span>(xts_data[<span class="dv">4</span><span class="sc">:</span><span class="dv">8</span>, <span class="dv">1</span>])  <span class="co"># 0.2221432</span></span>
<span id="cb491-3"><a href="#cb491-3"></a><span class="fu">mean</span>(xts_data[<span class="dv">7</span><span class="sc">:</span><span class="dv">11</span>, <span class="dv">1</span>]) <span class="co"># -0.1425156</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="averages-for-the-same-monthsdayshours." class="title-slide slide level3 center">
<h3>Averages for the same months/days/hours.</h3>
<p>What if I want the averages for the same months/days/hours etc.. in a time-series?</p>
<ul>
<li>sapply</li>
<li>aggragate</li>
<li>split-apply-combine</li>
</ul>
<p>Generate a toy dataset to play with</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb492"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb492-1"><a href="#cb492-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb492-2"><a href="#cb492-2"></a><span class="co"># 5 years of monthly data</span></span>
<span id="cb492-3"><a href="#cb492-3"></a>dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>),</span>
<span id="cb492-4"><a href="#cb492-4"></a>             <span class="at">by =</span> <span class="st">"month"</span>, <span class="at">length.out =</span> <span class="dv">60</span>)</span>
<span id="cb492-5"><a href="#cb492-5"></a>data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="fu">length</span>(dates)<span class="sc">*</span><span class="dv">2</span>), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb492-6"><a href="#cb492-6"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Temperature"</span>, <span class="st">"Humidity"</span>)</span>
<span id="cb492-7"><a href="#cb492-7"></a>(xts_data <span class="ot">&lt;-</span> <span class="fu">xts</span>(data, <span class="at">order.by =</span> dates))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>           Temperature Humidity
2020-01-01     -0.5605  0.37964
2020-02-01     -0.2302 -0.50232
2020-03-01      1.5587 -0.33321
2020-04-01      0.0705 -1.01858
2020-05-01      0.1293 -1.07179
2020-06-01      1.7151  0.30353
2020-07-01      0.4609  0.44821
2020-08-01     -1.2651  0.05300
2020-09-01     -0.6869  0.92227
2020-10-01     -0.4457  2.05008
2020-11-01      1.2241 -0.49103
2020-12-01      0.3598 -2.30917
2021-01-01      0.4008  1.00574
2021-02-01      0.1107 -0.70920
2021-03-01     -0.5558 -0.68801
2021-04-01      1.7869  1.02557
2021-05-01      0.4979 -0.28477
2021-06-01     -1.9666 -1.22072
2021-07-01      0.7014  0.18130
2021-08-01     -0.4728 -0.13889
2021-09-01     -1.0678  0.00576
2021-10-01     -0.2180  0.38528
2021-11-01     -1.0260 -0.37066
2021-12-01     -0.7289  0.64438
2022-01-01     -0.6250 -0.22049
2022-02-01     -1.6867  0.33178
2022-03-01      0.8378  1.09684
2022-04-01      0.1534  0.43518
2022-05-01     -1.1381 -0.32593
2022-06-01      1.2538  1.14881
2022-07-01      0.4265  0.99350
2022-08-01     -0.2951  0.54840
2022-09-01      0.8951  0.23873
2022-10-01      0.8781 -0.62791
2022-11-01      0.8216  1.36065
2022-12-01      0.6886 -0.60026
2023-01-01      0.5539  2.18733
2023-02-01     -0.0619  1.53261
2023-03-01     -0.3060 -0.23570
2023-04-01     -0.3805 -1.02642
2023-05-01     -0.6947 -0.71041
2023-06-01     -0.2079  0.25688
2023-07-01     -1.2654 -0.24669
2023-08-01      2.1690 -0.34754
2023-09-01      1.2080 -0.95162
2023-10-01     -1.1231 -0.04503
2023-11-01     -0.4029 -0.78490
2023-12-01     -0.4667 -1.66794
2024-01-01      0.7800 -0.38023
2024-02-01     -0.0834  0.91900
2024-03-01      0.2533 -0.57535
2024-04-01     -0.0285  0.60796
2024-05-01     -0.0429 -1.61788
2024-06-01      1.3686 -0.05556
2024-07-01     -0.2258  0.51941
2024-08-01      1.5165  0.30115
2024-09-01     -1.5488  0.10568
2024-10-01      0.5846 -0.64071
2024-11-01      0.1239 -0.84970
2024-12-01      0.2159 -1.02413</code></pre>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-sapply" class="title-slide slide level3 center">
<h3>Using sapply</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb494"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb494-1"><a href="#cb494-1"></a>(monthly_means <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="cf">function</span>(m) {</span>
<span id="cb494-2"><a href="#cb494-2"></a>  month_data <span class="ot">&lt;-</span> xts_data[<span class="fu">format</span>(<span class="fu">index</span>(xts_data), <span class="st">"%m"</span>) <span class="sc">==</span> <span class="fu">sprintf</span>(<span class="st">"%02d"</span>, m)]</span>
<span id="cb494-3"><a href="#cb494-3"></a>  <span class="fu">colMeans</span>(month_data, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb494-4"><a href="#cb494-4"></a>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             [,1]   [,2]   [,3]    [,4]   [,5]   [,6]
Temperature 0.110 -0.390  0.358 0.32036 -0.250 0.4326
Humidity    0.594  0.314 -0.147 0.00474 -0.802 0.0866
              [,7]   [,8]    [,9]   [,10]  [,11]   [,12]
Temperature 0.0195 0.3305 -0.2401 -0.0648  0.148  0.0138
Humidity    0.3791 0.0832  0.0642  0.2243 -0.227 -0.9914</code></pre>
</div>
<div class="sourceCode cell-code" id="cb496"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb496-1"><a href="#cb496-1"></a><span class="co"># Transpose matrix</span></span>
<span id="cb496-2"><a href="#cb496-2"></a>(monthly_means <span class="ot">&lt;-</span> <span class="fu">t</span>(monthly_means))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Temperature Humidity
 [1,]      0.1098  0.59440
 [2,]     -0.3903  0.31437
 [3,]      0.3576 -0.14708
 [4,]      0.3204  0.00474
 [5,]     -0.2497 -0.80216
 [6,]      0.4326  0.08659
 [7,]      0.0195  0.37915
 [8,]      0.3305  0.08322
 [9,]     -0.2401  0.06416
[10,]     -0.0648  0.22435
[11,]      0.1481 -0.22713
[12,]      0.0138 -0.99142</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb498"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb498-1"><a href="#cb498-1"></a><span class="fu">class</span>(monthly_means)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb500"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb500-1"><a href="#cb500-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(<span class="st">"2023-"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="st">"-01"</span>))</span>
<span id="cb500-2"><a href="#cb500-2"></a>(monthly_means_xts <span class="ot">&lt;-</span> <span class="fu">xts</span>(</span>
<span id="cb500-3"><a href="#cb500-3"></a>  monthly_means, <span class="at">order.by =</span> dates))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Temperature Humidity
2023-01-01      0.1098  0.59440
2023-02-01     -0.3903  0.31437
2023-03-01      0.3576 -0.14708
2023-04-01      0.3204  0.00474
2023-05-01     -0.2497 -0.80216
2023-06-01      0.4326  0.08659
2023-07-01      0.0195  0.37915
2023-08-01      0.3305  0.08322
2023-09-01     -0.2401  0.06416
2023-10-01     -0.0648  0.22435
2023-11-01      0.1481 -0.22713
2023-12-01      0.0138 -0.99142</code></pre>
</div>
</div>
<ul>
<li>are dates correct in <code>monthly_means_xts</code>?</li>
<li>do we really need to convert to xts?</li>
</ul>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts <br> Averages for the same months/days/hours</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-aggregate" class="title-slide slide level3 center">
<h3>Using aggregate</h3>
<p>Splits the data into subsets, computes summary statistics for each, and returns the result in a convenient form.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb502"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb502-1"><a href="#cb502-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb502-2"><a href="#cb502-2"></a><span class="co"># Define the aggregation function</span></span>
<span id="cb502-3"><a href="#cb502-3"></a>monthly_aggregate <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb502-4"><a href="#cb502-4"></a>  <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb502-5"><a href="#cb502-5"></a>}</span>
<span id="cb502-6"><a href="#cb502-6"></a></span>
<span id="cb502-7"><a href="#cb502-7"></a><span class="co"># Aggregate to monthly data</span></span>
<span id="cb502-8"><a href="#cb502-8"></a>(monthly_mean <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(</span>
<span id="cb502-9"><a href="#cb502-9"></a>  xts_data, lubridate<span class="sc">::</span><span class="fu">month</span>(xts_data),</span>
<span id="cb502-10"><a href="#cb502-10"></a>  monthly_aggregate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Temperature Humidity
1       0.1098  0.59440
2      -0.3903  0.31437
3       0.3576 -0.14708
4       0.3204  0.00474
5      -0.2497 -0.80216
6       0.4326  0.08659
7       0.0195  0.37915
8       0.3305  0.08322
9      -0.2401  0.06416
10     -0.0648  0.22435
11      0.1481 -0.22713
12      0.0138 -0.99142</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb504"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb504-1"><a href="#cb504-1"></a><span class="co"># We use anonymous function to process aggregation.</span></span>
<span id="cb504-2"><a href="#cb504-2"></a><span class="co"># Aggregate to monthly data</span></span>
<span id="cb504-3"><a href="#cb504-3"></a>monthly_quantiles <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(</span>
<span id="cb504-4"><a href="#cb504-4"></a>  xts_data, lubridate<span class="sc">::</span><span class="fu">month</span>(xts_data),</span>
<span id="cb504-5"><a href="#cb504-5"></a>  quantile, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb504-6"><a href="#cb504-6"></a><span class="fu">class</span>(monthly_quantiles)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "zoo"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb506"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb506-1"><a href="#cb506-1"></a><span class="fu">print</span>(monthly_quantiles)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Temperature.25% Temperature.50% Temperature.75% Humidity.25% Humidity.50% Humidity.75%
1          -0.5605          0.4008          0.5539     -0.22049        0.380        1.006
2          -0.2302         -0.0834         -0.0619     -0.50232        0.332        0.919
3          -0.3060          0.2533          0.8378     -0.57535       -0.333       -0.236
4          -0.0285          0.0705          0.1534     -1.01858        0.435        0.608
5          -0.6947         -0.0429          0.1293     -1.07179       -0.710       -0.326
6          -0.2079          1.2538          1.3686     -0.05556        0.257        0.304
7          -0.2258          0.4265          0.4609      0.18130        0.448        0.519
8          -0.4728         -0.2951          1.5165     -0.13889        0.053        0.301
9          -1.0678         -0.6869          0.8951      0.00576        0.106        0.239
10         -0.4457         -0.2180          0.5846     -0.62791       -0.045        0.385
11         -0.4029          0.1239          0.8216     -0.78490       -0.491       -0.371
12         -0.4667          0.2159          0.3598     -1.66794       -1.024       -0.600</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts <br> Averages for the same months/days/hours</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-split-apply-combinei" class="title-slide slide level3 center">
<h3>Using Split-Apply-Combine/I</h3>
<ul>
<li><p><strong>Split:</strong> Segmenting the time series data into groups based on a certain criterion, such as months, years, or quarters. This is often done using functions like <code>split</code>.</p></li>
<li><p><strong>Apply:</strong> Performing a specific operation or function on each group independently. This could be a statistical summary (like mean, median, sum), a transformation, or any custom function.</p></li>
<li><p><strong>Combine:</strong> Merging the results from each group back into a single data structure. This can be an aggregated time series or a different format depending on the desired output.</p></li>
</ul>
<div class="footer">
<p>Data Manipulation with xts <br> Averages for the same months/days/hours</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-split-apply-combineii" class="title-slide slide level3 center">
<h3>Using Split-Apply-Combine/II</h3>
<div class="columns">
<div class="column" style="width:33%;">
<p style="text-align: center;">
Split
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb508"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb508-1"><a href="#cb508-1"></a>(split_by_month <span class="ot">&lt;-</span> <span class="fu">split</span>(</span>
<span id="cb508-2"><a href="#cb508-2"></a>  xts_data,</span>
<span id="cb508-3"><a href="#cb508-3"></a>  <span class="fu">format</span>(<span class="fu">index</span>(xts_data), <span class="st">"%m"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`01`
           Temperature Humidity
2020-01-01      -0.560     0.38
2021-01-01       0.401     1.01
2022-01-01      -0.625    -0.22
2023-01-01       0.554     2.19
2024-01-01       0.780    -0.38

$`02`
           Temperature Humidity
2020-02-01     -0.2302   -0.502
2021-02-01      0.1107   -0.709
2022-02-01     -1.6867    0.332
2023-02-01     -0.0619    1.533
2024-02-01     -0.0834    0.919

$`03`
           Temperature Humidity
2020-03-01       1.559   -0.333
2021-03-01      -0.556   -0.688
2022-03-01       0.838    1.097
2023-03-01      -0.306   -0.236
2024-03-01       0.253   -0.575

$`04`
           Temperature Humidity
2020-04-01      0.0705   -1.019
2021-04-01      1.7869    1.026
2022-04-01      0.1534    0.435
2023-04-01     -0.3805   -1.026
2024-04-01     -0.0285    0.608

$`05`
           Temperature Humidity
2020-05-01      0.1293   -1.072
2021-05-01      0.4979   -0.285
2022-05-01     -1.1381   -0.326
2023-05-01     -0.6947   -0.710
2024-05-01     -0.0429   -1.618

$`06`
           Temperature Humidity
2020-06-01       1.715   0.3035
2021-06-01      -1.967  -1.2207
2022-06-01       1.254   1.1488
2023-06-01      -0.208   0.2569
2024-06-01       1.369  -0.0556

$`07`
           Temperature Humidity
2020-07-01       0.461    0.448
2021-07-01       0.701    0.181
2022-07-01       0.426    0.994
2023-07-01      -1.265   -0.247
2024-07-01      -0.226    0.519

$`08`
           Temperature Humidity
2020-08-01      -1.265    0.053
2021-08-01      -0.473   -0.139
2022-08-01      -0.295    0.548
2023-08-01       2.169   -0.348
2024-08-01       1.516    0.301

$`09`
           Temperature Humidity
2020-09-01      -0.687  0.92227
2021-09-01      -1.068  0.00576
2022-09-01       0.895  0.23873
2023-09-01       1.208 -0.95162
2024-09-01      -1.549  0.10568

$`10`
           Temperature Humidity
2020-10-01      -0.446    2.050
2021-10-01      -0.218    0.385
2022-10-01       0.878   -0.628
2023-10-01      -1.123   -0.045
2024-10-01       0.585   -0.641

$`11`
           Temperature Humidity
2020-11-01       1.224   -0.491
2021-11-01      -1.026   -0.371
2022-11-01       0.822    1.361
2023-11-01      -0.403   -0.785
2024-11-01       0.124   -0.850

$`12`
           Temperature Humidity
2020-12-01       0.360   -2.309
2021-12-01      -0.729    0.644
2022-12-01       0.689   -0.600
2023-12-01      -0.467   -1.668
2024-12-01       0.216   -1.024</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<p style="text-align: center;">
Apply
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb510"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb510-1"><a href="#cb510-1"></a>(monthly_stats <span class="ot">&lt;-</span> <span class="fu">lapply</span>(</span>
<span id="cb510-2"><a href="#cb510-2"></a>  split_by_month,</span>
<span id="cb510-3"><a href="#cb510-3"></a>  <span class="cf">function</span>(x) {</span>
<span id="cb510-4"><a href="#cb510-4"></a>    <span class="fu">apply</span>(x, <span class="dv">2</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb510-5"><a href="#cb510-5"></a>  }))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`01`
Temperature    Humidity 
      0.110       0.594 

$`02`
Temperature    Humidity 
     -0.390       0.314 

$`03`
Temperature    Humidity 
      0.358      -0.147 

$`04`
Temperature    Humidity 
    0.32036     0.00474 

$`05`
Temperature    Humidity 
     -0.250      -0.802 

$`06`
Temperature    Humidity 
     0.4326      0.0866 

$`07`
Temperature    Humidity 
     0.0195      0.3791 

$`08`
Temperature    Humidity 
     0.3305      0.0832 

$`09`
Temperature    Humidity 
    -0.2401      0.0642 

$`10`
Temperature    Humidity 
    -0.0648      0.2243 

$`11`
Temperature    Humidity 
      0.148      -0.227 

$`12`
Temperature    Humidity 
     0.0138     -0.9914 </code></pre>
</div>
</div>
</div><div class="column" style="width:34%;">
<p style="text-align: center;">
Combine
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb512" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb512-1"><a href="#cb512-1" aria-hidden="true" tabindex="-1"></a>(combined_results <span class="ot">&lt;-</span> <span class="fu">do.call</span>(</span>
<span id="cb512-2"><a href="#cb512-2" aria-hidden="true" tabindex="-1"></a>  rbind, monthly_stats))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Temperature Humidity
01      0.1098  0.59440
02     -0.3903  0.31437
03      0.3576 -0.14708
04      0.3204  0.00474
05     -0.2497 -0.80216
06      0.4326  0.08659
07      0.0195  0.37915
08      0.3305  0.08322
09     -0.2401  0.06416
10     -0.0648  0.22435
11      0.1481 -0.22713
12      0.0138 -0.99142</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts <br> Averages for the same months/days/hours</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-split-apply-combineiii" class="title-slide slide level3 center">
<h3>Using Split-Apply-Combine/III</h3>
<div class="columns">
<div class="column" style="width:33%;">
<p style="text-align: center;">
Split
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb514"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb514-1"><a href="#cb514-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb514-2"><a href="#cb514-2"></a>(split_by_month <span class="ot">&lt;-</span> <span class="fu">split</span>(</span>
<span id="cb514-3"><a href="#cb514-3"></a>  xts_data, lubridate<span class="sc">::</span><span class="fu">month</span>(xts_data)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`
           Temperature Humidity
2020-01-01      -0.560     0.38
2021-01-01       0.401     1.01
2022-01-01      -0.625    -0.22
2023-01-01       0.554     2.19
2024-01-01       0.780    -0.38

$`2`
           Temperature Humidity
2020-02-01     -0.2302   -0.502
2021-02-01      0.1107   -0.709
2022-02-01     -1.6867    0.332
2023-02-01     -0.0619    1.533
2024-02-01     -0.0834    0.919

$`3`
           Temperature Humidity
2020-03-01       1.559   -0.333
2021-03-01      -0.556   -0.688
2022-03-01       0.838    1.097
2023-03-01      -0.306   -0.236
2024-03-01       0.253   -0.575

$`4`
           Temperature Humidity
2020-04-01      0.0705   -1.019
2021-04-01      1.7869    1.026
2022-04-01      0.1534    0.435
2023-04-01     -0.3805   -1.026
2024-04-01     -0.0285    0.608

$`5`
           Temperature Humidity
2020-05-01      0.1293   -1.072
2021-05-01      0.4979   -0.285
2022-05-01     -1.1381   -0.326
2023-05-01     -0.6947   -0.710
2024-05-01     -0.0429   -1.618

$`6`
           Temperature Humidity
2020-06-01       1.715   0.3035
2021-06-01      -1.967  -1.2207
2022-06-01       1.254   1.1488
2023-06-01      -0.208   0.2569
2024-06-01       1.369  -0.0556

$`7`
           Temperature Humidity
2020-07-01       0.461    0.448
2021-07-01       0.701    0.181
2022-07-01       0.426    0.994
2023-07-01      -1.265   -0.247
2024-07-01      -0.226    0.519

$`8`
           Temperature Humidity
2020-08-01      -1.265    0.053
2021-08-01      -0.473   -0.139
2022-08-01      -0.295    0.548
2023-08-01       2.169   -0.348
2024-08-01       1.516    0.301

$`9`
           Temperature Humidity
2020-09-01      -0.687  0.92227
2021-09-01      -1.068  0.00576
2022-09-01       0.895  0.23873
2023-09-01       1.208 -0.95162
2024-09-01      -1.549  0.10568

$`10`
           Temperature Humidity
2020-10-01      -0.446    2.050
2021-10-01      -0.218    0.385
2022-10-01       0.878   -0.628
2023-10-01      -1.123   -0.045
2024-10-01       0.585   -0.641

$`11`
           Temperature Humidity
2020-11-01       1.224   -0.491
2021-11-01      -1.026   -0.371
2022-11-01       0.822    1.361
2023-11-01      -0.403   -0.785
2024-11-01       0.124   -0.850

$`12`
           Temperature Humidity
2020-12-01       0.360   -2.309
2021-12-01      -0.729    0.644
2022-12-01       0.689   -0.600
2023-12-01      -0.467   -1.668
2024-12-01       0.216   -1.024</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<p style="text-align: center;">
Apply
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb516"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb516-1"><a href="#cb516-1"></a>(monthly_stats <span class="ot">&lt;-</span> <span class="fu">lapply</span>(</span>
<span id="cb516-2"><a href="#cb516-2"></a>  split_by_month,</span>
<span id="cb516-3"><a href="#cb516-3"></a>  apply, <span class="dv">2</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`
Temperature    Humidity 
      0.110       0.594 

$`2`
Temperature    Humidity 
     -0.390       0.314 

$`3`
Temperature    Humidity 
      0.358      -0.147 

$`4`
Temperature    Humidity 
    0.32036     0.00474 

$`5`
Temperature    Humidity 
     -0.250      -0.802 

$`6`
Temperature    Humidity 
     0.4326      0.0866 

$`7`
Temperature    Humidity 
     0.0195      0.3791 

$`8`
Temperature    Humidity 
     0.3305      0.0832 

$`9`
Temperature    Humidity 
    -0.2401      0.0642 

$`10`
Temperature    Humidity 
    -0.0648      0.2243 

$`11`
Temperature    Humidity 
      0.148      -0.227 

$`12`
Temperature    Humidity 
     0.0138     -0.9914 </code></pre>
</div>
</div>
</div><div class="column" style="width:34%;">
<p style="text-align: center;">
Combine
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb518" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb518-1"><a href="#cb518-1" aria-hidden="true" tabindex="-1"></a>(combined_results <span class="ot">&lt;-</span> <span class="fu">do.call</span>(</span>
<span id="cb518-2"><a href="#cb518-2" aria-hidden="true" tabindex="-1"></a>  rbind, monthly_stats))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Temperature Humidity
1       0.1098  0.59440
2      -0.3903  0.31437
3       0.3576 -0.14708
4       0.3204  0.00474
5      -0.2497 -0.80216
6       0.4326  0.08659
7       0.0195  0.37915
8       0.3305  0.08322
9      -0.2401  0.06416
10     -0.0648  0.22435
11      0.1481 -0.22713
12      0.0138 -0.99142</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts <br> Averages for the same months/days/hours</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-split-apply-combineiv" class="title-slide slide level3 center">
<h3>Using Split-Apply-Combine/IV</h3>
<div class="columns">
<div class="column" style="width:33%;">
<p style="text-align: center;">
Split
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb520"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb520-1"><a href="#cb520-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb520-2"><a href="#cb520-2"></a>(split_by_month <span class="ot">&lt;-</span> <span class="fu">split</span>(</span>
<span id="cb520-3"><a href="#cb520-3"></a>  xts_data, lubridate<span class="sc">::</span><span class="fu">month</span>(xts_data)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p style="text-align: center;">
Apply
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb521"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb521-1"><a href="#cb521-1"></a>(monthly_stats <span class="ot">&lt;-</span> <span class="fu">lapply</span>(</span>
<span id="cb521-2"><a href="#cb521-2"></a>  split_by_month,</span>
<span id="cb521-3"><a href="#cb521-3"></a>    <span class="cf">function</span>(x) {</span>
<span id="cb521-4"><a href="#cb521-4"></a>    <span class="fu">apply</span>(x, <span class="dv">2</span>, quantile,</span>
<span id="cb521-5"><a href="#cb521-5"></a>          <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>),</span>
<span id="cb521-6"><a href="#cb521-6"></a>          <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb521-7"><a href="#cb521-7"></a>  }))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`
    Temperature Humidity
25%      -0.560    -0.22
50%       0.401     0.38
75%       0.554     1.01

$`2`
    Temperature Humidity
25%     -0.2302   -0.502
50%     -0.0834    0.332
75%     -0.0619    0.919

$`3`
    Temperature Humidity
25%      -0.306   -0.575
50%       0.253   -0.333
75%       0.838   -0.236

$`4`
    Temperature Humidity
25%     -0.0285   -1.019
50%      0.0705    0.435
75%      0.1534    0.608

$`5`
    Temperature Humidity
25%     -0.6947   -1.072
50%     -0.0429   -0.710
75%      0.1293   -0.326

$`6`
    Temperature Humidity
25%      -0.208  -0.0556
50%       1.254   0.2569
75%       1.369   0.3035

$`7`
    Temperature Humidity
25%      -0.226    0.181
50%       0.426    0.448
75%       0.461    0.519

$`8`
    Temperature Humidity
25%      -0.473   -0.139
50%      -0.295    0.053
75%       1.516    0.301

$`9`
    Temperature Humidity
25%      -1.068  0.00576
50%      -0.687  0.10568
75%       0.895  0.23873

$`10`
    Temperature Humidity
25%      -0.446   -0.628
50%      -0.218   -0.045
75%       0.585    0.385

$`11`
    Temperature Humidity
25%      -0.403   -0.785
50%       0.124   -0.491
75%       0.822   -0.371

$`12`
    Temperature Humidity
25%      -0.467    -1.67
50%       0.216    -1.02
75%       0.360    -0.60</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<p style="text-align: center;">
Combine
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb523"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb523-1"><a href="#cb523-1"></a>combined_results <span class="ot">&lt;-</span> <span class="fu">do.call</span>(</span>
<span id="cb523-2"><a href="#cb523-2"></a>  rbind, monthly_stats)</span>
<span id="cb523-3"><a href="#cb523-3"></a><span class="fu">class</span>(combined_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb525"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb525-1"><a href="#cb525-1"></a><span class="fu">print</span>(combined_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Temperature Humidity
25%     -0.5605 -0.22049
50%      0.4008  0.37964
75%      0.5539  1.00574
25%     -0.2302 -0.50232
50%     -0.0834  0.33178
75%     -0.0619  0.91900
25%     -0.3060 -0.57535
50%      0.2533 -0.33321
75%      0.8378 -0.23570
25%     -0.0285 -1.01858
50%      0.0705  0.43518
75%      0.1534  0.60796
25%     -0.6947 -1.07179
50%     -0.0429 -0.71041
75%      0.1293 -0.32593
25%     -0.2079 -0.05556
50%      1.2538  0.25688
75%      1.3686  0.30353
25%     -0.2258  0.18130
50%      0.4265  0.44821
75%      0.4609  0.51941
25%     -0.4728 -0.13889
50%     -0.2951  0.05300
75%      1.5165  0.30115
25%     -1.0678  0.00576
50%     -0.6869  0.10568
75%      0.8951  0.23873
25%     -0.4457 -0.62791
50%     -0.2180 -0.04503
75%      0.5846  0.38528
25%     -0.4029 -0.78490
50%      0.1239 -0.49103
75%      0.8216 -0.37066
25%     -0.4667 -1.66794
50%      0.2159 -1.02413
75%      0.3598 -0.60026</code></pre>
</div>
</div>
</div><div class="column" style="width:34%;">
<p style="text-align: center;">
Organize
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb527"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb527-1"><a href="#cb527-1"></a>combined_results <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(combined_results)</span>
<span id="cb527-2"><a href="#cb527-2"></a><span class="fu">rownames</span>(combined_results) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb527-3"><a href="#cb527-3"></a>combined_results <span class="ot">&lt;-</span> <span class="fu">cbind</span>(</span>
<span id="cb527-4"><a href="#cb527-4"></a>  <span class="at">percentile =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">75</span>), <span class="fu">nrow</span>(combined_results) <span class="sc">/</span> <span class="dv">3</span>),</span>
<span id="cb527-5"><a href="#cb527-5"></a>  <span class="at">month =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(month.abb, <span class="at">each =</span> <span class="dv">3</span>)),</span>
<span id="cb527-6"><a href="#cb527-6"></a>  combined_results)</span>
<span id="cb527-7"><a href="#cb527-7"></a><span class="fu">print</span>(combined_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   percentile month Temperature Humidity
1          25   Jan     -0.5605 -0.22049
2          50   Jan      0.4008  0.37964
3          75   Jan      0.5539  1.00574
4          25   Feb     -0.2302 -0.50232
5          50   Feb     -0.0834  0.33178
6          75   Feb     -0.0619  0.91900
7          25   Mar     -0.3060 -0.57535
8          50   Mar      0.2533 -0.33321
9          75   Mar      0.8378 -0.23570
10         25   Apr     -0.0285 -1.01858
11         50   Apr      0.0705  0.43518
12         75   Apr      0.1534  0.60796
13         25   May     -0.6947 -1.07179
14         50   May     -0.0429 -0.71041
15         75   May      0.1293 -0.32593
16         25   Jun     -0.2079 -0.05556
17         50   Jun      1.2538  0.25688
18         75   Jun      1.3686  0.30353
19         25   Jul     -0.2258  0.18130
20         50   Jul      0.4265  0.44821
21         75   Jul      0.4609  0.51941
22         25   Aug     -0.4728 -0.13889
23         50   Aug     -0.2951  0.05300
24         75   Aug      1.5165  0.30115
25         25   Sep     -1.0678  0.00576
26         50   Sep     -0.6869  0.10568
27         75   Sep      0.8951  0.23873
28         25   Oct     -0.4457 -0.62791
29         50   Oct     -0.2180 -0.04503
30         75   Oct      0.5846  0.38528
31         25   Nov     -0.4029 -0.78490
32         50   Nov      0.1239 -0.49103
33         75   Nov      0.8216 -0.37066
34         25   Dec     -0.4667 -1.66794
35         50   Dec      0.2159 -1.02413
36         75   Dec      0.3598 -0.60026</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation with xts <br> Averages for the same months/days/hours</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
<!----------------------------------------------------------------------------->
</section>


<section id="reshaping-data" class="title-slide slide level2 center">
<h2>Reshaping data</h2>
<ul>
<li>Understanding Long and Wide Data Formats</li>
<li>Using reshape function</li>
<li>Using tidyr package</li>
</ul>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="understanding-long-and-wide-data-formats" class="title-slide slide level2 center">
<h2>Understanding Long and Wide Data Formats</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Long format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb529"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb529-1"><a href="#cb529-1"></a><span class="co"># Example long format data</span></span>
<span id="cb529-2"><a href="#cb529-2"></a>data_long <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb529-3"><a href="#cb529-3"></a>  <span class="at">City =</span> <span class="fu">c</span>(<span class="st">"Ankara"</span>, <span class="st">"Ankara"</span>, <span class="st">"Ankara"</span>, <span class="st">"Ankara"</span>,</span>
<span id="cb529-4"><a href="#cb529-4"></a>           <span class="st">"Istanbul"</span>, <span class="st">"Istanbul"</span>, <span class="st">"Istanbul"</span>,</span>
<span id="cb529-5"><a href="#cb529-5"></a>           <span class="st">"Istanbul"</span>),</span>
<span id="cb529-6"><a href="#cb529-6"></a>  <span class="at">Year =</span> <span class="fu">c</span>(<span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2023</span>,</span>
<span id="cb529-7"><a href="#cb529-7"></a>           <span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2023</span>),</span>
<span id="cb529-8"><a href="#cb529-8"></a>  <span class="at">Pollution =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">35</span>, <span class="dv">47</span>, <span class="dv">12</span>, <span class="dv">50</span>, <span class="dv">45</span>, <span class="dv">61</span>, <span class="dv">25</span>)</span>
<span id="cb529-9"><a href="#cb529-9"></a>)</span>
<span id="cb529-10"><a href="#cb529-10"></a><span class="fu">print</span>(data_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      City Year Pollution
1   Ankara 2020        40
2   Ankara 2021        35
3   Ankara 2022        47
4   Ankara 2023        12
5 Istanbul 2020        50
6 Istanbul 2021        45
7 Istanbul 2022        61
8 Istanbul 2023        25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb531"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb531-1"><a href="#cb531-1"></a><span class="fu">str</span>(data_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  3 variables:
 $ City     : chr  "Ankara" "Ankara" "Ankara" "Ankara" ...
 $ Year     : num  2020 2021 2022 2023 2020 ...
 $ Pollution: num  40 35 47 12 50 45 61 25</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
Wide format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb533"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb533-1"><a href="#cb533-1"></a><span class="co"># Example wide format data</span></span>
<span id="cb533-2"><a href="#cb533-2"></a>data_wide <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb533-3"><a href="#cb533-3"></a>  <span class="at">City =</span> <span class="fu">c</span>(<span class="st">"Ankara"</span>, <span class="st">"Istanbul"</span>),</span>
<span id="cb533-4"><a href="#cb533-4"></a>  <span class="at">Y2020 =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">50</span>),</span>
<span id="cb533-5"><a href="#cb533-5"></a>  <span class="at">Y2021 =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">45</span>),</span>
<span id="cb533-6"><a href="#cb533-6"></a>  <span class="at">Y2022 =</span> <span class="fu">c</span>(<span class="dv">47</span>, <span class="dv">61</span>),</span>
<span id="cb533-7"><a href="#cb533-7"></a>  <span class="at">Y2023 =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">25</span>)</span>
<span id="cb533-8"><a href="#cb533-8"></a>)</span>
<span id="cb533-9"><a href="#cb533-9"></a><span class="fu">print</span>(data_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      City Y2020 Y2021 Y2022 Y2023
1   Ankara    40    35    47    12
2 Istanbul    50    45    61    25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb535"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb535-1"><a href="#cb535-1"></a><span class="fu">str</span>(data_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   2 obs. of  5 variables:
 $ City : chr  "Ankara" "Istanbul"
 $ Y2020: num  40 50
 $ Y2021: num  35 45
 $ Y2022: num  47 61
 $ Y2023: num  12 25</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>
<section id="using-reshape-functioni" class="title-slide slide level3 center">
<h3>Using reshape Function/I</h3>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Long format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb537"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb537-1"><a href="#cb537-1"></a><span class="co"># from long to wide</span></span>
<span id="cb537-2"><a href="#cb537-2"></a>long_to_wide <span class="ot">&lt;-</span> <span class="fu">reshape</span>(data_long,</span>
<span id="cb537-3"><a href="#cb537-3"></a>                        <span class="at">timevar =</span> <span class="st">"Year"</span>,</span>
<span id="cb537-4"><a href="#cb537-4"></a>                        <span class="at">idvar =</span> <span class="st">"City"</span>,</span>
<span id="cb537-5"><a href="#cb537-5"></a>                        <span class="at">direction =</span> <span class="st">"wide"</span>)</span>
<span id="cb537-6"><a href="#cb537-6"></a><span class="co"># new_colnames &lt;- sapply(</span></span>
<span id="cb537-7"><a href="#cb537-7"></a><span class="co">#   colnames(long_to_wide)[-1],</span></span>
<span id="cb537-8"><a href="#cb537-8"></a><span class="co">#   function(x) strsplit(x, ".", fixed = TRUE)[[1]][[2]])</span></span>
<span id="cb537-9"><a href="#cb537-9"></a><span class="co"># colnames(long_to_wide)[-1] &lt;- new_colnames</span></span>
<span id="cb537-10"><a href="#cb537-10"></a><span class="fu">print</span>(long_to_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      City Pollution.2020 Pollution.2021 Pollution.2022
1   Ankara             40             35             47
5 Istanbul             50             45             61
  Pollution.2023
1             12
5             25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb539"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb539-1"><a href="#cb539-1"></a><span class="fu">str</span>(long_to_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   2 obs. of  5 variables:
 $ City          : chr  "Ankara" "Istanbul"
 $ Pollution.2020: num  40 50
 $ Pollution.2021: num  35 45
 $ Pollution.2022: num  47 61
 $ Pollution.2023: num  12 25
 - attr(*, "reshapeWide")=List of 5
  ..$ v.names: NULL
  ..$ timevar: chr "Year"
  ..$ idvar  : chr "City"
  ..$ times  : num [1:4] 2020 2021 2022 2023
  ..$ varying: chr [1, 1:4] "Pollution.2020" "Pollution.2021" "Pollution.2022" "Pollution.2023"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
Wide format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb541"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb541-1"><a href="#cb541-1"></a><span class="co"># from wide to long</span></span>
<span id="cb541-2"><a href="#cb541-2"></a>wide_to_long <span class="ot">&lt;-</span> <span class="fu">reshape</span>(</span>
<span id="cb541-3"><a href="#cb541-3"></a>  data_wide,</span>
<span id="cb541-4"><a href="#cb541-4"></a>  <span class="at">direction =</span> <span class="st">"long"</span>,</span>
<span id="cb541-5"><a href="#cb541-5"></a>  <span class="at">varying =</span> <span class="fu">list</span>(<span class="fu">colnames</span>(data_wide)[<span class="sc">-</span><span class="dv">1</span>]),</span>
<span id="cb541-6"><a href="#cb541-6"></a>  <span class="at">v.names =</span> <span class="st">"Value"</span>,</span>
<span id="cb541-7"><a href="#cb541-7"></a>  <span class="at">idvar =</span> <span class="st">"City"</span>,</span>
<span id="cb541-8"><a href="#cb541-8"></a>  <span class="at">timevar =</span> <span class="st">"Year"</span>,</span>
<span id="cb541-9"><a href="#cb541-9"></a>  <span class="at">times =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2023</span>,</span>
<span id="cb541-10"><a href="#cb541-10"></a>  <span class="at">new.row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>)</span>
<span id="cb541-11"><a href="#cb541-11"></a><span class="fu">print</span>(wide_to_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      City Year Value
1   Ankara 2020    40
2 Istanbul 2020    50
3   Ankara 2021    35
4 Istanbul 2021    45
5   Ankara 2022    47
6 Istanbul 2022    61
7   Ankara 2023    12
8 Istanbul 2023    25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb543"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb543-1"><a href="#cb543-1"></a><span class="fu">str</span>(wide_to_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  3 variables:
 $ City : chr  "Ankara" "Istanbul" "Ankara" "Istanbul" ...
 $ Year : int  2020 2020 2021 2021 2022 2022 2023 2023
 $ Value: num  40 50 35 45 47 61 12 25
 - attr(*, "reshapeLong")=List of 4
  ..$ varying:List of 1
  .. ..$ : chr [1:4] "Y2020" "Y2021" "Y2022" "Y2023"
  ..$ v.names: chr "Value"
  ..$ idvar  : chr "City"
  ..$ timevar: chr "Year"</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-reshape-functionii" class="title-slide slide level3 center">
<h3>Using reshape Function/II</h3>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Long format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb545"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb545-1"><a href="#cb545-1"></a><span class="co"># Revert back to long again</span></span>
<span id="cb545-2"><a href="#cb545-2"></a>long_again <span class="ot">=</span> <span class="fu">reshape</span>(long_to_wide)</span>
<span id="cb545-3"><a href="#cb545-3"></a><span class="fu">print</span>(long_again)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  City Year Pollution.2020
Ankara.2020     Ankara 2020             40
Istanbul.2020 Istanbul 2020             50
Ankara.2021     Ankara 2021             35
Istanbul.2021 Istanbul 2021             45
Ankara.2022     Ankara 2022             47
Istanbul.2022 Istanbul 2022             61
Ankara.2023     Ankara 2023             12
Istanbul.2023 Istanbul 2023             25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb547"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb547-1"><a href="#cb547-1"></a><span class="fu">str</span>(long_again)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   8 obs. of  3 variables:
 $ City          : chr  "Ankara" "Istanbul" "Ankara" "Istanbul" ...
 $ Year          : num  2020 2020 2021 2021 2022 ...
 $ Pollution.2020: num  40 50 35 45 47 61 12 25
 - attr(*, "reshapeLong")=List of 4
  ..$ varying:List of 1
  .. ..$ 1: chr [1:4] "Pollution.2020" "Pollution.2021" "Pollution.2022" "Pollution.2023"
  ..$ v.names: NULL
  ..$ idvar  : chr "City"
  ..$ timevar: chr "Year"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
Wide format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb549"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb549-1"><a href="#cb549-1"></a><span class="co"># Revert back to wide again</span></span>
<span id="cb549-2"><a href="#cb549-2"></a>wide_again <span class="ot">=</span> <span class="fu">reshape</span>(wide_to_long)</span>
<span id="cb549-3"><a href="#cb549-3"></a><span class="fu">print</span>(wide_again)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      City Y2020 Y2021 Y2022 Y2023
1   Ankara    40    35    47    12
2 Istanbul    50    45    61    25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb551"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb551-1"><a href="#cb551-1"></a><span class="fu">str</span>(wide_again)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   2 obs. of  5 variables:
 $ City : chr  "Ankara" "Istanbul"
 $ Y2020: num  40 50
 $ Y2021: num  35 45
 $ Y2022: num  47 61
 $ Y2023: num  12 25
 - attr(*, "reshapeWide")=List of 5
  ..$ v.names: chr "Value"
  ..$ timevar: chr "Year"
  ..$ idvar  : chr "City"
  ..$ times  : int [1:4] 2020 2021 2022 2023
  ..$ varying: chr [1, 1:4] "Y2020" "Y2021" "Y2022" "Y2023"</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="using-tidyr-pivotting-functions" class="title-slide slide level3 center">
<h3>Using tidyr pivotting functions</h3>
<div class="columns">
<div class="column" style="width:50%;">
<p style="text-align: center;">
Long format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb553"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb553-1"><a href="#cb553-1"></a>long_to_wide <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(</span>
<span id="cb553-2"><a href="#cb553-2"></a>  data_long, <span class="at">names_from =</span> Year, <span class="at">values_from =</span> Pollution)</span>
<span id="cb553-3"><a href="#cb553-3"></a><span class="fu">print</span>(long_to_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  City     `2020` `2021` `2022` `2023`
  &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Ankara       40     35     47     12
2 Istanbul     50     45     61     25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb555"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb555-1"><a href="#cb555-1"></a><span class="fu">str</span>(long_to_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [2 × 5] (S3: tbl_df/tbl/data.frame)
 $ City: chr [1:2] "Ankara" "Istanbul"
 $ 2020: num [1:2] 40 50
 $ 2021: num [1:2] 35 45
 $ 2022: num [1:2] 47 61
 $ 2023: num [1:2] 12 25</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p style="text-align: center;">
Wide format
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb557"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb557-1"><a href="#cb557-1"></a>wide_to_long <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb557-2"><a href="#cb557-2"></a>  data_wide, <span class="at">cols =</span> <span class="fu">colnames</span>(data_wide)[<span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb557-3"><a href="#cb557-3"></a>  <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Pollution"</span>)</span>
<span id="cb557-4"><a href="#cb557-4"></a><span class="fu">print</span>(wide_to_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  City     Year  Pollution
  &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt;
1 Ankara   Y2020        40
2 Ankara   Y2021        35
3 Ankara   Y2022        47
4 Ankara   Y2023        12
5 Istanbul Y2020        50
6 Istanbul Y2021        45
7 Istanbul Y2022        61
8 Istanbul Y2023        25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb559"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb559-1"><a href="#cb559-1"></a><span class="fu">str</span>(wide_to_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [8 × 3] (S3: tbl_df/tbl/data.frame)
 $ City     : chr [1:8] "Ankara" "Ankara" "Ankara" "Ankara" ...
 $ Year     : chr [1:8] "Y2020" "Y2021" "Y2022" "Y2023" ...
 $ Pollution: num [1:8] 40 35 47 12 50 45 61 25</code></pre>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="other-ways-to-reshape-data" class="title-slide slide level3 center">
<h3>Other ways to reshape data</h3>
<ul>
<li>Using <code>melt()</code> and <code>cast()</code> functions from <code>reshape2</code> package</li>
<li>Using <code>gather()</code> and <code>spread()</code> functions from <code>tidyr</code> package</li>
<li>Using <code>melt()</code> and <code>dcast()</code> functions from <code>data.table</code> package</li>
</ul>
<p><strong>Data Transformation with dplyr package:</strong></p>
<ol type="1">
<li><strong>dplyr Package:</strong> A part of the <em>tidyverse</em>, known for its easy-to-use syntax and speed.</li>
<li><strong>Selecting Columns:</strong> <code>select()</code> for choosing columns.</li>
<li><strong>Filtering Rows:</strong> <code>filter()</code> to select rows based on conditions.</li>
<li><strong>Arranging Data:</strong> <code>arrange()</code> to sort data.</li>
<li><strong>Mutating:</strong> <code>mutate()</code> and <code>transmute()</code> for adding new columns or transforming existing ones.</li>
<li><strong>Summarizing:</strong> <code>summarise()</code> to calculate summary statistics.</li>
<li><strong>Group Operations:</strong> <code>group_by()</code> for group-wise operations.</li>
</ol>
<div class="footer">
<p>Data Manipulation</p>
</div>
<!----------------------------------------------------------------------------->
</section>

<section id="further-resources" class="title-slide slide level3 center">
<h3>Further resources</h3>
<ul>
<li><a href="https://r4ds.had.co.nz/transform.html">Data Transformation with dplyr</a></li>
<li><a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html">Data Transformation with data.table</a></li>
<li><a href="https://cran.r-project.org/web/packages/janitor/vignettes/janitor.html">Data Transformation with janitor</a></li>
<li><a href="https://tidyr.tidyverse.org/articles/tidy-data.html">Data Transformation with tidyr</a></li>
<li><a href="https://cran.r-project.org/web/packages/reshape2/vignettes/reshape-intro.html">Data Transformation with reshape2</a></li>
<li><a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html">Data Transformation with data.table</a></li>
<li><a href="https://r4ds.had.co.nz/strings.html">Working with text data</a></li>
<li><a href="https://r4ds.had.co.nz/dates-and-times.html">Dealing with Dates and Times</a></li>
</ul>
<div class="footer">
<p>Data Manipulation</p>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>
<div class="cell">
<style type="text/css">
.reveal div.sourceCode{
  border: 2px solid #641E16;
  background-color: #FFFFFF;
  margin: 0.5em 0 0.5em 0;
}
</style>
</div>

<img src="../presentation_files/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>Introduction to R</p>
</div>
</section>

</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../presentation_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../presentation_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../presentation_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../presentation_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"boardmarkerWidth":5},
'multiplex': {"secret":null,"id":"8c67619bee243a81","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h/v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1500,

        height: 1000,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>